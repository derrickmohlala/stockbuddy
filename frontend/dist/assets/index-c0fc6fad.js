var nb=Object.defineProperty;var rb=(t,e,n)=>e in t?nb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(rb(t,typeof e!="symbol"?e+"":e,n),n);function sb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ib(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},cl={},Kp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),ab=Symbol.for("react.portal"),ob=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),db=Symbol.for("react.provider"),ub=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),mb=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),of=Symbol.iterator;function gb(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,qp={};function Ds(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Qp}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zp(){}Zp.prototype=Ds.prototype;function au(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Qp}var ou=au.prototype=new Zp;ou.constructor=au;Jp(ou,Ds.prototype);ou.isPureReactComponent=!0;var lf=Array.isArray,eg=Object.prototype.hasOwnProperty,lu={current:null},tg={key:!0,ref:!0,__self:!0,__source:!0};function ng(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)eg.call(e,r)&&!tg.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ra,type:t,key:i,ref:a,props:s,_owner:lu.current}}function xb(t,e){return{$$typeof:ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ra}function yb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cf=/\/+/g;function fc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yb(""+t.key):e.toString(36)}function lo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ra:case ab:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+fc(a,0):r,lf(s)?(n="",t!=null&&(n=t.replace(cf,"$&/")+"/"),lo(s,e,n,"",function(d){return d})):s!=null&&(cu(s)&&(s=xb(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(cf,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",lf(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+fc(i,l);a+=lo(i,e,n,c,s)}else if(c=gb(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+fc(i,l++),a+=lo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ta(t,e,n){if(t==null)return t;var r=[],s=0;return lo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},co={transition:null},vb={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:co,ReactCurrentOwner:lu};function rg(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ta,forEach:function(t,e,n){Ta(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ta(t,function(){e++}),e},toArray:function(t){return Ta(t,function(e){return e})||[]},only:function(t){if(!cu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Ds;ie.Fragment=ob;ie.Profiler=cb;ie.PureComponent=au;ie.StrictMode=lb;ie.Suspense=fb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vb;ie.act=rg;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jp({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=lu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)eg.call(e,c)&&!tg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ra,type:t.type,key:s,ref:i,props:r,_owner:a}};ie.createContext=function(t){return t={$$typeof:ub,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:db,_context:t},t.Consumer=t};ie.createElement=ng;ie.createFactory=function(t){var e=ng.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:hb,render:t}};ie.isValidElement=cu;ie.lazy=function(t){return{$$typeof:pb,_payload:{_status:-1,_result:t},_init:bb}};ie.memo=function(t,e){return{$$typeof:mb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=co.transition;co.transition={};try{t()}finally{co.transition=e}};ie.unstable_act=rg;ie.useCallback=function(t,e){return ht.current.useCallback(t,e)};ie.useContext=function(t){return ht.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ie.useEffect=function(t,e){return ht.current.useEffect(t,e)};ie.useId=function(){return ht.current.useId()};ie.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return ht.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};ie.useRef=function(t){return ht.current.useRef(t)};ie.useState=function(t){return ht.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return ht.current.useTransition()};ie.version="18.3.1";Kp.exports=ie;var w=Kp.exports;const an=ib(w),kb=sb({__proto__:null,default:an},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=w,_b=Symbol.for("react.element"),jb=Symbol.for("react.fragment"),Nb=Object.prototype.hasOwnProperty,Sb=wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cb={key:!0,ref:!0,__self:!0,__source:!0};function sg(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Nb.call(e,r)&&!Cb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_b,type:t,key:i,ref:a,props:s,_owner:Sb.current}}cl.Fragment=jb;cl.jsx=sg;cl.jsxs=sg;Xp.exports=cl;var o=Xp.exports,Jc={},ig={exports:{}},Pt={},ag={exports:{}},og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,W){var Q=I.length;I.push(W);e:for(;0<Q;){var re=Q-1>>>1,ce=I[re];if(0<s(ce,W))I[re]=W,I[Q]=ce,Q=re;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var W=I[0],Q=I.pop();if(Q!==W){I[0]=Q;e:for(var re=0,ce=I.length,Ee=ce>>>1;re<Ee;){var Te=2*(re+1)-1,Je=I[Te],Ne=Te+1,$=I[Ne];if(0>s(Je,Q))Ne<ce&&0>s($,Je)?(I[re]=$,I[Ne]=Q,re=Ne):(I[re]=Je,I[Te]=Q,re=Te);else if(Ne<ce&&0>s($,Q))I[re]=$,I[Ne]=Q,re=Ne;else break e}}return W}function s(I,W){var Q=I.sortIndex-W.sortIndex;return Q!==0?Q:I.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=I)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function _(I){if(x=!1,b(I),!v)if(n(c)!==null)v=!0,ne(j);else{var W=n(d);W!==null&&V(_,W.startTime-I)}}function j(I,W){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var Q=f;try{for(b(W),h=n(c);h!==null&&(!(h.expirationTime>W)||I&&!F());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var ce=re(h.expirationTime<=W);W=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(c)&&r(c),b(W)}else r(c);h=n(c)}if(h!==null)var Ee=!0;else{var Te=n(d);Te!==null&&V(_,Te.startTime-W),Ee=!1}return Ee}finally{h=null,f=Q,m=!1}}var M=!1,C=null,P=-1,E=5,T=-1;function F(){return!(t.unstable_now()-T<E)}function N(){if(C!==null){var I=t.unstable_now();T=I;var W=!0;try{W=C(!0,I)}finally{W?D():(M=!1,C=null)}}else M=!1}var D;if(typeof y=="function")D=function(){y(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=N,D=function(){z.postMessage(null)}}else D=function(){k(N,0)};function ne(I){C=I,M||(M=!0,D())}function V(I,W){P=k(function(){I(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ne(j))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Q=f;f=W;try{return I()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,W){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=f;f=I;try{return W()}finally{f=Q}},t.unstable_scheduleCallback=function(I,W,Q){var re=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,I){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,I={id:u++,callback:W,priorityLevel:I,startTime:Q,expirationTime:ce,sortIndex:-1},Q>re?(I.sortIndex=Q,e(d,I),n(c)===null&&I===n(d)&&(x?(g(P),P=-1):x=!0,V(_,Q-re))):(I.sortIndex=ce,e(c,I),v||m||(v=!0,ne(j))),I},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(I){var W=f;return function(){var Q=f;f=W;try{return I.apply(this,arguments)}finally{f=Q}}}})(og);ag.exports=og;var Mb=ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=w,Mt=Mb;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lg=new Set,Ti={};function zr(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(Ti[t]=e,t=0;t<e.length;t++)lg.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,df={},uf={};function Tb(t){return qc.call(uf,t)?!0:qc.call(df,t)?!1:Eb.test(t)?uf[t]=!0:(df[t]=!0,!1)}function Rb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lb(t,e,n,r){if(e===null||typeof e>"u"||Rb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function uu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(du,uu);Qe[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(du,uu);Qe[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(du,uu);Qe[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function hu(t,e,n,r){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lb(e,n,s,r)&&(n=null),r||s===null?Tb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tn=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),ug=Symbol.for("react.offscreen"),hf=Symbol.iterator;function Qs(t){return t===null||typeof t!="object"?null:(t=hf&&t[hf]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,mc;function di(t){if(mc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mc=e&&e[1]||""}return`
`+mc+t}var pc=!1;function gc(t,e){if(!t||pc)return"";pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?di(t):""}function Db(t){switch(t.tag){case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return t=gc(t.type,!1),t;case 11:return t=gc(t.type.render,!1),t;case 1:return t=gc(t.type,!0),t;default:return""}}function nd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case qr:return"Portal";case Zc:return"Profiler";case fu:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dg:return(t.displayName||"Context")+".Consumer";case cg:return(t._context.displayName||"Context")+".Provider";case mu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pu:return e=t.displayName||null,e!==null?e:nd(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return nd(t(e))}catch{}}return null}function Ab(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(e);case 8:return e===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ob(t){var e=hg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=Ob(t))}function fg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rd(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ff(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mg(t,e){e=e.checked,e!=null&&hu(t,"checked",e,!1)}function sd(t,e){mg(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?id(t,e.type,n):e.hasOwnProperty("defaultValue")&&id(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function id(t,e,n){(e!=="number"||jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ui=Array.isArray;function hs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ad(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(ui(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function pg(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Da,xg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ib=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(t){Ib.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yi[e]=yi[t]})});function yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yi.hasOwnProperty(t)&&yi[t]?(""+e).trim():e+"px"}function bg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Fb=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ld(t,e){if(e){if(Fb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function cd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ud=null,fs=null,ms=null;function xf(t){if(t=aa(t)){if(typeof ud!="function")throw Error(A(280));var e=t.stateNode;e&&(e=ml(e),ud(t.stateNode,t.type,e))}}function vg(t){fs?ms?ms.push(t):ms=[t]:fs=t}function kg(){if(fs){var t=fs,e=ms;if(ms=fs=null,xf(t),e)for(t=0;t<e.length;t++)xf(e[t])}}function wg(t,e){return t(e)}function _g(){}var xc=!1;function jg(t,e,n){if(xc)return t(e,n);xc=!0;try{return wg(t,e,n)}finally{xc=!1,(fs!==null||ms!==null)&&(_g(),kg())}}function Li(t,e){var n=t.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var hd=!1;if(Cn)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){hd=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{hd=!1}function zb(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var bi=!1,No=null,So=!1,fd=null,Bb={onError:function(t){bi=!0,No=t}};function $b(t,e,n,r,s,i,a,l,c){bi=!1,No=null,zb.apply(Bb,arguments)}function Wb(t,e,n,r,s,i,a,l,c){if($b.apply(this,arguments),bi){if(bi){var d=No;bi=!1,No=null}else throw Error(A(198));So||(So=!0,fd=d)}}function Br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ng(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yf(t){if(Br(t)!==t)throw Error(A(188))}function Vb(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yf(s),t;if(i===r)return yf(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Sg(t){return t=Vb(t),t!==null?Cg(t):null}function Cg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cg(t);if(e!==null)return e;t=t.sibling}return null}var Mg=Mt.unstable_scheduleCallback,bf=Mt.unstable_cancelCallback,Hb=Mt.unstable_shouldYield,Ub=Mt.unstable_requestPaint,Ie=Mt.unstable_now,Yb=Mt.unstable_getCurrentPriorityLevel,xu=Mt.unstable_ImmediatePriority,Pg=Mt.unstable_UserBlockingPriority,Co=Mt.unstable_NormalPriority,Gb=Mt.unstable_LowPriority,Eg=Mt.unstable_IdlePriority,dl=null,ln=null;function Xb(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Jb,Kb=Math.log,Qb=Math.LN2;function Jb(t){return t>>>=0,t===0?32:31-(Kb(t)/Qb|0)|0}var Aa=64,Oa=4194304;function hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=hi(l):(i&=a,i!==0&&(r=hi(i)))}else a=n&~s,a!==0?r=hi(a):i!==0&&(r=hi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),s=1<<n,r|=t[n],e&=~s;return r}function qb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Kt(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=qb(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tg(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function yc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function ev(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function Rg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lg,bu,Dg,Ag,Og,pd=!1,Ia=[],Yn=null,Gn=null,Xn=null,Di=new Map,Ai=new Map,In=[],tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vf(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(e.pointerId)}}function qs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=aa(e),e!==null&&bu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nv(t,e,n,r,s){switch(e){case"focusin":return Yn=qs(Yn,t,e,n,r,s),!0;case"dragenter":return Gn=qs(Gn,t,e,n,r,s),!0;case"mouseover":return Xn=qs(Xn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Di.set(i,qs(Di.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ai.set(i,qs(Ai.get(i)||null,t,e,n,r,s)),!0}return!1}function Ig(t){var e=jr(t.target);if(e!==null){var n=Br(e);if(n!==null){if(e=n.tag,e===13){if(e=Ng(n),e!==null){t.blockedOn=e,Og(t.priority,function(){Dg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dd=r,n.target.dispatchEvent(r),dd=null}else return e=aa(n),e!==null&&bu(e),t.blockedOn=n,!1;e.shift()}return!0}function kf(t,e,n){uo(t)&&n.delete(e)}function rv(){pd=!1,Yn!==null&&uo(Yn)&&(Yn=null),Gn!==null&&uo(Gn)&&(Gn=null),Xn!==null&&uo(Xn)&&(Xn=null),Di.forEach(kf),Ai.forEach(kf)}function Zs(t,e){t.blockedOn===e&&(t.blockedOn=null,pd||(pd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,rv)))}function Oi(t){function e(s){return Zs(s,t)}if(0<Ia.length){Zs(Ia[0],t);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yn!==null&&Zs(Yn,t),Gn!==null&&Zs(Gn,t),Xn!==null&&Zs(Xn,t),Di.forEach(e),Ai.forEach(e),n=0;n<In.length;n++)r=In[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)Ig(n),n.blockedOn===null&&In.shift()}var ps=Tn.ReactCurrentBatchConfig,Po=!0;function sv(t,e,n,r){var s=xe,i=ps.transition;ps.transition=null;try{xe=1,vu(t,e,n,r)}finally{xe=s,ps.transition=i}}function iv(t,e,n,r){var s=xe,i=ps.transition;ps.transition=null;try{xe=4,vu(t,e,n,r)}finally{xe=s,ps.transition=i}}function vu(t,e,n,r){if(Po){var s=gd(t,e,n,r);if(s===null)Mc(t,e,r,Eo,n),vf(t,r);else if(nv(s,t,e,n,r))r.stopPropagation();else if(vf(t,r),e&4&&-1<tv.indexOf(t)){for(;s!==null;){var i=aa(s);if(i!==null&&Lg(i),i=gd(t,e,n,r),i===null&&Mc(t,e,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mc(t,e,r,null,n)}}var Eo=null;function gd(t,e,n,r){if(Eo=null,t=gu(r),t=jr(t),t!==null)if(e=Br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ng(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function Fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yb()){case xu:return 1;case Pg:return 4;case Co:case Gb:return 16;case Eg:return 536870912;default:return 16}default:return 16}}var zn=null,ku=null,ho=null;function zg(){if(ho)return ho;var t,e=ku,n=e.length,r,s="value"in zn?zn.value:zn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ho=s.slice(t,1<r?1-r:void 0)}function fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fa(){return!0}function wf(){return!1}function Et(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fa:wf,this.isPropagationStopped=wf,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Et(As),ia=Pe({},As,{view:0,detail:0}),av=Et(ia),bc,vc,ei,ul=Pe({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(bc=t.screenX-ei.screenX,vc=t.screenY-ei.screenY):vc=bc=0,ei=t),bc)},movementY:function(t){return"movementY"in t?t.movementY:vc}}),_f=Et(ul),ov=Pe({},ul,{dataTransfer:0}),lv=Et(ov),cv=Pe({},ia,{relatedTarget:0}),kc=Et(cv),dv=Pe({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=Et(dv),hv=Pe({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fv=Et(hv),mv=Pe({},As,{data:0}),jf=Et(mv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xv[t])?!!e[t]:!1}function _u(){return yv}var bv=Pe({},ia,{key:function(t){if(t.key){var e=pv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vv=Et(bv),kv=Pe({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=Et(kv),wv=Pe({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),_v=Et(wv),jv=Pe({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=Et(jv),Sv=Pe({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Et(Sv),Mv=[9,13,27,32],ju=Cn&&"CompositionEvent"in window,vi=null;Cn&&"documentMode"in document&&(vi=document.documentMode);var Pv=Cn&&"TextEvent"in window&&!vi,Bg=Cn&&(!ju||vi&&8<vi&&11>=vi),Sf=String.fromCharCode(32),Cf=!1;function $g(t,e){switch(t){case"keyup":return Mv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function Ev(t,e){switch(t){case"compositionend":return Wg(e);case"keypress":return e.which!==32?null:(Cf=!0,Sf);case"textInput":return t=e.data,t===Sf&&Cf?null:t;default:return null}}function Tv(t,e){if(es)return t==="compositionend"||!ju&&$g(t,e)?(t=zg(),ho=ku=zn=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bg&&e.locale!=="ko"?null:e.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rv[t.type]:e==="textarea"}function Vg(t,e,n,r){vg(r),e=To(e,"onChange"),0<e.length&&(n=new wu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ki=null,Ii=null;function Lv(t){e0(t,0)}function hl(t){var e=rs(t);if(fg(e))return t}function Dv(t,e){if(t==="change")return e}var Hg=!1;if(Cn){var wc;if(Cn){var _c="oninput"in document;if(!_c){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),_c=typeof Pf.oninput=="function"}wc=_c}else wc=!1;Hg=wc&&(!document.documentMode||9<document.documentMode)}function Ef(){ki&&(ki.detachEvent("onpropertychange",Ug),Ii=ki=null)}function Ug(t){if(t.propertyName==="value"&&hl(Ii)){var e=[];Vg(e,Ii,t,gu(t)),jg(Lv,e)}}function Av(t,e,n){t==="focusin"?(Ef(),ki=e,Ii=n,ki.attachEvent("onpropertychange",Ug)):t==="focusout"&&Ef()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(Ii)}function Iv(t,e){if(t==="click")return hl(e)}function Fv(t,e){if(t==="input"||t==="change")return hl(e)}function zv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:zv;function Fi(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qc.call(e,s)||!Jt(t[s],e[s]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rf(t,e){var n=Tf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tf(n)}}function Yg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gg(){for(var t=window,e=jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jo(t.document)}return e}function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bv(t){var e=Gg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yg(n.ownerDocument.documentElement,n)){if(r!==null&&Nu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Rf(n,i);var a=Rf(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $v=Cn&&"documentMode"in document&&11>=document.documentMode,ts=null,xd=null,wi=null,yd=!1;function Lf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yd||ts==null||ts!==jo(r)||(r=ts,"selectionStart"in r&&Nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wi&&Fi(wi,r)||(wi=r,r=To(xd,"onSelect"),0<r.length&&(e=new wu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ts)))}function za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ns={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},jc={},Xg={};Cn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function fl(t){if(jc[t])return jc[t];if(!ns[t])return t;var e=ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xg)return jc[t]=e[n];return t}var Kg=fl("animationend"),Qg=fl("animationiteration"),Jg=fl("animationstart"),qg=fl("transitionend"),Zg=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(t,e){Zg.set(t,e),zr(e,[t])}for(var Nc=0;Nc<Df.length;Nc++){var Sc=Df[Nc],Wv=Sc.toLowerCase(),Vv=Sc[0].toUpperCase()+Sc.slice(1);ar(Wv,"on"+Vv)}ar(Kg,"onAnimationEnd");ar(Qg,"onAnimationIteration");ar(Jg,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(qg,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function Af(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wb(r,e,void 0,t),t.currentTarget=null}function e0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Af(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Af(s,l,d),i=c}}}if(So)throw t=fd,So=!1,fd=null,t}function ke(t,e){var n=e[_d];n===void 0&&(n=e[_d]=new Set);var r=t+"__bubble";n.has(r)||(t0(e,t,2,!1),n.add(r))}function Cc(t,e,n){var r=0;e&&(r|=4),t0(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function zi(t){if(!t[Ba]){t[Ba]=!0,lg.forEach(function(n){n!=="selectionchange"&&(Hv.has(n)||Cc(n,!1,t),Cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,Cc("selectionchange",!1,e))}}function t0(t,e,n,r){switch(Fg(e)){case 1:var s=sv;break;case 4:s=iv;break;default:s=vu}n=s.bind(null,e,n,t),s=void 0,!hd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=jr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}jg(function(){var d=i,u=gu(n),h=[];e:{var f=Zg.get(t);if(f!==void 0){var m=wu,v=t;switch(t){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":m=vv;break;case"focusin":v="focus",m=kc;break;case"focusout":v="blur",m=kc;break;case"beforeblur":case"afterblur":m=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_v;break;case Kg:case Qg:case Jg:m=uv;break;case qg:m=Nv;break;case"scroll":m=av;break;case"wheel":m=Cv;break;case"copy":case"cut":case"paste":m=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Nf}var x=(e&4)!==0,k=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var y=d,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Li(y,g),_!=null&&x.push(Bi(y,_,b)))),k)break;y=y.return}0<x.length&&(f=new m(f,v,null,n,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==dd&&(v=n.relatedTarget||n.fromElement)&&(jr(v)||v[Mn]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=d,v=v?jr(v):null,v!==null&&(k=Br(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(x=_f,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=Nf,_="onPointerLeave",g="onPointerEnter",y="pointer"),k=m==null?f:rs(m),b=v==null?f:rs(v),f=new x(_,y+"leave",m,n,u),f.target=k,f.relatedTarget=b,_=null,jr(u)===d&&(x=new x(g,y+"enter",v,n,u),x.target=b,x.relatedTarget=k,_=x),k=_,m&&v)t:{for(x=m,g=v,y=0,b=x;b;b=Kr(b))y++;for(b=0,_=g;_;_=Kr(_))b++;for(;0<y-b;)x=Kr(x),y--;for(;0<b-y;)g=Kr(g),b--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=Kr(x),g=Kr(g)}x=null}else x=null;m!==null&&Of(h,f,m,x,!1),v!==null&&k!==null&&Of(h,k,v,x,!0)}}e:{if(f=d?rs(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=Dv;else if(Mf(f))if(Hg)j=Fv;else{j=Ov;var M=Av}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Iv);if(j&&(j=j(t,d))){Vg(h,j,n,u);break e}M&&M(t,f,d),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&id(f,"number",f.value)}switch(M=d?rs(d):window,t){case"focusin":(Mf(M)||M.contentEditable==="true")&&(ts=M,xd=d,wi=null);break;case"focusout":wi=xd=ts=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Lf(h,n,u);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Lf(h,n,u)}var C;if(ju)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else es?$g(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Bg&&n.locale!=="ko"&&(es||P!=="onCompositionStart"?P==="onCompositionEnd"&&es&&(C=zg()):(zn=u,ku="value"in zn?zn.value:zn.textContent,es=!0)),M=To(d,P),0<M.length&&(P=new jf(P,t,null,n,u),h.push({event:P,listeners:M}),C?P.data=C:(C=Wg(n),C!==null&&(P.data=C)))),(C=Pv?Ev(t,n):Tv(t,n))&&(d=To(d,"onBeforeInput"),0<d.length&&(u=new jf("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}e0(h,e)})}function Bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function To(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Li(t,n),i!=null&&r.unshift(Bi(t,i,s)),i=Li(t,e),i!=null&&r.push(Bi(t,i,s))),t=t.return}return r}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Of(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Li(n,i),c!=null&&a.unshift(Bi(n,c,l))):s||(c=Li(n,i),c!=null&&a.push(Bi(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Uv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(Uv,`
`).replace(Yv,"")}function $a(t,e,n){if(e=If(e),If(t)!==e&&n)throw Error(A(425))}function Ro(){}var bd=null,vd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(t){return Ff.resolve(null).then(t).catch(Kv)}:wd;function Kv(t){setTimeout(function(){throw t})}function Pc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oi(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Os=Math.random().toString(36).slice(2),sn="__reactFiber$"+Os,$i="__reactProps$"+Os,Mn="__reactContainer$"+Os,_d="__reactEvents$"+Os,Qv="__reactListeners$"+Os,Jv="__reactHandles$"+Os;function jr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mn]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zf(t);t!==null;){if(n=t[sn])return n;t=zf(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[sn]||t[Mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function ml(t){return t[$i]||null}var jd=[],ss=-1;function or(t){return{current:t}}function we(t){0>ss||(t.current=jd[ss],jd[ss]=null,ss--)}function ve(t,e){ss++,jd[ss]=t.current,t.current=e}var rr={},it=or(rr),kt=or(!1),Rr=rr;function ws(t,e){var n=t.type.contextTypes;if(!n)return rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function Lo(){we(kt),we(it)}function Bf(t,e,n){if(it.current!==rr)throw Error(A(168));ve(it,e),ve(kt,n)}function n0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,Ab(t)||"Unknown",s));return Pe({},n,r)}function Do(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Rr=it.current,ve(it,t),ve(kt,kt.current),!0}function $f(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=n0(t,e,Rr),r.__reactInternalMemoizedMergedChildContext=t,we(kt),we(it),ve(it,t)):we(kt),ve(kt,n)}var kn=null,pl=!1,Ec=!1;function r0(t){kn===null?kn=[t]:kn.push(t)}function qv(t){pl=!0,r0(t)}function lr(){if(!Ec&&kn!==null){Ec=!0;var t=0,e=xe;try{var n=kn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,pl=!1}catch(s){throw kn!==null&&(kn=kn.slice(t+1)),Mg(xu,lr),s}finally{xe=e,Ec=!1}}return null}var is=[],as=0,Ao=null,Oo=0,Dt=[],At=0,Lr=null,_n=1,jn="";function vr(t,e){is[as++]=Oo,is[as++]=Ao,Ao=t,Oo=e}function s0(t,e,n){Dt[At++]=_n,Dt[At++]=jn,Dt[At++]=Lr,Lr=t;var r=_n;t=jn;var s=32-Kt(r)-1;r&=~(1<<s),n+=1;var i=32-Kt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,_n=1<<32-Kt(e)+s|n<<s|r,jn=i+t}else _n=1<<i|n<<s|r,jn=t}function Su(t){t.return!==null&&(vr(t,1),s0(t,1,0))}function Cu(t){for(;t===Ao;)Ao=is[--as],is[as]=null,Oo=is[--as],is[as]=null;for(;t===Lr;)Lr=Dt[--At],Dt[At]=null,jn=Dt[--At],Dt[At]=null,_n=Dt[--At],Dt[At]=null}var Ct=null,St=null,_e=!1,Xt=null;function i0(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,St=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lr!==null?{id:_n,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,St=null,!0):!1;default:return!1}}function Nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sd(t){if(_e){var e=St;if(e){var n=e;if(!Wf(t,e)){if(Nd(t))throw Error(A(418));e=Kn(n.nextSibling);var r=Ct;e&&Wf(t,e)?i0(r,n):(t.flags=t.flags&-4097|2,_e=!1,Ct=t)}}else{if(Nd(t))throw Error(A(418));t.flags=t.flags&-4097|2,_e=!1,Ct=t}}}function Vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function Wa(t){if(t!==Ct)return!1;if(!_e)return Vf(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=St)){if(Nd(t))throw a0(),Error(A(418));for(;e;)i0(t,e),e=Kn(e.nextSibling)}if(Vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=Ct?Kn(t.stateNode.nextSibling):null;return!0}function a0(){for(var t=St;t;)t=Kn(t.nextSibling)}function _s(){St=Ct=null,_e=!1}function Mu(t){Xt===null?Xt=[t]:Xt.push(t)}var Zv=Tn.ReactCurrentBatchConfig;function ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hf(t){var e=t._init;return e(t._payload)}function o0(t){function e(g,y){if(t){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Zn(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,_){return y===null||y.tag!==6?(y=Ic(b,g.mode,_),y.return=g,y):(y=s(y,b),y.return=g,y)}function c(g,y,b,_){var j=b.type;return j===Zr?u(g,y,b.props.children,_,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===An&&Hf(j)===y.type)?(_=s(y,b.props),_.ref=ti(g,y,b),_.return=g,_):(_=vo(b.type,b.key,b.props,null,g.mode,_),_.ref=ti(g,y,b),_.return=g,_)}function d(g,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Fc(b,g.mode,_),y.return=g,y):(y=s(y,b.children||[]),y.return=g,y)}function u(g,y,b,_,j){return y===null||y.tag!==7?(y=Pr(b,g.mode,_,j),y.return=g,y):(y=s(y,b),y.return=g,y)}function h(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ic(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ra:return b=vo(y.type,y.key,y.props,null,g.mode,b),b.ref=ti(g,null,y),b.return=g,b;case qr:return y=Fc(y,g.mode,b),y.return=g,y;case An:var _=y._init;return h(g,_(y._payload),b)}if(ui(y)||Qs(y))return y=Pr(y,g.mode,b,null),y.return=g,y;Va(g,y)}return null}function f(g,y,b,_){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ra:return b.key===j?c(g,y,b,_):null;case qr:return b.key===j?d(g,y,b,_):null;case An:return j=b._init,f(g,y,j(b._payload),_)}if(ui(b)||Qs(b))return j!==null?null:u(g,y,b,_,null);Va(g,b)}return null}function m(g,y,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(y,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ra:return g=g.get(_.key===null?b:_.key)||null,c(y,g,_,j);case qr:return g=g.get(_.key===null?b:_.key)||null,d(y,g,_,j);case An:var M=_._init;return m(g,y,b,M(_._payload),j)}if(ui(_)||Qs(_))return g=g.get(b)||null,u(y,g,_,j,null);Va(y,_)}return null}function v(g,y,b,_){for(var j=null,M=null,C=y,P=y=0,E=null;C!==null&&P<b.length;P++){C.index>P?(E=C,C=null):E=C.sibling;var T=f(g,C,b[P],_);if(T===null){C===null&&(C=E);break}t&&C&&T.alternate===null&&e(g,C),y=i(T,y,P),M===null?j=T:M.sibling=T,M=T,C=E}if(P===b.length)return n(g,C),_e&&vr(g,P),j;if(C===null){for(;P<b.length;P++)C=h(g,b[P],_),C!==null&&(y=i(C,y,P),M===null?j=C:M.sibling=C,M=C);return _e&&vr(g,P),j}for(C=r(g,C);P<b.length;P++)E=m(C,g,P,b[P],_),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?P:E.key),y=i(E,y,P),M===null?j=E:M.sibling=E,M=E);return t&&C.forEach(function(F){return e(g,F)}),_e&&vr(g,P),j}function x(g,y,b,_){var j=Qs(b);if(typeof j!="function")throw Error(A(150));if(b=j.call(b),b==null)throw Error(A(151));for(var M=j=null,C=y,P=y=0,E=null,T=b.next();C!==null&&!T.done;P++,T=b.next()){C.index>P?(E=C,C=null):E=C.sibling;var F=f(g,C,T.value,_);if(F===null){C===null&&(C=E);break}t&&C&&F.alternate===null&&e(g,C),y=i(F,y,P),M===null?j=F:M.sibling=F,M=F,C=E}if(T.done)return n(g,C),_e&&vr(g,P),j;if(C===null){for(;!T.done;P++,T=b.next())T=h(g,T.value,_),T!==null&&(y=i(T,y,P),M===null?j=T:M.sibling=T,M=T);return _e&&vr(g,P),j}for(C=r(g,C);!T.done;P++,T=b.next())T=m(C,g,P,T.value,_),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?P:T.key),y=i(T,y,P),M===null?j=T:M.sibling=T,M=T);return t&&C.forEach(function(N){return e(g,N)}),_e&&vr(g,P),j}function k(g,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Zr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ra:e:{for(var j=b.key,M=y;M!==null;){if(M.key===j){if(j=b.type,j===Zr){if(M.tag===7){n(g,M.sibling),y=s(M,b.props.children),y.return=g,g=y;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===An&&Hf(j)===M.type){n(g,M.sibling),y=s(M,b.props),y.ref=ti(g,M,b),y.return=g,g=y;break e}n(g,M);break}else e(g,M);M=M.sibling}b.type===Zr?(y=Pr(b.props.children,g.mode,_,b.key),y.return=g,g=y):(_=vo(b.type,b.key,b.props,null,g.mode,_),_.ref=ti(g,y,b),_.return=g,g=_)}return a(g);case qr:e:{for(M=b.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(g,y.sibling),y=s(y,b.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Fc(b,g.mode,_),y.return=g,g=y}return a(g);case An:return M=b._init,k(g,y,M(b._payload),_)}if(ui(b))return v(g,y,b,_);if(Qs(b))return x(g,y,b,_);Va(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,b),y.return=g,g=y):(n(g,y),y=Ic(b,g.mode,_),y.return=g,g=y),a(g)):n(g,y)}return k}var js=o0(!0),l0=o0(!1),Io=or(null),Fo=null,os=null,Pu=null;function Eu(){Pu=os=Fo=null}function Tu(t){var e=Io.current;we(Io),t._currentValue=e}function Cd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){Fo=t,Pu=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(Pu!==t)if(t={context:t,memoizedValue:e,next:null},os===null){if(Fo===null)throw Error(A(308));os=t,Fo.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return e}var Nr=null;function Ru(t){Nr===null?Nr=[t]:Nr.push(t)}function c0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ru(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pn(t,r)}function Pn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var On=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pn(t,n)}return s=r.interleaved,s===null?(e.next=e,Ru(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pn(t,n)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yu(t,n)}}function Uf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zo(t,e,n,r){var s=t.updateQueue;On=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Pe({},h,f);break e;case 2:On=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ar|=a,t.lanes=a,t.memoizedState=h}}function Yf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var oa={},cn=or(oa),Wi=or(oa),Vi=or(oa);function Sr(t){if(t===oa)throw Error(A(174));return t}function Du(t,e){switch(ve(Vi,e),ve(Wi,t),ve(cn,oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=od(e,t)}we(cn),ve(cn,e)}function Ns(){we(cn),we(Wi),we(Vi)}function u0(t){Sr(Vi.current);var e=Sr(cn.current),n=od(e,t.type);e!==n&&(ve(Wi,t),ve(cn,n))}function Au(t){Wi.current===t&&(we(cn),we(Wi))}var Se=or(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tc=[];function Ou(){for(var t=0;t<Tc.length;t++)Tc[t]._workInProgressVersionPrimary=null;Tc.length=0}var po=Tn.ReactCurrentDispatcher,Rc=Tn.ReactCurrentBatchConfig,Dr=0,Me=null,$e=null,He=null,$o=!1,_i=!1,Hi=0,ek=0;function et(){throw Error(A(321))}function Iu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Fu(t,e,n,r,s,i){if(Dr=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,po.current=t===null||t.memoizedState===null?sk:ik,t=n(r,s),_i){i=0;do{if(_i=!1,Hi=0,25<=i)throw Error(A(301));i+=1,He=$e=null,e.updateQueue=null,po.current=ak,t=n(r,s)}while(_i)}if(po.current=Wo,e=$e!==null&&$e.next!==null,Dr=0,He=$e=Me=null,$o=!1,e)throw Error(A(300));return t}function zu(){var t=Hi!==0;return Hi=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Me.memoizedState=He=t:He=He.next=t,He}function Bt(){if($e===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=He===null?Me.memoizedState:He.next;if(e!==null)He=e,$e=t;else{if(t===null)throw Error(A(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},He===null?Me.memoizedState=He=t:He=He.next=t}return He}function Ui(t,e){return typeof e=="function"?e(t):e}function Lc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var u=d.lane;if((Dr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Me.lanes|=u,Ar|=u}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,Jt(r,e.memoizedState)||(vt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,Ar|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Jt(i,e.memoizedState)||(vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function h0(){}function f0(t,e){var n=Me,r=Bt(),s=e(),i=!Jt(r.memoizedState,s);if(i&&(r.memoizedState=s,vt=!0),r=r.queue,Bu(g0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Yi(9,p0.bind(null,n,r,s,e),void 0,null),Ye===null)throw Error(A(349));Dr&30||m0(n,e,s)}return s}function m0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p0(t,e,n,r){e.value=n,e.getSnapshot=r,x0(e)&&y0(t)}function g0(t,e,n){return n(function(){x0(e)&&y0(t)})}function x0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function y0(t){var e=Pn(t,1);e!==null&&Qt(e,t,1,-1)}function Gf(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},e.queue=t,t=t.dispatch=rk.bind(null,Me,t),[e.memoizedState,t]}function Yi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function b0(){return Bt().memoizedState}function go(t,e,n,r){var s=nn();Me.flags|=t,s.memoizedState=Yi(1|e,n,void 0,r===void 0?null:r)}function gl(t,e,n,r){var s=Bt();r=r===void 0?null:r;var i=void 0;if($e!==null){var a=$e.memoizedState;if(i=a.destroy,r!==null&&Iu(r,a.deps)){s.memoizedState=Yi(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Yi(1|e,n,i,r)}function Xf(t,e){return go(8390656,8,t,e)}function Bu(t,e){return gl(2048,8,t,e)}function v0(t,e){return gl(4,2,t,e)}function k0(t,e){return gl(4,4,t,e)}function w0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _0(t,e,n){return n=n!=null?n.concat([t]):null,gl(4,4,w0.bind(null,e,t),n)}function $u(){}function j0(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N0(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S0(t,e,n){return Dr&21?(Jt(n,e)||(n=Tg(),Me.lanes|=n,Ar|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=n)}function tk(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Rc.transition;Rc.transition={};try{t(!1),e()}finally{xe=n,Rc.transition=r}}function C0(){return Bt().memoizedState}function nk(t,e,n){var r=qn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},M0(t))P0(e,n);else if(n=c0(t,e,n,r),n!==null){var s=ut();Qt(n,t,r,s),E0(n,e,r)}}function rk(t,e,n){var r=qn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(M0(t))P0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Jt(l,a)){var c=e.interleaved;c===null?(s.next=s,Ru(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=c0(t,e,s,r),n!==null&&(s=ut(),Qt(n,t,r,s),E0(n,e,r))}}function M0(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function P0(t,e){_i=$o=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yu(t,n)}}var Wo={readContext:zt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},sk={readContext:zt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:Xf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,go(4194308,4,w0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return go(4194308,4,t,e)},useInsertionEffect:function(t,e){return go(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nk.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Gf,useDebugValue:$u,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Gf(!1),e=t[0];return t=tk.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=nn();if(_e){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Ye===null)throw Error(A(349));Dr&30||m0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Xf(g0.bind(null,r,i,t),[t]),r.flags|=2048,Yi(9,p0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=Ye.identifierPrefix;if(_e){var n=jn,r=_n;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ek++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ik={readContext:zt,useCallback:j0,useContext:zt,useEffect:Bu,useImperativeHandle:_0,useInsertionEffect:v0,useLayoutEffect:k0,useMemo:N0,useReducer:Lc,useRef:b0,useState:function(){return Lc(Ui)},useDebugValue:$u,useDeferredValue:function(t){var e=Bt();return S0(e,$e.memoizedState,t)},useTransition:function(){var t=Lc(Ui)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:f0,useId:C0,unstable_isNewReconciler:!1},ak={readContext:zt,useCallback:j0,useContext:zt,useEffect:Bu,useImperativeHandle:_0,useInsertionEffect:v0,useLayoutEffect:k0,useMemo:N0,useReducer:Dc,useRef:b0,useState:function(){return Dc(Ui)},useDebugValue:$u,useDeferredValue:function(t){var e=Bt();return $e===null?e.memoizedState=t:S0(e,$e.memoizedState,t)},useTransition:function(){var t=Dc(Ui)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:f0,useId:C0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Md(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xl={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ut(),s=qn(t),i=Sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qn(t,i,s),e!==null&&(Qt(e,t,s,r),mo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ut(),s=qn(t),i=Sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qn(t,i,s),e!==null&&(Qt(e,t,s,r),mo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ut(),r=qn(t),s=Sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qn(t,s,r),e!==null&&(Qt(e,t,r,n),mo(e,t,r))}};function Kf(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Fi(n,r)||!Fi(s,i):!0}function T0(t,e,n){var r=!1,s=rr,i=e.contextType;return typeof i=="object"&&i!==null?i=zt(i):(s=wt(e)?Rr:it.current,r=e.contextTypes,i=(r=r!=null)?ws(t,s):rr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xl.enqueueReplaceState(e,e.state,null)}function Pd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zt(i):(i=wt(e)?Rr:it.current,s.context=ws(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Md(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xl.enqueueReplaceState(s,s.state,null),zo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",r=e;do n+=Db(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ed(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ok=typeof WeakMap=="function"?WeakMap:Map;function R0(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ho||(Ho=!0,Bd=r),Ed(t,e)},n}function L0(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ed(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ed(t,e),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Jf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ok;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kk.bind(null,t,e,n),e.then(t,t))}function qf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,Qn(n,e,1))),n.lanes|=1),t)}var lk=Tn.ReactCurrentOwner,vt=!1;function ct(t,e,n,r){e.child=t===null?l0(e,null,n,r):js(e,t.child,n,r)}function em(t,e,n,r,s){n=n.render;var i=e.ref;return gs(e,s),r=Fu(t,e,n,r,i,s),n=zu(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,En(t,e,s)):(_e&&n&&Su(e),e.flags|=1,ct(t,e,r,s),e.child)}function tm(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ku(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,D0(t,e,i,r,s)):(t=vo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fi,n(a,r)&&t.ref===e.ref)return En(t,e,s)}return e.flags|=1,t=Zn(i,r),t.ref=e.ref,t.return=e,e.child=t}function D0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fi(i,r)&&t.ref===e.ref)if(vt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(vt=!0);else return e.lanes=t.lanes,En(t,e,s)}return Td(t,e,n,r,s)}function A0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(cs,Nt),Nt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(cs,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ve(cs,Nt),Nt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ve(cs,Nt),Nt|=r;return ct(t,e,s,n),e.child}function O0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Td(t,e,n,r,s){var i=wt(n)?Rr:it.current;return i=ws(e,i),gs(e,s),n=Fu(t,e,n,r,i,s),r=zu(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,En(t,e,s)):(_e&&r&&Su(e),e.flags|=1,ct(t,e,n,s),e.child)}function nm(t,e,n,r,s){if(wt(n)){var i=!0;Do(e)}else i=!1;if(gs(e,s),e.stateNode===null)xo(t,e),T0(e,n,r),Pd(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=wt(n)?Rr:it.current,d=ws(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Qf(e,a,r,d),On=!1;var f=e.memoizedState;a.state=f,zo(e,r,a,s),c=e.memoizedState,l!==r||f!==c||kt.current||On?(typeof u=="function"&&(Md(e,n,u,r),c=e.memoizedState),(l=On||Kf(e,n,l,r,f,c,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,d0(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Yt(e.type,l),a.props=d,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=wt(n)?Rr:it.current,c=ws(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Qf(e,a,r,c),On=!1,f=e.memoizedState,a.state=f,zo(e,r,a,s);var v=e.memoizedState;l!==h||f!==v||kt.current||On?(typeof m=="function"&&(Md(e,n,m,r),v=e.memoizedState),(d=On||Kf(e,n,d,r,f,v,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Rd(t,e,n,r,i,s)}function Rd(t,e,n,r,s,i){O0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&$f(e,n,!1),En(t,e,i);r=e.stateNode,lk.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=js(e,t.child,null,i),e.child=js(e,null,l,i)):ct(t,e,l,i),e.memoizedState=r.state,s&&$f(e,n,!0),e.child}function I0(t){var e=t.stateNode;e.pendingContext?Bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bf(t,e.context,!1),Du(t,e.containerInfo)}function rm(t,e,n,r,s){return _s(),Mu(s),e.flags|=256,ct(t,e,n,r),e.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function Dd(t){return{baseLanes:t,cachePool:null,transitions:null}}function F0(t,e,n){var r=e.pendingProps,s=Se.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ve(Se,s&1),t===null)return Sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=vl(a,r,0,null),t=Pr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dd(n),e.memoizedState=Ld,t):Wu(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ck(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Zn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zn(l,i):(i=Pr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Dd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Ld,r}return i=t.child,t=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wu(t,e){return e=vl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ha(t,e,n,r){return r!==null&&Mu(r),js(e,t.child,null,n),t=Wu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ck(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ac(Error(A(422))),Ha(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vl({mode:"visible",children:r.children},s,0,null),i=Pr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&js(e,t.child,null,a),e.child.memoizedState=Dd(a),e.memoizedState=Ld,i);if(!(e.mode&1))return Ha(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(A(419)),r=Ac(i,r,void 0),Ha(t,e,a,r)}if(l=(a&t.childLanes)!==0,vt||l){if(r=Ye,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pn(t,s),Qt(r,t,s,-1))}return Xu(),r=Ac(Error(A(421))),Ha(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,St=Kn(s.nextSibling),Ct=e,_e=!0,Xt=null,t!==null&&(Dt[At++]=_n,Dt[At++]=jn,Dt[At++]=Lr,_n=t.id,jn=t.overflow,Lr=e),e=Wu(e,r.children),e.flags|=4096,e)}function sm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cd(t.return,e,n)}function Oc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function z0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ct(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sm(t,n,e);else if(t.tag===19)sm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Bo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Oc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Oc(e,!0,n,null,i);break;case"together":Oc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function En(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ar|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dk(t,e,n){switch(e.tag){case 3:I0(e),_s();break;case 5:u0(e);break;case 1:wt(e.type)&&Do(e);break;case 4:Du(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ve(Io,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?F0(t,e,n):(ve(Se,Se.current&1),t=En(t,e,n),t!==null?t.sibling:null);ve(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,A0(t,e,n)}return En(t,e,n)}var B0,Ad,$0,W0;B0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ad=function(){};$0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Sr(cn.current);var i=null;switch(n){case"input":s=rd(t,s),r=rd(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=ad(t,s),r=ad(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ro)}ld(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ti.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};W0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ni(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uk(t,e,n){var r=e.pendingProps;switch(Cu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return wt(e.type)&&Lo(),tt(e),null;case 3:return r=e.stateNode,Ns(),we(kt),we(it),Ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(Vd(Xt),Xt=null))),Ad(t,e),tt(e),null;case 5:Au(e);var s=Sr(Vi.current);if(n=e.type,t!==null&&e.stateNode!=null)$0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return tt(e),null}if(t=Sr(cn.current),Wa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sn]=e,r[$i]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<fi.length;s++)ke(fi[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ff(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":pf(r,i),ke("invalid",r)}ld(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$a(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$a(r.textContent,l,t),s=["children",""+l]):Ti.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":La(r),mf(r,i,!0);break;case"textarea":La(r),gf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ro)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[sn]=e,t[$i]=r,B0(t,e,!1,!1),e.stateNode=t;e:{switch(a=cd(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<fi.length;s++)ke(fi[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":ff(t,r),s=rd(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":pf(t,r),s=ad(t,r),ke("invalid",t);break;default:s=r}ld(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bg(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xg(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ri(t,c):typeof c=="number"&&Ri(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",t):c!=null&&hu(t,i,c,a))}switch(n){case"input":La(t),mf(t,r,!1);break;case"textarea":La(t),gf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?hs(t,!!r.multiple,i,!1):r.defaultValue!=null&&hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)W0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Sr(Vi.current),Sr(cn.current),Wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(i=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:$a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$a(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return tt(e),null;case 13:if(we(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&St!==null&&e.mode&1&&!(e.flags&128))a0(),_s(),e.flags|=98560,i=!1;else if(i=Wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[sn]=e}else _s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else Xt!==null&&(Vd(Xt),Xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?We===0&&(We=3):Xu())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Ns(),Ad(t,e),t===null&&zi(e.stateNode.containerInfo),tt(e),null;case 10:return Tu(e.type._context),tt(e),null;case 17:return wt(e.type)&&Lo(),tt(e),null;case 19:if(we(Se),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ni(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bo(t),a!==null){for(e.flags|=128,ni(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Se,Se.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ie()>Cs&&(e.flags|=128,r=!0,ni(i,!1),e.lanes=4194304)}else{if(!r)if(t=Bo(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ni(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return tt(e),null}else 2*Ie()-i.renderingStartTime>Cs&&n!==1073741824&&(e.flags|=128,r=!0,ni(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ie(),e.sibling=null,n=Se.current,ve(Se,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Gu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function hk(t,e){switch(Cu(e),e.tag){case 1:return wt(e.type)&&Lo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),we(kt),we(it),Ou(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Au(e),null;case 13:if(we(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));_s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Se),null;case 4:return Ns(),null;case 10:return Tu(e.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Ua=!1,st=!1,fk=typeof WeakSet=="function"?WeakSet:Set,H=null;function ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Od(t,e,n){try{n()}catch(r){Re(t,e,r)}}var im=!1;function mk(t,e){if(bd=Po,t=Gg(),Nu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++d===s&&(l=a),f===i&&++u===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:t,selectionRange:n},Po=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Yt(e.type,x),k);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=im,im=!1,v}function ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Od(e,n,i)}s=s.next}while(s!==r)}}function yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Id(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V0(t){var e=t.alternate;e!==null&&(t.alternate=null,V0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[$i],delete e[_d],delete e[Qv],delete e[Jv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H0(t){return t.tag===5||t.tag===3||t.tag===4}function am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ro));else if(r!==4&&(t=t.child,t!==null))for(Fd(t,e,n),t=t.sibling;t!==null;)Fd(t,e,n),t=t.sibling}function zd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zd(t,e,n),t=t.sibling;t!==null;)zd(t,e,n),t=t.sibling}var Xe=null,Gt=!1;function Ln(t,e,n){for(n=n.child;n!==null;)U0(t,e,n),n=n.sibling}function U0(t,e,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:st||ls(n,e);case 6:var r=Xe,s=Gt;Xe=null,Ln(t,e,n),Xe=r,Gt=s,Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?Pc(t.parentNode,n):t.nodeType===1&&Pc(t,n),Oi(t)):Pc(Xe,n.stateNode));break;case 4:r=Xe,s=Gt,Xe=n.stateNode.containerInfo,Gt=!0,Ln(t,e,n),Xe=r,Gt=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Od(n,e,a),s=s.next}while(s!==r)}Ln(t,e,n);break;case 1:if(!st&&(ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,e,l)}Ln(t,e,n);break;case 21:Ln(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Ln(t,e,n),st=r):Ln(t,e,n);break;default:Ln(t,e,n)}}function om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fk),e.forEach(function(r){var s=_k.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ut(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Gt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Gt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Xe===null)throw Error(A(160));U0(i,a,s),Xe=null,Gt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Re(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y0(e,t),e=e.sibling}function Y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ut(e,t),en(t),r&4){try{ji(3,t,t.return),yl(3,t)}catch(x){Re(t,t.return,x)}try{ji(5,t,t.return)}catch(x){Re(t,t.return,x)}}break;case 1:Ut(e,t),en(t),r&512&&n!==null&&ls(n,n.return);break;case 5:if(Ut(e,t),en(t),r&512&&n!==null&&ls(n,n.return),t.flags&32){var s=t.stateNode;try{Ri(s,"")}catch(x){Re(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mg(s,i),cd(l,a);var d=cd(l,i);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];u==="style"?bg(s,h):u==="dangerouslySetInnerHTML"?xg(s,h):u==="children"?Ri(s,h):hu(s,u,h,d)}switch(l){case"input":sd(s,i);break;case"textarea":pg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?hs(s,!!i.multiple,i.defaultValue,!0):hs(s,!!i.multiple,i.multiple?[]:"",!1))}s[$i]=i}catch(x){Re(t,t.return,x)}}break;case 6:if(Ut(e,t),en(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Re(t,t.return,x)}}break;case 3:if(Ut(e,t),en(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(e.containerInfo)}catch(x){Re(t,t.return,x)}break;case 4:Ut(e,t),en(t);break;case 13:Ut(e,t),en(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uu=Ie())),r&4&&om(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(st=(d=st)||u,Ut(e,t),st=d):Ut(e,t),en(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(h=H=u;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:ji(4,f,f.return);break;case 1:ls(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Re(r,n,x)}}break;case 5:ls(f,f.return);break;case 22:if(f.memoizedState!==null){cm(h);continue}}m!==null?(m.return=f,H=m):cm(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yg("display",a))}catch(x){Re(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Re(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ut(e,t),en(t),r&4&&om(t);break;case 21:break;default:Ut(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H0(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ri(s,""),r.flags&=-33);var i=am(t);zd(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=am(t);Fd(t,l,a);break;default:throw Error(A(161))}}catch(c){Re(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pk(t,e,n){H=t,G0(t)}function G0(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ua;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||st;l=Ua;var d=st;if(Ua=a,(st=c)&&!d)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?dm(s):c!==null?(c.return=a,H=c):dm(s);for(;i!==null;)H=i,G0(i),i=i.sibling;H=s,Ua=l,st=d}lm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):lm(t)}}function lm(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yf(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Oi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}st||e.flags&512&&Id(e)}catch(f){Re(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function cm(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function dm(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yl(4,e)}catch(c){Re(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Re(e,s,c)}}var i=e.return;try{Id(e)}catch(c){Re(e,i,c)}break;case 5:var a=e.return;try{Id(e)}catch(c){Re(e,a,c)}}}catch(c){Re(e,e.return,c)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var gk=Math.ceil,Vo=Tn.ReactCurrentDispatcher,Vu=Tn.ReactCurrentOwner,Ft=Tn.ReactCurrentBatchConfig,de=0,Ye=null,ze=null,Ke=0,Nt=0,cs=or(0),We=0,Gi=null,Ar=0,bl=0,Hu=0,Ni=null,yt=null,Uu=0,Cs=1/0,vn=null,Ho=!1,Bd=null,Jn=null,Ya=!1,Bn=null,Uo=0,Si=0,$d=null,yo=-1,bo=0;function ut(){return de&6?Ie():yo!==-1?yo:yo=Ie()}function qn(t){return t.mode&1?de&2&&Ke!==0?Ke&-Ke:Zv.transition!==null?(bo===0&&(bo=Tg()),bo):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Fg(t.type)),t):1}function Qt(t,e,n,r){if(50<Si)throw Si=0,$d=null,Error(A(185));sa(t,n,r),(!(de&2)||t!==Ye)&&(t===Ye&&(!(de&2)&&(bl|=n),We===4&&Fn(t,Ke)),_t(t,r),n===1&&de===0&&!(e.mode&1)&&(Cs=Ie()+500,pl&&lr()))}function _t(t,e){var n=t.callbackNode;Zb(t,e);var r=Mo(t,t===Ye?Ke:0);if(r===0)n!==null&&bf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bf(n),e===1)t.tag===0?qv(um.bind(null,t)):r0(um.bind(null,t)),Xv(function(){!(de&6)&&lr()}),n=null;else{switch(Rg(r)){case 1:n=xu;break;case 4:n=Pg;break;case 16:n=Co;break;case 536870912:n=Eg;break;default:n=Co}n=tx(n,X0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X0(t,e){if(yo=-1,bo=0,de&6)throw Error(A(327));var n=t.callbackNode;if(xs()&&t.callbackNode!==n)return null;var r=Mo(t,t===Ye?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yo(t,r);else{e=r;var s=de;de|=2;var i=Q0();(Ye!==t||Ke!==e)&&(vn=null,Cs=Ie()+500,Mr(t,e));do try{bk();break}catch(l){K0(t,l)}while(1);Eu(),Vo.current=i,de=s,ze!==null?e=0:(Ye=null,Ke=0,e=We)}if(e!==0){if(e===2&&(s=md(t),s!==0&&(r=s,e=Wd(t,s))),e===1)throw n=Gi,Mr(t,0),Fn(t,r),_t(t,Ie()),n;if(e===6)Fn(t,r);else{if(s=t.current.alternate,!(r&30)&&!xk(s)&&(e=Yo(t,r),e===2&&(i=md(t),i!==0&&(r=i,e=Wd(t,i))),e===1))throw n=Gi,Mr(t,0),Fn(t,r),_t(t,Ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:kr(t,yt,vn);break;case 3:if(Fn(t,r),(r&130023424)===r&&(e=Uu+500-Ie(),10<e)){if(Mo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wd(kr.bind(null,t,yt,vn),e);break}kr(t,yt,vn);break;case 4:if(Fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Kt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gk(r/1960))-r,10<r){t.timeoutHandle=wd(kr.bind(null,t,yt,vn),r);break}kr(t,yt,vn);break;case 5:kr(t,yt,vn);break;default:throw Error(A(329))}}}return _t(t,Ie()),t.callbackNode===n?X0.bind(null,t):null}function Wd(t,e){var n=Ni;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=Yo(t,e),t!==2&&(e=yt,yt=n,e!==null&&Vd(e)),t}function Vd(t){yt===null?yt=t:yt.push.apply(yt,t)}function xk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fn(t,e){for(e&=~Hu,e&=~bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function um(t){if(de&6)throw Error(A(327));xs();var e=Mo(t,0);if(!(e&1))return _t(t,Ie()),null;var n=Yo(t,e);if(t.tag!==0&&n===2){var r=md(t);r!==0&&(e=r,n=Wd(t,r))}if(n===1)throw n=Gi,Mr(t,0),Fn(t,e),_t(t,Ie()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,yt,vn),_t(t,Ie()),null}function Yu(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Cs=Ie()+500,pl&&lr())}}function Or(t){Bn!==null&&Bn.tag===0&&!(de&6)&&xs();var e=de;de|=1;var n=Ft.transition,r=xe;try{if(Ft.transition=null,xe=1,t)return t()}finally{xe=r,Ft.transition=n,de=e,!(de&6)&&lr()}}function Gu(){Nt=cs.current,we(cs)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gv(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lo();break;case 3:Ns(),we(kt),we(it),Ou();break;case 5:Au(r);break;case 4:Ns();break;case 13:we(Se);break;case 19:we(Se);break;case 10:Tu(r.type._context);break;case 22:case 23:Gu()}n=n.return}if(Ye=t,ze=t=Zn(t.current,null),Ke=Nt=e,We=0,Gi=null,Hu=bl=Ar=0,yt=Ni=null,Nr!==null){for(e=0;e<Nr.length;e++)if(n=Nr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Nr=null}return t}function K0(t,e){do{var n=ze;try{if(Eu(),po.current=Wo,$o){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$o=!1}if(Dr=0,He=$e=Me=null,_i=!1,Hi=0,Vu.current=null,n===null||n.return===null){We=1,Gi=e,ze=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=qf(a);if(m!==null){m.flags&=-257,Zf(m,a,l,i,e),m.mode&1&&Jf(i,d,e),e=m,c=d;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){Jf(i,d,e),Xu();break e}c=Error(A(426))}}else if(_e&&l.mode&1){var k=qf(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Zf(k,a,l,i,e),Mu(Ss(c,l));break e}}i=c=Ss(c,l),We!==4&&(We=2),Ni===null?Ni=[i]:Ni.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=R0(i,c,e);Uf(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Jn===null||!Jn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=L0(i,l,e);Uf(i,_);break e}}i=i.return}while(i!==null)}q0(n)}catch(j){e=j,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function Q0(){var t=Vo.current;return Vo.current=Wo,t===null?Wo:t}function Xu(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Ar&268435455)&&!(bl&268435455)||Fn(Ye,Ke)}function Yo(t,e){var n=de;de|=2;var r=Q0();(Ye!==t||Ke!==e)&&(vn=null,Mr(t,e));do try{yk();break}catch(s){K0(t,s)}while(1);if(Eu(),de=n,Vo.current=r,ze!==null)throw Error(A(261));return Ye=null,Ke=0,We}function yk(){for(;ze!==null;)J0(ze)}function bk(){for(;ze!==null&&!Hb();)J0(ze)}function J0(t){var e=ex(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?q0(t):ze=e,Vu.current=null}function q0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hk(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,ze=null;return}}else if(n=uk(n,e,Nt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);We===0&&(We=5)}function kr(t,e,n){var r=xe,s=Ft.transition;try{Ft.transition=null,xe=1,vk(t,e,n,r)}finally{Ft.transition=s,xe=r}return null}function vk(t,e,n,r){do xs();while(Bn!==null);if(de&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ev(t,i),t===Ye&&(ze=Ye=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ya||(Ya=!0,tx(Co,function(){return xs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var a=xe;xe=1;var l=de;de|=4,Vu.current=null,mk(t,n),Y0(n,t),Bv(vd),Po=!!bd,vd=bd=null,t.current=n,pk(n),Ub(),de=l,xe=a,Ft.transition=i}else t.current=n;if(Ya&&(Ya=!1,Bn=t,Uo=s),i=t.pendingLanes,i===0&&(Jn=null),Xb(n.stateNode),_t(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,t=Bd,Bd=null,t;return Uo&1&&t.tag!==0&&xs(),i=t.pendingLanes,i&1?t===$d?Si++:(Si=0,$d=t):Si=0,lr(),null}function xs(){if(Bn!==null){var t=Rg(Uo),e=Ft.transition,n=xe;try{if(Ft.transition=null,xe=16>t?16:t,Bn===null)var r=!1;else{if(t=Bn,Bn=null,Uo=0,de&6)throw Error(A(331));var s=de;for(de|=4,H=t.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(H=d;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:ji(8,u,i)}var h=u.child;if(h!==null)h.return=u,H=h;else for(;H!==null;){u=H;var f=u.sibling,m=u.return;if(V0(u),u===d){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ji(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,H=g;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){a=H;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,H=b;else e:for(a=y;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yl(9,l)}}catch(j){Re(l,l.return,j)}if(l===a){H=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,H=_;break e}H=l.return}}if(de=s,lr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(dl,t)}catch{}r=!0}return r}finally{xe=n,Ft.transition=e}}return!1}function hm(t,e,n){e=Ss(n,e),e=R0(t,e,1),t=Qn(t,e,1),e=ut(),t!==null&&(sa(t,1,e),_t(t,e))}function Re(t,e,n){if(t.tag===3)hm(t,t,n);else for(;e!==null;){if(e.tag===3){hm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){t=Ss(n,t),t=L0(e,t,1),e=Qn(e,t,1),t=ut(),e!==null&&(sa(e,1,t),_t(e,t));break}}e=e.return}}function kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(Ke&n)===n&&(We===4||We===3&&(Ke&130023424)===Ke&&500>Ie()-Uu?Mr(t,0):Hu|=n),_t(t,e)}function Z0(t,e){e===0&&(t.mode&1?(e=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):e=1);var n=ut();t=Pn(t,e),t!==null&&(sa(t,e,n),_t(t,n))}function wk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z0(t,n)}function _k(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),Z0(t,n)}var ex;ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vt=!1,dk(t,e,n);vt=!!(t.flags&131072)}else vt=!1,_e&&e.flags&1048576&&s0(e,Oo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xo(t,e),t=e.pendingProps;var s=ws(e,it.current);gs(e,n),s=Fu(null,e,r,t,s,n);var i=zu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(i=!0,Do(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lu(e),s.updater=xl,e.stateNode=s,s._reactInternals=e,Pd(e,r,t,n),e=Rd(null,e,r,!0,i,n)):(e.tag=0,_e&&i&&Su(e),ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Nk(r),t=Yt(r,t),s){case 0:e=Td(null,e,r,t,n);break e;case 1:e=nm(null,e,r,t,n);break e;case 11:e=em(null,e,r,t,n);break e;case 14:e=tm(null,e,r,Yt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Td(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),nm(t,e,r,s,n);case 3:e:{if(I0(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,d0(t,e),zo(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ss(Error(A(423)),e),e=rm(t,e,r,n,s);break e}else if(r!==s){s=Ss(Error(A(424)),e),e=rm(t,e,r,n,s);break e}else for(St=Kn(e.stateNode.containerInfo.firstChild),Ct=e,_e=!0,Xt=null,n=l0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===s){e=En(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return u0(e),t===null&&Sd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,kd(r,s)?a=null:i!==null&&kd(r,i)&&(e.flags|=32),O0(t,e),ct(t,e,a,n),e.child;case 6:return t===null&&Sd(e),null;case 13:return F0(t,e,n);case 4:return Du(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=js(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),em(t,e,r,s,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ve(Io,r._currentValue),r._currentValue=a,i!==null)if(Jt(i.value,a)){if(i.children===s.children&&!kt.current){e=En(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Sn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Cd(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(A(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Cd(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gs(e,n),s=zt(s),r=r(s),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,s=Yt(r,e.pendingProps),s=Yt(r.type,s),tm(t,e,r,s,n);case 15:return D0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),xo(t,e),e.tag=1,wt(r)?(t=!0,Do(e)):t=!1,gs(e,n),T0(e,r,s),Pd(e,r,s,n),Rd(null,e,r,!0,t,n);case 19:return z0(t,e,n);case 22:return A0(t,e,n)}throw Error(A(156,e.tag))};function tx(t,e){return Mg(t,e)}function jk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new jk(t,e,n,r)}function Ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nk(t){if(typeof t=="function")return Ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mu)return 11;if(t===pu)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vo(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Ku(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zr:return Pr(n.children,s,i,e);case fu:a=8,s|=8;break;case Zc:return t=Ot(12,n,e,s|2),t.elementType=Zc,t.lanes=i,t;case ed:return t=Ot(13,n,e,s),t.elementType=ed,t.lanes=i,t;case td:return t=Ot(19,n,e,s),t.elementType=td,t.lanes=i,t;case ug:return vl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cg:a=10;break e;case dg:a=9;break e;case mu:a=11;break e;case pu:a=14;break e;case An:a=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Ot(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function vl(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=ug,t.lanes=n,t.stateNode={isHidden:!1},t}function Ic(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function Fc(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc(0),this.expirationTimes=yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qu(t,e,n,r,s,i,a,l,c){return t=new Sk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lu(i),t}function Ck(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nx(t){if(!t)return rr;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(wt(n))return n0(t,n,e)}return e}function rx(t,e,n,r,s,i,a,l,c){return t=Qu(n,r,!0,t,s,i,a,l,c),t.context=nx(null),n=t.current,r=ut(),s=qn(n),i=Sn(r,s),i.callback=e??null,Qn(n,i,s),t.current.lanes=s,sa(t,s,r),_t(t,r),t}function kl(t,e,n,r){var s=e.current,i=ut(),a=qn(s);return n=nx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qn(s,e,a),t!==null&&(Qt(t,s,a,i),mo(t,s,a)),a}function Go(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ju(t,e){fm(t,e),(t=t.alternate)&&fm(t,e)}function Mk(){return null}var sx=typeof reportError=="function"?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}wl.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));kl(t,e,null,null)};wl.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Or(function(){kl(null,t,null,null)}),e[Mn]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ag();t={blockedOn:null,target:t,priority:e};for(var n=0;n<In.length&&e!==0&&e<In[n].priority;n++);In.splice(n,0,t),n===0&&Ig(t)}};function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mm(){}function Pk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Go(a);i.call(d)}}var a=rx(e,r,t,0,null,!1,!1,"",mm);return t._reactRootContainer=a,t[Mn]=a.current,zi(t.nodeType===8?t.parentNode:t),Or(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Go(c);l.call(d)}}var c=Qu(t,0,!1,null,null,!1,!1,"",mm);return t._reactRootContainer=c,t[Mn]=c.current,zi(t.nodeType===8?t.parentNode:t),Or(function(){kl(e,c,n,r)}),c}function jl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Go(a);l.call(c)}}kl(e,a,t,s)}else a=Pk(n,e,t,s,r);return Go(a)}Lg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hi(e.pendingLanes);n!==0&&(yu(e,n|1),_t(e,Ie()),!(de&6)&&(Cs=Ie()+500,lr()))}break;case 13:Or(function(){var r=Pn(t,1);if(r!==null){var s=ut();Qt(r,t,1,s)}}),Ju(t,1)}};bu=function(t){if(t.tag===13){var e=Pn(t,134217728);if(e!==null){var n=ut();Qt(e,t,134217728,n)}Ju(t,134217728)}};Dg=function(t){if(t.tag===13){var e=qn(t),n=Pn(t,e);if(n!==null){var r=ut();Qt(n,t,e,r)}Ju(t,e)}};Ag=function(){return xe};Og=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};ud=function(t,e,n){switch(e){case"input":if(sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ml(r);if(!s)throw Error(A(90));fg(r),sd(r,s)}}}break;case"textarea":pg(t,n);break;case"select":e=n.value,e!=null&&hs(t,!!n.multiple,e,!1)}};wg=Yu;_g=Or;var Ek={usingClientEntryPoint:!1,Events:[aa,rs,ml,vg,kg,Yu]},ri={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tk={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sg(t),t===null?null:t.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{dl=Ga.inject(Tk),ln=Ga}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;Pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(e))throw Error(A(200));return Ck(t,e,null,n)};Pt.createRoot=function(t,e){if(!Zu(t))throw Error(A(299));var n=!1,r="",s=sx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qu(t,1,!1,null,null,n,!1,r,s),t[Mn]=e.current,zi(t.nodeType===8?t.parentNode:t),new qu(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Sg(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return Or(t)};Pt.hydrate=function(t,e,n){if(!_l(e))throw Error(A(200));return jl(null,t,e,!0,n)};Pt.hydrateRoot=function(t,e,n){if(!Zu(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=sx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rx(e,null,t,1,n??null,s,!1,i,a),t[Mn]=e.current,zi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wl(e)};Pt.render=function(t,e,n){if(!_l(e))throw Error(A(200));return jl(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!_l(t))throw Error(A(40));return t._reactRootContainer?(Or(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[Mn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Yu;Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_l(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return jl(t,e,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ix)}catch(t){console.error(t)}}ix(),ig.exports=Pt;var Rk=ig.exports,pm=Rk;Jc.createRoot=pm.createRoot,Jc.hydrateRoot=pm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const gm="popstate";function Lk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Hd("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xo(s)}return Ak(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ax(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dk(){return Math.random().toString(36).substr(2,8)}function xm(t,e){return{usr:t.state,key:t.key,idx:e}}function Hd(t,e,n,r){return n===void 0&&(n=null),Xi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Is(e):e,{state:n,key:e&&e.key||r||Dk()})}function Xo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Is(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ak(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=$n.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(Xi({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function h(){l=$n.Pop;let k=u(),g=k==null?null:k-d;d=k,c&&c({action:l,location:x.location,delta:g})}function f(k,g){l=$n.Push;let y=Hd(x.location,k,g);n&&n(y,k),d=u()+1;let b=xm(y,d),_=x.createHref(y);try{a.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:x.location,delta:1})}function m(k,g){l=$n.Replace;let y=Hd(x.location,k,g);n&&n(y,k),d=u();let b=xm(y,d),_=x.createHref(y);a.replaceState(b,"",_),i&&c&&c({action:l,location:x.location,delta:0})}function v(k){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:Xo(k);return y=y.replace(/ $/,"%20"),De(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let x={get action(){return l},get location(){return t(s,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gm,h),c=k,()=>{s.removeEventListener(gm,h),c=null}},createHref(k){return e(s,k)},createURL:v,encodeLocation(k){let g=v(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(k){return a.go(k)}};return x}var ym;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ym||(ym={}));function Ok(t,e,n){return n===void 0&&(n="/"),Ik(t,e,n,!1)}function Ik(t,e,n,r){let s=typeof e=="string"?Is(e):e,i=Ms(s.pathname||"/",n);if(i==null)return null;let a=ox(t);Fk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=Kk(i);l=Gk(a[c],d,r)}return l}function ox(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=er([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ox(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Uk(d,i.index),routesMeta:u})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of lx(i.path))s(i,a,c)}),e}function lx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=lx(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Fk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zk=/^:[\w-]+$/,Bk=3,$k=2,Wk=1,Vk=10,Hk=-2,bm=t=>t==="*";function Uk(t,e){let n=t.split("/"),r=n.length;return n.some(bm)&&(r+=Hk),e&&(r+=$k),n.filter(s=>!bm(s)).reduce((s,i)=>s+(zk.test(i)?Bk:i===""?Wk:Vk),r)}function Yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Gk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Ko({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Ko({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:er([i,h.pathname]),pathnameBase:Zk(er([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=er([i,h.pathnameBase]))}return a}function Ko(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function Xk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ax(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Kk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ax(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Is(t):t;return{pathname:n?n.startsWith("/")?n:Jk(n,e):e,search:e1(r),hash:t1(s)}}function Jk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cx(t,e){let n=qk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Is(t):(s=Xi({},t),De(!s.pathname||!s.pathname.includes("?"),zc("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),zc("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),zc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Qk(s,l),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const er=t=>t.join("/").replace(/\/\/+/g,"/"),Zk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ux=["post","put","patch","delete"];new Set(ux);const r1=["get",...ux];new Set(r1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ki.apply(this,arguments)}const Nl=w.createContext(null),hx=w.createContext(null),cr=w.createContext(null),Sl=w.createContext(null),dr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),fx=w.createContext(null);function s1(t,e){let{relative:n}=e===void 0?{}:e;la()||De(!1);let{basename:r,navigator:s}=w.useContext(cr),{hash:i,pathname:a,search:l}=Cl(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:er([r,a])),s.createHref({pathname:c,search:l,hash:i})}function la(){return w.useContext(Sl)!=null}function ca(){return la()||De(!1),w.useContext(Sl).location}function mx(t){w.useContext(cr).static||w.useLayoutEffect(t)}function un(){let{isDataRoute:t}=w.useContext(dr);return t?y1():i1()}function i1(){la()||De(!1);let t=w.useContext(Nl),{basename:e,future:n,navigator:r}=w.useContext(cr),{matches:s}=w.useContext(dr),{pathname:i}=ca(),a=JSON.stringify(cx(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return mx(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=dx(d,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:er([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,a,i,t])}function a1(){let{matches:t}=w.useContext(dr),e=t[t.length-1];return e?e.params:{}}function Cl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(cr),{matches:s}=w.useContext(dr),{pathname:i}=ca(),a=JSON.stringify(cx(s,r.v7_relativeSplatPath));return w.useMemo(()=>dx(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function o1(t,e){return l1(t,e)}function l1(t,e,n,r){la()||De(!1);let{navigator:s}=w.useContext(cr),{matches:i}=w.useContext(dr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=ca(),u;if(e){var h;let k=typeof e=="string"?Is(e):e;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||De(!1),u=k}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=Ok(t,{pathname:m}),x=f1(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:er([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:er([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return e&&x?w.createElement(Sl.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$n.Pop}},x):x}function c1(){let t=x1(),e=n1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,i)}const d1=w.createElement(c1,null);class u1 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(dr.Provider,{value:this.props.routeContext},w.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h1(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(Nl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(dr.Provider,{value:e},r)}function f1(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||De(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let m,v=!1,x=null,k=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||d1,c&&(d<0&&f===0?(b1("route-fallback",!1),v=!0,k=null):d===f&&(v=!0,k=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),y=()=>{let b;return m?b=x:v?b=k:h.route.Component?b=w.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,w.createElement(h1,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(u1,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var px=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(px||{}),Qo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qo||{});function m1(t){let e=w.useContext(Nl);return e||De(!1),e}function p1(t){let e=w.useContext(hx);return e||De(!1),e}function g1(t){let e=w.useContext(dr);return e||De(!1),e}function gx(t){let e=g1(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function x1(){var t;let e=w.useContext(fx),n=p1(Qo.UseRouteError),r=gx(Qo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function y1(){let{router:t}=m1(px.UseNavigateStable),e=gx(Qo.UseNavigateStable),n=w.useRef(!1);return mx(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ki({fromRouteId:e},i)))},[t,e])}const vm={};function b1(t,e,n){!e&&!vm[t]&&(vm[t]=!0)}function v1(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function gt(t){De(!1)}function k1(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$n.Pop,navigator:i,static:a=!1,future:l}=t;la()&&De(!1);let c=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:a,future:Ki({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Is(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,x=w.useMemo(()=>{let k=Ms(u,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:m,key:v},navigationType:s}},[c,u,h,f,m,v,s]);return x==null?null:w.createElement(cr.Provider,{value:d},w.createElement(Sl.Provider,{children:n,value:x}))}function w1(t){let{children:e,location:n}=t;return o1(Ud(e),n)}new Promise(()=>{});function Ud(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Ud(r.props.children,i));return}r.type!==gt&&De(!1),!r.props.index||!r.props.children||De(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ud(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function xx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j1(t,e){return t.button===0&&(!e||e==="_self")&&!_1(t)}const N1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],C1="6";try{window.__reactRouterVersion=C1}catch{}const M1=w.createContext({isTransitioning:!1}),P1="startTransition",km=kb[P1];function E1(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=Lk({window:s,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},u=w.useCallback(h=>{d&&km?km(()=>c(h)):c(h)},[c,d]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.useEffect(()=>v1(r),[r]),w.createElement(k1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L1=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=xx(e,N1),{basename:m}=w.useContext(cr),v,x=!1;if(typeof d=="string"&&R1.test(d)&&(v=d,T1))try{let b=new URL(window.location.href),_=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=Ms(_.pathname,m);_.origin===b.origin&&j!=null?d=j+_.search+_.hash:x=!0}catch{}let k=s1(d,{relative:s}),g=A1(d,{replace:a,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||g(b)}return w.createElement("a",Jo({},f,{href:v||k,onClick:x||i?r:y,ref:n,target:c}))}),Bc=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:u}=e,h=xx(e,S1),f=Cl(c,{relative:h.relative}),m=ca(),v=w.useContext(hx),{navigator:x,basename:k}=w.useContext(cr),g=v!=null&&O1(f)&&d===!0,y=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,b=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&k&&(_=Ms(_,k)||_);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=b===y||!a&&b.startsWith(y)&&b.charAt(j)==="/",C=_!=null&&(_===y||!a&&_.startsWith(y)&&_.charAt(y.length)==="/"),P={isActive:M,isPending:C,isTransitioning:g},E=M?r:void 0,T;typeof i=="function"?T=i(P):T=[i,M?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(P):l;return w.createElement(L1,Jo({},h,{"aria-current":E,className:T,ref:n,style:F,to:c,viewTransition:d}),typeof u=="function"?u(P):u)});var Yd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yd||(Yd={}));var wm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wm||(wm={}));function D1(t){let e=w.useContext(Nl);return e||De(!1),e}function A1(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=un(),d=ca(),u=Cl(t,{relative:a});return w.useCallback(h=>{if(j1(h,n)){h.preventDefault();let f=r!==void 0?r:Xo(d)===Xo(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,u,r,s,n,t,i,a,l])}function O1(t,e){e===void 0&&(e={});let n=w.useContext(M1);n==null&&De(!1);let{basename:r}=D1(Yd.useViewTransitionState),s=Cl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ko(s.pathname,a)!=null||Ko(s.pathname,i)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},u)=>w.createElement("svg",{ref:u,...I1,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F1(t)}`,l].join(" "),...d},[...e.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ee("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ee("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ee("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ee("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),uw=[{term:"Bond",analogy:"A bond is like lending money to the government for a taxi permit  they promise fixed interest and give your capital back on a set date."},{term:"Bond yield",analogy:"Bond yield works like rental yield: if the bond price falls but coupons stay the same, your income as a percentage jumps higher."},{term:"REIT",analogy:"A REIT lets you own a slice of a shopping mall  the tenants pay rent, and the trust passes most of it straight to you."},{term:"Commodity",analogy:"Commodities are the raw mielies and oil of the investing pantry  standard ingredients that trade globally."},{term:"Market index",analogy:"An index is the PSL log for shares  one scorecard that tells you how the entire squad performed."},{term:"Blue chip share",analogy:"A blue chip is the Springbok of the JSE  seasoned, reliable and still scoring dividends in tough seasons."},{term:"Share buyback",analogy:"A buyback is slicing a cake into fewer pieces, so the slice you already own suddenly gets thicker."},{term:"IPO",analogy:"An initial public offering is opening night for a restaurant  you finally invite the public in to buy a stake at the table."},{term:"Bid ask spread",analogy:"The spread is the haggling gap between the top buyer and bottom seller  the wider it is, the harder it is to trade cheaply."},{term:"Capital loss",analogy:"A capital loss is selling your bakkie for less than you bought it because the gearbox packed up  you bank the hit once the cash swaps hands."},{term:"Repo rate",analogy:"Repo is the Reserve Banks tap  open it and cheap money flows to banks; close it and the system dries up."},{term:"Prime lending rate",analogy:"Prime is your banks menu price for loans  repo sets their ingredient cost, prime adds the kitchens mark up."},{term:"Volatility",analogy:"Think of volatility as Cape Town weather  gorgeous one minute, gale force the next. It measures how wildly prices swing around their average."},{term:"Dividends",analogy:"Dividends are like rental income from a flat you own  companies share a slice of profits with you simply for holding their shares."},{term:"Return",analogy:"Return is the distance youve jogged financially  how far your money has travelled from the starting line to today."},{term:"EPS",analogy:"Earnings per share acts like the average mark per learner in a class  it tells you how much profit each share student contributed."},{term:"Diversification",analogy:"Diversification is a braai plate  pap, salad, wors, and steak. If one goes wrong, you still have something tasty on the plate."},{term:"Liquidity",analogy:"Liquidity is the queue at a Spur  the shorter it is, the faster you get a table (or sell a share) without discounting the price."},{term:"Sharpe Ratio",analogy:"Sharpe ratio is like calculating points scored per minute in a rugby match  how much extra return you score for each unit of risk you take."},{term:"Standard Deviation",analogy:"Its the distance your shots scatter around the hole on a golf green. Tight cluster? Consistent. Wild scatter? High standard deviation."},{term:"Beta",analogy:"Beta is the bakkies suspension  does it bounce exactly with the road (market), or absorb bumps better/worse?"},{term:"Alpha",analogy:"Alpha is bragging rights after a Parkrun  how much faster you were than the average runner who did the same course."},{term:"Drawdown",analogy:"Drawdown is the deepest dip on a rollercoaster ride. It tracks how far you fall from the highest peak before climbing again."},{term:"Compound Interest",analogy:"Compound interest eats like a hungry hippo  it gobbles up returns and keeps growing because it munches on the previous gains too."},{term:"Price to-Earnings (P/E)",analogy:"P/E is like paying for a pizza  it tells you how many rand you fork out for every rand the pizza shop earns."},{term:"Price to-Book (P/B)",analogy:"P/B compares the sticker price of a house to the cost of bricks and mortar. Are you paying more than its worth on paper?"},{term:"Return on Equity (ROE)",analogy:"ROE is the report card for management  how much profit they squeezed out of the shareholders capital."},{term:"Free Cash Flow",analogy:"Free cash flow is like the cash left after your salary covers rent, electricity, and transport  money you can actually put to work."},{term:"Dividend Yield",analogy:"Dividend yield shows how juicy the mango tree is  what percentage of sweet fruit (income) you get every season for owning the tree."},{term:"Market Capitalisation",analogy:"Market cap is a companys street value  the going price if you bought all the shares today."},{term:"Earnings Growth",analogy:"Earnings growth is a startups growth spurt  how much its profits have been bulking up year after year."},{term:"Gross Margin",analogy:"Gross margin measures how much braai meat is left after paying for charcoal and spices  the profit before other expenses."},{term:"Operating Margin",analogy:"Operating margin is the petrol left in the Uber drivers tank after paying e tolls and oil changes  profit from everyday operations."},{term:"Debt to-Equity",analogy:"Debt to-equity is measuring how much of the house is bought on bond versus paid with cash. Too much bond? A bit risky."},{term:"Interest Coverage",analogy:"Interest coverage asks: Can the business pay its interest like paying month end rent comfortably, or are they counting coins?"},{term:"Net Asset Value",analogy:"NAV is like weighing your pantry after debts  whats truly yours if you sold everything and settled accounts."},{term:"Dividend Cover",analogy:"Dividend cover is checking if a restaurants kitchen can keep up with orders  how many times profits can pay the dividends."},{term:"Enterprise Value",analogy:"Enterprise value is the real takeover price  what you pay for the business, including debts and cash, not just share price."}],hw=({onGetStarted:t,ctaLabel:e="Get Started - It's Free",ctaPath:n="/onboarding"})=>{const r=un(),s=()=>{t==null||t(),r(n)};return o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("section",{id:"hero",className:"relative overflow-hidden pt-20 pb-20 text-brand-ink transition-colors duration-500 ease-out dark:text-white",children:[o.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_15%_20%,rgba(233,75,75,0.2),rgba(233,75,75,0))]"}),o.jsx("div",{className:"absolute inset-y-0 right-0 -z-10 hidden w-2/3 max-w-3xl translate-x-1/4 rounded-[60%] bg-gradient-to-bl from-brand-purple/45 via-brand-mint/35 to-brand-gold/30 blur-3xl md:block"}),o.jsx("div",{className:"absolute -top-40 left-1/3 hidden h-72 w-72 rounded-full bg-brand-purple/20 blur-3xl md:block"}),o.jsxs("div",{className:"mx-auto grid max-w-6xl items-center gap-12 px-6 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-purple/10 px-4 py-1 text-sm font-semibold text-brand-purple shadow-inner shadow-brand-purple/10",children:"Build confidence with paper trading"}),o.jsx("h1",{className:"text-5xl font-extrabold tracking-tight md:text-6xl",children:"Learn investing, the South African way"}),o.jsx("p",{className:"max-w-xl text-lg text-muted dark:text-gray-300",children:"Master investing with curated baskets, auto adjusting sleeves, and real SA market data  all in a risk free sandbox built for South Africans."}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("a",{href:n,onClick:i=>{i.preventDefault(),s()},className:"btn-cta shadow-card shadow-brand-coral/30","data-testid":"cta-view-portfolio",children:e}),o.jsx("a",{href:"/archetypes",className:"btn-secondary",children:"Explore Archetypes"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs uppercase tracking-wide text-subtle dark:text-gray-400",children:[o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-brand-mint"}),"Live SA market data"]}),o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-brand-gold"}),"Inflation adjusted returns"]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative mx-auto max-w-md rounded-[32px] bg-white/95 p-6 shadow-card ring-1 ring-brand-purple/15 dark:bg-slate-900/80",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-wide text-subtle dark:text-gray-400",children:"Current plan"}),o.jsx("h3",{className:"text-2xl font-semibold text-brand-ink dark:text-white",children:"Navigator Growth"})]}),o.jsx("span",{className:"rounded-full bg-brand-mint/20 px-3 py-1 text-xs font-semibold text-brand-mint",children:"Rebalanced"})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"rounded-2xl bg-brand-purple/5 p-4",children:[o.jsx("p",{className:"text-subtle dark:text-gray-300",children:"Portfolio value"}),o.jsx("p",{className:"text-2xl font-bold text-brand-purple",children:"R 2 959"})]}),o.jsxs("div",{className:"rounded-2xl bg-brand-mint/5 p-4",children:[o.jsx("p",{className:"text-subtle dark:text-gray-300",children:"Annualised return"}),o.jsx("p",{className:"text-2xl font-bold text-brand-mint",children:"+24.74%"})]}),o.jsxs("div",{className:"rounded-2xl bg-brand-gold/10 p-4",children:[o.jsx("p",{className:"text-subtle dark:text-gray-300",children:"Total P&L"}),o.jsx("p",{className:"text-2xl font-bold text-brand-gold",children:"R 1 959"})]}),o.jsxs("div",{className:"rounded-2xl bg-brand-purple/5 p-4",children:[o.jsx("p",{className:"text-subtle dark:text-gray-300",children:"Benchmark"}),o.jsx("p",{className:"text-lg font-semibold text-brand-purple",children:"STX40  +18.2%"})]})]}),o.jsx("div",{className:"mt-6 rounded-2xl border border-brand-purple/20 bg-gradient-to-r from-brand-purple/10 via-brand-mint/10 to-brand-gold/10 p-4 text-sm text-brand-ink dark:text-gray-200",children:"Rebalance suggestions ready. Lock them in with two clicks."})]}),o.jsx("div",{className:"absolute -top-8 -left-6 hidden h-20 w-20 rounded-full bg-brand-gold/40 blur-xl md:block"})]})]})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-20",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-4",children:"Why StockBuddy?"}),o.jsx("p",{className:"text-lg text-muted dark:text-gray-300",children:"Learn investing the South African way with our educational platform"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"card text-center",children:[o.jsx(sr,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Paper Trading"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Practice with simulated trades on real JSE instruments without risking real money"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx(wx,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Educational Focus"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Learn about ETFs, REITs, and Top 40 shares with guided explanations and insights"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx(bx,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Curated Baskets"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Start with proven model portfolios tailored to your goals and risk tolerance"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx(_x,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SA Market Focus"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Deep dive into JSE Top 40, sector ETFs, and South African REITs"})]})]})]}),o.jsx("div",{className:"bg-slate-950/90 py-20",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-10",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold text-primary-100 flex items-center gap-2",children:[o.jsx(aw,{className:"w-6 h-6 text-primary-400"})," Jargon Flashcards"]}),o.jsx("p",{className:"text-primary-300 text-sm sm:text-base mt-2 max-w-2xl",children:"Tap the cards to flip them and see investing explained with playful SA flavoured analogies. Perfect for novice investors getting comfortable with the lingo."})]}),o.jsxs("div",{className:"flex items-center gap-2 text-primary-200 text-xs sm:text-sm",children:[o.jsx(H1,{className:"w-5 h-5"}),o.jsx("span",{children:"Swipe through for a quick confidence boost."})]})]}),o.jsx(mw,{cards:uw,perPage:6})]})}),o.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-4",children:"Ready to start your investing journey?"}),o.jsx("p",{className:"text-lg text-muted dark:text-gray-300 mb-8",children:"Join thousands of South Africans learning to invest smarter"}),o.jsx("button",{onClick:s,className:"btn-cta text-lg px-8 py-4",children:e==="Get Started - It's Free"?"Begin Your Journey":"Go to Portfolio"})]})})]})},fw=({term:t,analogy:e})=>{const[n,r]=an.useState(!1);return o.jsx("button",{type:"button",onClick:()=>r(s=>!s),className:"group perspective","aria-label":`Flashcard for ${t}`,children:o.jsxs("div",{className:`relative h-52 w-full transition-transform duration-500 [transform-style:preserve-3d] ${n?"rotate-y-180":""}`,children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-primary-500 to-primary-700 p-px shadow-lg [backface-visibility:hidden]",children:o.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 rounded-[inherit] bg-slate-950/95 px-6 py-6 text-center",children:[o.jsx(dw,{className:"h-8 w-8 text-primary-100"}),o.jsx("p",{className:"text-lg font-semibold text-white tracking-wide",children:t}),o.jsx("p",{className:"text-xs uppercase text-primary-200/80 tracking-[0.25em]",children:"Tap to flip"})]})}),o.jsxs("div",{className:"absolute inset-0 rounded-2xl bg-slate-900/90 px-6 py-6 text-left text-sm text-primary-100 shadow-lg [backface-visibility:hidden] rotate-y-180",children:[o.jsxs("p",{className:"font-semibold text-primary-200 mb-3",children:[t," in plain language"]}),o.jsx("p",{className:"leading-relaxed text-slate-100 text-sm",children:e})]})]})})},mw=({cards:t,perPage:e=6})=>{const[n,r]=an.useState(0),s=Math.ceil(t.length/e),i=()=>r(u=>(u+1)%s),a=()=>r(u=>(u-1+s)%s),l=n*e,c=t.slice(l,l+e),d=c.length===e?c:[...c,...t.slice(0,e-c.length)];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:a,className:"rounded-full border border-primary-400/60 px-4 py-2 text-sm text-primary-100 hover:bg-primary-500/10 transition-colors",children:"Previous"}),o.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:s}).map((u,h)=>o.jsx("span",{className:`h-2.5 w-2.5 rounded-full transition-colors ${h===n?"bg-primary-300":"bg-primary-800"}`},h))}),o.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-primary-400/60 px-4 py-2 text-sm text-primary-100 hover:bg-primary-500/10 transition-colors",children:"Next"})]}),o.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:d.map((u,h)=>o.jsx(fw,{term:u.term,analogy:u.analogy},`${u.term}-${l+h}`))})]})},Em=({}.VITE_API_BASE_URL||"").replace(/\/$/,""),pw=t=>(t.startsWith("/")||(t=`/${t}`),Em?`${Em}${t}`:t),Oe=(t,e)=>{const n=pw(t);return fetch(n,e)},gw=({onComplete:t,userId:e})=>{const n=un(),[r,s]=w.useState(1),[i,a]=w.useState({first_name:"",age_band:"",experience:"",goal:"",risk:50,horizon:"",anchor_stock:"",literacy_level:"",interests:[]}),[l,c]=w.useState(!1),[d,u]=w.useState(null);w.useEffect(()=>{(async()=>{if(e){c(!0);try{const _=await Oe(`/api/users/${e}`);if(_.ok){const j=await _.json();a({first_name:j.first_name||"",age_band:j.age_band||"",experience:j.experience||"",goal:j.goal||"",risk:j.risk??50,horizon:j.horizon||"",anchor_stock:j.anchor_stock||"",literacy_level:j.literacy_level||"",interests:j.interests||[]})}}catch(_){console.error("Error loading profile",_)}finally{c(!1)}}})()},[e]);const h=()=>{r<3?s(r+1):m()},f=()=>{r>1&&s(r-1)},m=async()=>{try{const b=await Oe("/api/onboarding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...i,user_id:e})});if(b.ok){const _=await b.json();t(_.user_id),n("/portfolio"),u(null)}else u("We could not save your preferences. Please try again.")}catch(b){console.error("Error during onboarding:",b),u("Something went wrong. Please try again later.")}},v=(b,_)=>{a(j=>({...j,[b]:_}))},x=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"What's your first name?"}),o.jsx("input",{type:"text",value:i.first_name,onChange:b=>v("first_name",b.target.value),className:"input-field",placeholder:"Enter your first name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"What's your age range?"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["18-24","25-34","35-44","45-54","55+"].map(b=>o.jsx("button",{onClick:()=>v("age_band",b),className:`p-3 rounded-lg border text-center transition-colors ${i.age_band===b?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:b},b))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"How would you describe your investing experience?"}),o.jsx("div",{className:"space-y-3",children:[{value:"novice",label:"Novice",desc:"New to investing, want to learn the basics"},{value:"intermediate",label:"Intermediate",desc:"Some experience, looking to improve"},{value:"advanced",label:"Advanced",desc:"Experienced investor, want to optimize"}].map(b=>o.jsxs("button",{onClick:()=>v("experience",b.value),className:`w-full p-4 rounded-lg border text-left transition-colors ${i.experience===b.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium",children:b.label}),o.jsx("div",{className:"text-sm opacity-75",children:b.desc})]},b.value))})]})]}),k=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"What's your primary investment goal?"}),o.jsx("div",{className:"space-y-3",children:[{value:"growth",label:"Growth",desc:"Build wealth over the long term"},{value:"balanced",label:"Balanced",desc:"Steady growth with some income"},{value:"income",label:"Income",desc:"Generate regular income from investments"}].map(b=>o.jsxs("button",{onClick:()=>v("goal",b.value),className:`w-full p-4 rounded-lg border text-left transition-colors ${i.goal===b.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium",children:b.label}),o.jsx("div",{className:"text-sm opacity-75",children:b.desc})]},b.value))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:["Risk Tolerance: ",i.risk,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:i.risk,onChange:b=>v("risk",parseInt(b.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-sm text-subtle dark:text-muted dark:text-gray-300 mt-1",children:[o.jsx("span",{children:"Conservative"}),o.jsx("span",{children:"Aggressive"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Investment time horizon?"}),o.jsx("div",{className:"space-y-3",children:[{value:"short",label:"Short (1-3 years)",desc:"Saving for near term goals"},{value:"medium",label:"Medium (3-7 years)",desc:"Building towards major goals"},{value:"long",label:"Long (7+ years)",desc:"Planning for retirement or long term wealth"}].map(b=>o.jsxs("button",{onClick:()=>v("horizon",b.value),className:`w-full p-4 rounded-lg border text-left transition-colors ${i.horizon===b.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium",children:b.label}),o.jsx("div",{className:"text-sm opacity-75",children:b.desc})]},b.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Pick your anchor stock (we'll cap it at 5% of your portfolio)"}),o.jsxs("select",{value:i.anchor_stock,onChange:b=>v("anchor_stock",b.target.value),className:"input-field",children:[o.jsx("option",{value:"",children:"Select an anchor stock"}),o.jsx("option",{value:"SBK.JO",children:"Standard Bank"}),o.jsx("option",{value:"FSR.JO",children:"FirstRand"}),o.jsx("option",{value:"CPI.JO",children:"Capitec"}),o.jsx("option",{value:"VOD.JO",children:"Vodacom"}),o.jsx("option",{value:"NPN.JO",children:"Naspers"}),o.jsx("option",{value:"SOL.JO",children:"Sasol"})]})]})]}),g=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"What interests you most? (Select all that apply)"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Banks","Resource counters","Retailers","Telcos","Property","Broad ETFs","Healthcare","Technology"].map(b=>o.jsx("button",{onClick:()=>{const _=i.interests.includes(b)?i.interests.filter(j=>j!==b):[...i.interests,b];v("interests",_)},className:`p-3 rounded-lg border text-center transition-colors ${i.interests.includes(b)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:b},b))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"What's your preferred learning style?"}),o.jsx("div",{className:"space-y-3",children:[{value:"novice",label:"Beginner friendly",desc:"Simple explanations, step-by-step guidance"},{value:"intermediate",label:"Moderate detail",desc:"Balanced explanations with some depth"},{value:"advanced",label:"Deep dive",desc:"Detailed analysis and advanced concepts"}].map(b=>o.jsxs("button",{onClick:()=>v("literacy_level",b.value),className:`w-full p-4 rounded-lg border text-left transition-colors ${i.literacy_level===b.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[o.jsx("div",{className:"font-medium",children:b.label}),o.jsx("div",{className:"text-sm opacity-75",children:b.desc})]},b.value))})]})]}),y=()=>{switch(r){case 1:return i.first_name&&i.age_band&&i.experience;case 2:return i.goal&&i.horizon&&i.anchor_stock;case 3:return i.interests.length>0&&i.literacy_level;default:return!1}};return o.jsx("div",{className:"min-h-screen py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l&&o.jsx("div",{className:"mb-4 text-sm text-gray-300 dark:text-gray-400",children:"Loading your previous selections..."}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:["Step ",r," of 3"]}),o.jsxs("span",{className:"text-sm text-subtle dark:text-muted dark:text-gray-300",children:[Math.round(r/3*100),"% Complete"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/3*100}%`}})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold text-brand-ink dark:text-gray-100 mb-6",children:[r===1&&"Tell us about yourself",r===2&&"Define your investment goals",r===3&&"Customize your experience"]}),r===1&&x(),r===2&&k(),r===3&&g(),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsxs("button",{onClick:f,disabled:r===1,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(X1,{className:"w-4 h-4"}),o.jsx("span",{children:"Back"})]}),o.jsxs("button",{onClick:h,disabled:!y(),className:"btn-cta flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{children:r===3?"Complete Setup":"Next"}),r===3?o.jsx(G1,{className:"w-4 h-4"}):o.jsx(K1,{className:"w-4 h-4"})]})]}),d&&o.jsx("p",{className:"mt-4 text-sm text-danger-600 dark:text-danger-500",children:d})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function da(t){return t+.5|0}const Wn=(t,e,n)=>Math.max(Math.min(t,n),e);function mi(t){return Wn(da(t*2.55),0,255)}function tr(t){return Wn(da(t*255),0,255)}function wn(t){return Wn(da(t/2.55)/100,0,1)}function Tm(t){return Wn(da(t*100),0,100)}const Lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qd=[..."0123456789ABCDEF"],xw=t=>Qd[t&15],yw=t=>Qd[(t&240)>>4]+Qd[t&15],Xa=t=>(t&240)>>4===(t&15),bw=t=>Xa(t.r)&&Xa(t.g)&&Xa(t.b)&&Xa(t.a);function vw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Lt[t[1]]*17,g:255&Lt[t[2]]*17,b:255&Lt[t[3]]*17,a:e===5?Lt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Lt[t[1]]<<4|Lt[t[2]],g:Lt[t[3]]<<4|Lt[t[4]],b:Lt[t[5]]<<4|Lt[t[6]],a:e===9?Lt[t[7]]<<4|Lt[t[8]]:255})),n}const kw=(t,e)=>t<255?e(t):"";function ww(t){var e=bw(t)?xw:yw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+kw(t.a,e):void 0}const _w=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jx(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function jw(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Nw(t,e,n){const r=jx(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function Sw(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function th(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,d,u;return i!==a&&(u=i-a,d=l>.5?u/(2-i-a):u/(i+a),c=Sw(n,r,s,u,i),c=c*60+.5),[c|0,d||0,l]}function nh(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(tr)}function rh(t,e,n){return nh(jx,t,e,n)}function Cw(t,e,n){return nh(Nw,t,e,n)}function Mw(t,e,n){return nh(jw,t,e,n)}function Nx(t){return(t%360+360)%360}function Pw(t){const e=_w.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?mi(+e[5]):tr(+e[5]));const s=Nx(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Cw(s,i,a):e[1]==="hsv"?r=Mw(s,i,a):r=rh(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function Ew(t,e){var n=th(t);n[0]=Nx(n[0]+e),n=rh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Tw(t){if(!t)return;const e=th(t),n=e[0],r=Tm(e[1]),s=Tm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${wn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Rm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Lm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rw(){const t={},e=Object.keys(Lm),n=Object.keys(Rm);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,Rm[i]);i=parseInt(Lm[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Ka;function Lw(t){Ka||(Ka=Rw(),Ka.transparent=[0,0,0,0]);const e=Ka[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Dw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Aw(t){const e=Dw.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?mi(a):Wn(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?mi(r):Wn(r,0,255)),s=255&(e[4]?mi(s):Wn(s,0,255)),i=255&(e[6]?mi(i):Wn(i,0,255)),{r,g:s,b:i,a:n}}}function Ow(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Qr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Iw(t,e,n){const r=Qr(wn(t.r)),s=Qr(wn(t.g)),i=Qr(wn(t.b));return{r:tr(Wc(r+n*(Qr(wn(e.r))-r))),g:tr(Wc(s+n*(Qr(wn(e.g))-s))),b:tr(Wc(i+n*(Qr(wn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Qa(t,e,n){if(t){let r=th(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=rh(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Sx(t,e){return t&&Object.assign(e||{},t)}function Dm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=tr(t[3]))):(e=Sx(t,{r:0,g:0,b:0,a:1}),e.a=tr(e.a)),e}function Fw(t){return t.charAt(0)==="r"?Aw(t):Pw(t)}class Qi{constructor(e){if(e instanceof Qi)return e;const n=typeof e;let r;n==="object"?r=Dm(e):n==="string"&&(r=vw(e)||Lw(e)||Fw(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Sx(this._rgb);return e&&(e.a=wn(e.a)),e}set rgb(e){this._rgb=Dm(e)}rgbString(){return this._valid?Ow(this._rgb):void 0}hexString(){return this._valid?ww(this._rgb):void 0}hslString(){return this._valid?Tw(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Iw(this._rgb,e._rgb,n)),this}clone(){return new Qi(this.rgb)}alpha(e){return this._rgb.a=tr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=da(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qa(this._rgb,2,e),this}darken(e){return Qa(this._rgb,2,-e),this}saturate(e){return Qa(this._rgb,1,e),this}desaturate(e){return Qa(this._rgb,1,-e),this}rotate(e){return Ew(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xn(){}const zw=(()=>{let t=0;return()=>t++})();function ge(t){return t==null}function Ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ue(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jt(t,e){return Ue(t)?t:e}function se(t,e){return typeof t>"u"?e:t}const Bw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Cx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function pe(t,e,n,r){let s,i,a;if(Ce(t))if(i=t.length,r)for(s=i-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<i;s++)e.call(n,t[s],s);else if(ue(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function qo(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Zo(t){if(Ce(t))return t.map(Zo);if(ue(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Zo(t[n[s]]);return e}return t}function Mx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function $w(t,e,n,r){if(!Mx(t))return;const s=e[t],i=n[t];ue(s)&&ue(i)?Ji(s,i,r):e[t]=Zo(i)}function Ji(t,e,n){const r=Ce(e)?e:[e],s=r.length;if(!ue(t))return t;n=n||{};const i=n.merger||$w;let a;for(let l=0;l<s;++l){if(a=r[l],!ue(a))continue;const c=Object.keys(a);for(let d=0,u=c.length;d<u;++d)i(c[d],t,a,n)}return t}function Ci(t,e){return Ji(t,e,{merger:Ww})}function Ww(t,e,n){if(!Mx(t))return;const r=e[t],s=n[t];ue(r)&&ue(s)?Ci(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zo(s))}const Am={"":t=>t,x:t=>t.x,y:t=>t.y};function Vw(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Hw(t){const e=Vw(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function qi(t,e){return(Am[e]||(Am[e]=Hw(e)))(t)}function sh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const el=t=>typeof t<"u",ir=t=>typeof t=="function",Om=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Uw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const he=Math.PI,je=2*he,Yw=je+he,tl=Number.POSITIVE_INFINITY,Gw=he/180,Fe=he/2,gr=he/4,Im=he*2/3,Vn=Math.log10,Ps=Math.sign;function Mi(t,e,n){return Math.abs(t-e)<n}function Fm(t){const e=Math.round(t);t=Mi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vn(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Xw(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function Kw(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Zi(t){return!Kw(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Qw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Px(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function on(t){return t*(he/180)}function ih(t){return t*(180/he)}function zm(t){if(!Ue(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ex(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*he&&(i+=je),{angle:i,distance:s}}function Jd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jw(t,e){return(t-e+Yw)%je-he}function xt(t){return(t%je+je)%je}function ea(t,e,n,r){const s=xt(t),i=xt(e),a=xt(n),l=xt(i-s),c=xt(a-s),d=xt(s-i),u=xt(s-a);return s===i||s===a||r&&i===a||l>c&&d<u}function dt(t,e,n){return Math.max(e,Math.min(n,t))}function qw(t){return dt(t,-32768,32767)}function ds(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function ah(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Cr=(t,e,n,r)=>ah(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),Zw=(t,e,n)=>ah(t,n,r=>t[r][e]>=n);function e2(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const Tx=["push","pop","shift","splice","unshift"];function t2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Tx.forEach(n=>{const r="_onData"+sh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function Bm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(Tx.forEach(i=>{delete t[i]}),delete t._chartjs)}function n2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Rx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Lx(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Rx.call(window,()=>{r=!1,t.apply(e,n)}))}}function r2(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const oh=t=>t==="start"?"left":t==="end"?"right":"center",rt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,s2=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function i2(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:h,max:f,minDefined:m,maxDefined:v}=a.getUserBounds();if(m){if(s=Math.min(Cr(c,u,h).lo,n?r:Cr(e,u,a.getPixelForValue(h)).lo),d){const x=c.slice(0,s+1).reverse().findIndex(k=>!ge(k[l.axis]));s-=Math.max(0,x)}s=dt(s,0,r-1)}if(v){let x=Math.max(Cr(c,a.axis,f,!0).hi+1,n?0:Cr(e,u,a.getPixelForValue(f),!0).hi+1);if(d){const k=c.slice(x-1).findIndex(g=>!ge(g[l.axis]));x+=Math.max(0,k)}i=dt(x,s,r)-s}else i=r-s}return{start:s,count:i}}function a2(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Ja=t=>t===0||t===1,$m=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*je/n)),Wm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*je/n)+1,Pi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fe)+1,easeOutSine:t=>Math.sin(t*Fe),easeInOutSine:t=>-.5*(Math.cos(he*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ja(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ja(t)?t:$m(t,.075,.3),easeOutElastic:t=>Ja(t)?t:Wm(t,.075,.3),easeInOutElastic(t){return Ja(t)?t:t<.5?.5*$m(t*2,.1125,.45):.5+.5*Wm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pi.easeInBounce(t*2)*.5:Pi.easeOutBounce(t*2-1)*.5+.5};function lh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Vm(t){return lh(t)?t:new Qi(t)}function Vc(t){return lh(t)?t:new Qi(t).saturate(.5).darken(.1).hexString()}const o2=["x","y","borderWidth","radius","tension"],l2=["color","borderColor","backgroundColor"];function c2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:l2},numbers:{type:"number",properties:o2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function d2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hm=new Map;function u2(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Hm.get(n);return r||(r=new Intl.NumberFormat(t,e),Hm.set(n,r)),r}function Ml(t,e,n){return u2(e,n).format(t)}const Dx={values(t){return Ce(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=h2(t,n)}const a=Vn(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Ml(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Vn(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?Dx.numeric.call(this,t,e,n):""}};function h2(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Pl={formatters:Dx};function f2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ir=Object.create(null),qd=Object.create(null);function Ei(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Hc(t,e,n){return typeof e=="string"?Ji(Ei(t,e),n):Ji(Ei(t,""),e)}class m2{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Vc(s.backgroundColor),this.hoverBorderColor=(r,s)=>Vc(s.borderColor),this.hoverColor=(r,s)=>Vc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Hc(this,e,n)}get(e){return Ei(this,e)}describe(e,n){return Hc(qd,e,n)}override(e,n){return Hc(Ir,e,n)}route(e,n,r,s){const i=Ei(this,e),a=Ei(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=a[s];return ue(c)?Object.assign({},d,c):se(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Le=new m2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[c2,d2,f2]);function p2(t){return!t||ge(t.size)||ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nl(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function g2(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,d,u,h,f;for(c=0;c<l;c++)if(h=n[c],h!=null&&!Ce(h))a=nl(t,s,i,a,h);else if(Ce(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!Ce(f)&&(a=nl(t,s,i,a,f));t.restore();const m=i.length/2;if(m>n.length){for(c=0;c<m;c++)delete s[i[c]];i.splice(0,m)}return a}function xr(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Um(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Zd(t,e,n,r){Ax(t,e,n,r,null)}function Ax(t,e,n,r,s){let i,a,l,c,d,u,h,f;const m=e.pointStyle,v=e.rotation,x=e.radius;let k=(v||0)*Gw;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(k),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,x,0,0,je):t.arc(n,r,x,0,je),t.closePath();break;case"triangle":u=s?s/2:x,t.moveTo(n+Math.sin(k)*u,r-Math.cos(k)*x),k+=Im,t.lineTo(n+Math.sin(k)*u,r-Math.cos(k)*x),k+=Im,t.lineTo(n+Math.sin(k)*u,r-Math.cos(k)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,a=Math.cos(k+gr)*c,h=Math.cos(k+gr)*(s?s/2-d:c),l=Math.sin(k+gr)*c,f=Math.sin(k+gr)*(s?s/2-d:c),t.arc(n-h,r-l,d,k-he,k-Fe),t.arc(n+f,r-a,d,k-Fe,k),t.arc(n+h,r+l,d,k,k+Fe),t.arc(n-f,r+a,d,k+Fe,k+he),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,u=s?s/2:c,t.rect(n-u,r-c,2*u,2*c);break}k+=gr;case"rectRot":h=Math.cos(k)*(s?s/2:x),a=Math.cos(k)*x,l=Math.sin(k)*x,f=Math.sin(k)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+f,r-a),t.lineTo(n+h,r+l),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":k+=gr;case"cross":h=Math.cos(k)*(s?s/2:x),a=Math.cos(k)*x,l=Math.sin(k)*x,f=Math.sin(k)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":h=Math.cos(k)*(s?s/2:x),a=Math.cos(k)*x,l=Math.sin(k)*x,f=Math.sin(k)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),k+=gr,h=Math.cos(k)*(s?s/2:x),a=Math.cos(k)*x,l=Math.sin(k)*x,f=Math.sin(k)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(k)*x,l=Math.sin(k)*x,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(k)*(s?s/2:x),r+Math.sin(k)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Nn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ch(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dh(t){t.restore()}function x2(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function y2(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function b2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function v2(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,u=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(l,u),t.stroke()}}function k2(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fr(t,e,n,r,s,i={}){const a=Ce(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,b2(t,i),c=0;c<a.length;++c)d=a[c],i.backdrop&&k2(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ge(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),v2(t,n,r,d,i),r+=Number(s.lineHeight);t.restore()}function rl(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*he,he,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,he,Fe,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Fe,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Fe,!0),t.lineTo(n+a.topLeft,r)}const w2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j2(t,e){const n=(""+t).match(w2);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const N2=t=>+t||0;function uh(t,e){const n={},r=ue(e),s=r?Object.keys(e):e,i=ue(t)?r?a=>se(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=N2(i(a));return n}function S2(t){return uh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ys(t){return uh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function at(t){const e=S2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||Le.font;let n=se(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=se(t.style,e.style);r&&!(""+r).match(_2)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:se(t.family,e.family),lineHeight:j2(se(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:se(t.weight,e.weight),string:""};return s.string=p2(s),s}function qa(t,e,n,r){let s=!0,i,a,l;for(i=0,a=t.length;i<a;++i)if(l=t[i],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),s=!1),n!==void 0&&Ce(l)&&(l=l[n%l.length],s=!1),l!==void 0))return r&&!s&&(r.cacheable=!1),l}function C2(t,e,n){const{min:r,max:s}=t,i=Cx(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function ur(t,e){return Object.assign(Object.create(t),e)}function hh(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=zx("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>hh([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Ix(l,c,()=>A2(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Gm(l).includes(c)},ownKeys(l){return Gm(l)},set(l,c,d){const u=l._storage||(l._storage=s());return l[c]=u[c]=d,delete l._keys,!0}})}function Es(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ox(t,r),setContext:i=>Es(t,i,n,r),override:i=>Es(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return Ix(i,a,()=>P2(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function Ox(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ir(n)?n:()=>n,isIndexable:ir(r)?r:()=>r}}const M2=(t,e)=>t?t+sh(e):e,fh=(t,e)=>ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ix(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function P2(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return ir(l)&&a.isScriptable(e)&&(l=E2(e,l,t,n)),Ce(l)&&l.length&&(l=T2(e,l,t,a.isIndexable)),fh(e,l)&&(l=Es(l,s,i&&i[e],a)),l}function E2(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),fh(t,c)&&(c=mh(s._scopes,s,t,c)),c}function T2(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ue(e[0])){const c=e,d=s._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=mh(d,s,t,u);e.push(Es(h,i,a&&a[t],l))}}return e}function Fx(t,e,n){return ir(t)?t(e,n):t}const R2=(t,e)=>t===!0?e:typeof t=="string"?qi(e,t):void 0;function L2(t,e,n,r,s){for(const i of e){const a=R2(n,i);if(a){t.add(a);const l=Fx(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function mh(t,e,n,r){const s=e._rootScopes,i=Fx(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=Ym(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=Ym(l,a,i,c,r),c===null)?!1:hh(Array.from(l),[""],s,i,()=>D2(e,n,r))}function Ym(t,e,n,r,s){for(;n;)n=L2(t,e,n,r,s);return n}function D2(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Ce(s)&&ue(n)?n:s||{}}function A2(t,e,n,r){let s;for(const i of e)if(s=zx(M2(i,t),n),typeof s<"u")return fh(t,s)?mh(n,r,t,s):s}function zx(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Gm(t){let e=t._keys;return e||(e=t._keys=O2(t._scopes)),e}function O2(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const I2=Number.EPSILON||1e-14,Ts=(t,e)=>e<t.length&&!t[e].skip&&t[e],Bx=t=>t==="x"?"y":"x";function F2(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=Jd(i,s),c=Jd(a,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=r*d,f=r*u;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function z2(t,e,n){const r=t.length;let s,i,a,l,c,d=Ts(t,0);for(let u=0;u<r-1;++u)if(c=d,d=Ts(t,u+1),!(!c||!d)){if(Mi(e[u],0,I2)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[u]=s*a*e[u],n[u+1]=i*a*e[u])}}function B2(t,e,n="x"){const r=Bx(n),s=t.length;let i,a,l,c=Ts(t,0);for(let d=0;d<s;++d){if(a=l,l=c,c=Ts(t,d+1),!l)continue;const u=l[n],h=l[r];a&&(i=(u-a[n])/3,l[`cp1${n}`]=u-i,l[`cp1${r}`]=h-i*e[d]),c&&(i=(c[n]-u)/3,l[`cp2${n}`]=u+i,l[`cp2${r}`]=h+i*e[d])}}function $2(t,e="x"){const n=Bx(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,d=Ts(t,0);for(a=0;a<r;++a)if(l=c,c=d,d=Ts(t,a+1),!!c){if(d){const u=d[e]-c[e];s[a]=u!==0?(d[n]-c[n])/u:0}i[a]=l?d?Ps(s[a-1])!==Ps(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}z2(t,s,i),B2(t,i,e)}function Za(t,e,n){return Math.max(Math.min(t,n),e)}function W2(t,e){let n,r,s,i,a,l=Nn(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&Nn(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Za(s.cp1x,e.left,e.right),s.cp1y=Za(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Za(s.cp2x,e.left,e.right),s.cp2y=Za(s.cp2y,e.top,e.bottom)))}function V2(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")$2(t,s);else{let d=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=F2(d,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&W2(t,n)}function ph(){return typeof window<"u"&&typeof document<"u"}function gh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sl(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const El=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function H2(t,e){return El(t).getPropertyValue(e)}const U2=["top","right","bottom","left"];function Er(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=U2[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Y2=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function G2(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(Y2(s,i,t.target))l=s,c=i;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,a=!0}return{x:l,y:c,box:a}}function wr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=El(n),i=s.boxSizing==="border-box",a=Er(s,"padding"),l=Er(s,"border","width"),{x:c,y:d,box:u}=G2(t,n),h=a.left+(u&&l.left),f=a.top+(u&&l.top);let{width:m,height:v}=e;return i&&(m-=a.width+l.width,v-=a.height+l.height),{x:Math.round((c-h)/m*n.width/r),y:Math.round((d-f)/v*n.height/r)}}function X2(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&gh(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=El(i),c=Er(l,"border","width"),d=Er(l,"padding");e=a.width-d.width-c.width,n=a.height-d.height-c.height,r=sl(l.maxWidth,i,"clientWidth"),s=sl(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||tl,maxHeight:s||tl}}const Hn=t=>Math.round(t*10)/10;function K2(t,e,n,r){const s=El(t),i=Er(s,"margin"),a=sl(s.maxWidth,t,"clientWidth")||tl,l=sl(s.maxHeight,t,"clientHeight")||tl,c=X2(t,e,n);let{width:d,height:u}=c;if(s.boxSizing==="content-box"){const f=Er(s,"border","width"),m=Er(s,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,r?d/r:u-i.height),d=Hn(Math.min(d,a,c.maxWidth)),u=Hn(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Hn(d/2)),(e!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Hn(Math.floor(u*r))),{width:d,height:u}}function Xm(t,e,n){const r=e||1,s=Hn(t.height*r),i=Hn(t.width*r);t.height=Hn(t.height),t.width=Hn(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Q2=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ph()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Km(t,e){const n=H2(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _r(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function J2(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function q2(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=_r(t,s,n),l=_r(s,i,n),c=_r(i,e,n),d=_r(a,l,n),u=_r(l,c,n);return _r(d,u,n)}const Z2=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},e_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bs(t,e,n){return t?Z2(e,n):e_()}function $x(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Wx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Vx(t){return t==="angle"?{between:ea,compare:Jw,normalize:xt}:{between:ds,compare:(e,n)=>e-n,normalize:e=>e}}function Qm({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function t_(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=Vx(r),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&a(l(e[d%c][r]),s,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function n_(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:d}=Vx(r),{start:u,end:h,loop:f,style:m}=t_(t,e,n),v=[];let x=!1,k=null,g,y,b;const _=()=>c(s,b,g)&&l(s,b)!==0,j=()=>l(i,g)===0||c(i,b,g),M=()=>x||_(),C=()=>!x||j();for(let P=u,E=u;P<=h;++P)y=e[P%a],!y.skip&&(g=d(y[r]),g!==b&&(x=c(g,s,i),k===null&&M()&&(k=l(g,s)===0?P:E),k!==null&&C()&&(v.push(Qm({start:k,end:P,loop:f,count:a,style:m})),k=null),E=P,b=g));return k!==null&&v.push(Qm({start:k,end:h,loop:f,count:a,style:m})),v}function r_(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=n_(r[s],t.points,e);i.length&&n.push(...i)}return n}function s_(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function i_(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%s];d.skip||d.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=d.stop?c:null):(a=c,l.skip&&(e=c)),l=d}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function a_(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=s_(n,s,i,r);if(r===!0)return Jm(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,d=!!t._fullLoop&&a===0&&l===s-1;return Jm(t,i_(n,a,c,d),n,e)}function Jm(t,e,n,r){return!r||!r.setContext||!n?e:o_(t,e,n,r)}function o_(t,e,n,r){const s=t._chart.getContext(),i=qm(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,d=[];let u=i,h=e[0].start,f=h;function m(v,x,k,g){const y=l?-1:1;if(v!==x){for(v+=c;n[v%c].skip;)v-=y;for(;n[x%c].skip;)x+=y;v%c!==x%c&&(d.push({start:v%c,end:x%c,loop:k,style:g}),u=g,h=x%c)}}for(const v of e){h=l?h:v.start;let x=n[h%c],k;for(f=h+1;f<=v.end;f++){const g=n[f%c];k=qm(r.setContext(ur(s,{type:"segment",p0:x,p1:g,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),l_(k,u)&&m(h,f-1,v.loop,u),x=g,u=k}h<f-1&&m(h,f-1,v.loop,u)}return d}function qm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function l_(t,e){if(!e)return!1;const n=[],r=function(s,i){return lh(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function eo(t,e,n){return t.options.clip?t[n]:e[n]}function c_(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:eo(n,e,"left"),right:eo(n,e,"right"),top:eo(r,e,"top"),bottom:eo(r,e,"bottom")}:e}function d_(t,e){const n=e._clip;if(n.disabled)return!1;const r=c_(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class u_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Rx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new u_;const Zm="transparent",h_={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Vm(t||Zm),s=r.valid&&Vm(e||Zm);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class f_{constructor(e,n,r,s){const i=n[r];s=qa([e.to,s,i,e.from]);const a=qa([e.from,i,s]);this._active=!0,this._fn=e.fn||h_[e.type||typeof a],this._easing=Pi[e.easing]||Pi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=qa([e.to,n,s,e.from]),this._from=qa([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Hx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ue(e))return;const n=Object.keys(Le.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ue(i))return;const a={};for(const l of n)a[l]=i[l];(Ce(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=p_(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&m_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[d];let h=i[d];const f=r.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new f_(f,e,d,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return yn.add(this._chart,r),!0}}function m_(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function p_(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ep(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function g_(t,e,n){if(n===!1)return!1;const r=ep(t,n),s=ep(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function x_(t){let e,n,r,s;return ue(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Ux(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function tp(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,d;if(e===null)return;let u=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(u=!0,r.all)continue;break}d=t.values[c],Ue(d)&&(i||e===0||Ps(e)===Ps(d))&&(e+=d)}return!u&&!r.all?0:e}function y_(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,d,u;for(c=0,d=a.length;c<d;++c)u=a[c],l[c]={[s]:u,[i]:t[u]};return l}function Uc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function b_(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function v_(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function k_(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function np(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function rp(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,d=a.axis,u=b_(i,a,r),h=e.length;let f;for(let m=0;m<h;++m){const v=e[m],{[c]:x,[d]:k}=v,g=v._stacks||(v._stacks={});f=g[d]=k_(s,u,x),f[l]=k,f._top=np(f,a,!0,r.type),f._bottom=np(f,a,!1,r.type);const y=f._visualValues||(f._visualValues={});y[l]=k}}function Yc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function w_(t,e){return ur(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function __(t,e,n){return ur(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function si(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Gc=t=>t==="reset"||t==="none",sp=(t,e)=>e?t:Object.assign({},t),j_=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ux(n,!0),values:null};class vs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Uc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&si(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,m,v)=>h==="x"?f:h==="r"?v:m,i=n.xAxisID=se(r.xAxisID,Yc(e,"x")),a=n.yAxisID=se(r.yAxisID,Yc(e,"y")),l=n.rAxisID=se(r.rAxisID,Yc(e,"r")),c=n.indexAxis,d=n.iAxisID=s(c,i,a,l),u=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bm(this._data,this),e._stacked&&si(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ue(n)){const s=this._cachedMeta;this._data=y_(n,s)}else if(r!==n){if(r){Bm(r,this);const s=this._cachedMeta;si(s),s._parsed=[]}n&&Object.isExtensible(n)&&t2(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Uc(n.vScale,n),n.stack!==r.stack&&(s=!0,si(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(rp(this,n._parsed),n._stacked=Uc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Ce(s[e])?f=this.parseArrayData(r,s,e,n):ue(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)r._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);r._sorted=c}a&&rp(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,d=i.getLabels(),u=i===a,h=new Array(s);let f,m,v;for(f=0,m=s;f<m;++f)v=f+r,h[f]={[l]:u||i.parse(d[v],v),[c]:a.parse(n[v],v)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+r,h=n[u],l[c]={x:i.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let u,h,f,m;for(u=0,h=s;u<h;++u)f=u+r,m=n[f],d[u]={x:i.parse(qi(m,l),f),y:a.parse(qi(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:Ux(s,!0),values:n._stacks[e.axis]._visualValues};return tp(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=tp(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=j_(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=v_(l);let f,m;function v(){m=s[f];const x=m[l.axis];return!Ue(m[e.axis])||u>x||h<x}for(f=0;f<a&&!(!v()&&(this.updateRangeFromParsed(d,e,m,c),i));++f);if(i){for(f=a-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Ue(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=x_(se(this.options.clip,g_(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=__(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=w_(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&el(r);if(l)return sp(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Le.elements[e]),v=()=>this.getContext(r,s,n),x=d.resolveNamedOptions(f,m,v,h);return x.$shared&&(x.$shared=c,i[a]=Object.freeze(sp(x,c))),x}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,r,n))}const d=new Hx(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Gc(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Gc(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&si(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(vs,"defaults",{}),Y(vs,"datasetElementType",null),Y(vs,"dataElementType",null);function N_(t,e,n){let r=1,s=1,i=0,a=0;if(e<je){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(b,_,j)=>ea(b,l,c,!0)?1:Math.max(_,_*n,j,j*n),v=(b,_,j)=>ea(b,l,c,!0)?-1:Math.min(_,_*n,j,j*n),x=m(0,d,h),k=m(Fe,u,f),g=v(he,d,h),y=v(he+Fe,u,f);r=(x-g)/2,s=(k-y)/2,i=-(x+g)/2,a=-(k+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class pi extends vs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(ue(r[e])){const{key:c="value"}=this._parsing;i=d=>+qi(r[d],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return on(this.options.rotation-90)}_getCircumference(){return on(this.options.circumference)}_getRotationExtents(){let e=je,n=-je;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(Bw(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:v,offsetY:x}=N_(h,u,c),k=(r.width-a)/f,g=(r.height-a)/m,y=Math.max(Math.min(k,g)/2,0),b=Cx(this.options.radius,y),_=Math.max(b*c,0),j=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=v*b,this.offsetY=x*b,s.total=this.calculateTotal(),this.outerRadius=b-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/je)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&d.animateScale,m=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:x,includeOptions:k}=this._getSharedOptions(n,s);let g=this._getRotation(),y;for(y=0;y<n;++y)g+=this._circumference(y,i);for(y=n;y<n+r;++y){const b=this._circumference(y,i),_=e[y],j={x:u+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+b,circumference:b,outerRadius:v,innerRadius:m};k&&(j.options=x||this.resolveDataElementOptions(y,_.active?"active":s)),g+=b,this.updateElement(_,y,j,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?je*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Ml(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(pi,"id","doughnut"),Y(pi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(pi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Y(pi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||h.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class ko extends vs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=i2(n,s,a);this._drawStart=l,this._drawCount=c,a2(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,m=l.axis,{spanGaps:v,segment:x}=this.options,k=Zi(v)?v:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||s==="none",y=n+r,b=e.length;let _=n>0&&this.getParsed(n-1);for(let j=0;j<b;++j){const M=e[j],C=g?M:{};if(j<n||j>=y){C.skip=!0;continue}const P=this.getParsed(j),E=ge(P[m]),T=C[f]=a.getPixelForValue(P[f],j),F=C[m]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,P,c):P[m],j);C.skip=isNaN(T)||isNaN(F)||E,C.stop=j>0&&Math.abs(P[f]-_[f])>k,x&&(C.parsed=P,C.raw=d.data[j]),h&&(C.options=u||this.resolveDataElementOptions(j,M.active?"active":s)),g||this.updateElement(M,j,C,s),_=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Y(ko,"id","line"),Y(ko,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(ko,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function yr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xh{constructor(e){Y(this,"options");this.options=e||{}}static override(e){Object.assign(xh.prototype,e)}init(){}formats(){return yr()}parse(){return yr()}format(){return yr()}add(){return yr()}diff(){return yr()}startOf(){return yr()}endOf(){return yr()}}var S_={_date:xh};function C_(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const d=l._reversePixels?Zw:Cr;if(r){if(s._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,n-h),m=d(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(i,e,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(x=>!ge(x[h.axis]));u.lo-=Math.max(0,m);const v=f.slice(u.hi).findIndex(x=>!ge(x[h.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function ua(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=C_(i[l],e,a,s);for(let m=h;m<=f;++m){const v=u[m];v.skip||r(v,d,m)}}}function M_(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Xc(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ua(t,n,e,function(l,c,d){!s&&!Nn(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function P_(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:h}=Ex(a,{x:e.x,y:e.y});ea(h,d,u)&&s.push({element:a,datasetIndex:l,index:c})}return ua(t,n,e,i),s}function E_(t,e,n,r,s,i){let a=[];const l=M_(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,s);if(r&&!m)return;const v=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!m)return;const k=l(e,v);k<c?(a=[{element:u,datasetIndex:h,index:f}],c=k):k===c&&a.push({element:u,datasetIndex:h,index:f})}return ua(t,n,e,d),a}function Kc(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?P_(t,e,n,s):E_(t,e,n,r,s,i)}function ip(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return ua(t,n,e,(c,d,u)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var T_={evaluateInteractionItems:ua,modes:{index(t,e,n,r){const s=wr(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Xc(t,s,i,r,a):Kc(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,r){const s=wr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Xc(t,s,i,r,a):Kc(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,n,r){const s=wr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Xc(t,s,i,r,a)},nearest(t,e,n,r){const s=wr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Kc(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=wr(e,t);return ip(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=wr(e,t);return ip(t,s,"y",n.intersect,r)}}};const Yx=["left","top","right","bottom"];function ii(t,e){return t.filter(n=>n.pos===e)}function ap(t,e){return t.filter(n=>Yx.indexOf(n.pos)===-1&&n.box.axis===e)}function ai(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function R_(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function L_(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Yx.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function D_(t,e){const n=L_(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=u?u*s:c&&e.availableHeight)}return n}function A_(t){const e=R_(t),n=ai(e.filter(d=>d.box.fullSize),!0),r=ai(ii(e,"left"),!0),s=ai(ii(e,"right")),i=ai(ii(e,"top"),!0),a=ai(ii(e,"bottom")),l=ap(e,"x"),c=ap(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:ii(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function op(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Gx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function O_(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!ue(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&Gx(a,i.getPadding());const l=Math.max(0,e.outerWidth-op(a,t,"left","right")),c=Math.max(0,e.outerHeight-op(a,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function I_(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function F_(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function gi(t,e,n,r){const s=[];let i,a,l,c,d,u;for(i=0,a=t.length,d=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,F_(l.horizontal,e));const{same:h,other:f}=O_(e,n,l,r);d|=h&&s.length,u=u||f,c.fullSize||s.push(l)}return d&&gi(s,e,n,r)||u}function to(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function lp(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,d=r[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;el(d.start)&&(a=d.start),c.fullSize?to(c,s.left,a,n.outerWidth-s.right-s.left,f):to(c,e.left+d.placed,a,h,f),d.start=a,d.placed+=h,a=c.bottom}else{const h=e.h*u,f=d.size||c.width;el(d.start)&&(i=d.start),c.fullSize?to(c,i,s.top,f,n.outerHeight-s.bottom-s.top):to(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=a}var It={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=at(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=A_(t.boxes),c=l.vertical,d=l.horizontal;pe(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,k)=>k.box.options&&k.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);Gx(f,at(r));const m=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),v=D_(c.concat(d),h);gi(l.fullSize,m,h,v),gi(c,m,h,v),gi(d,m,h,v)&&gi(c,m,h,v),I_(m),lp(l.leftAndTop,m,h,v),m.x+=m.w,m.y+=m.h,lp(l.rightAndBottom,m,h,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},pe(l.chartArea,x=>{const k=x.box;Object.assign(k,t.chartArea),k.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Xx{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class z_ extends Xx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wo="$chartjs",B_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cp=t=>t===null||t==="";function $_(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[wo]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cp(s)){const i=Km(t,"width");i!==void 0&&(t.width=i)}if(cp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Km(t,"height");i!==void 0&&(t.height=i)}return t}const Kx=Q2?{passive:!0}:!1;function W_(t,e,n){t&&t.addEventListener(e,n,Kx)}function V_(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Kx)}function H_(t,e){const n=B_[t.type]||t.type,{x:r,y:s}=wr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function il(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function U_(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||il(l.addedNodes,r),a=a&&!il(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Y_(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||il(l.removedNodes,r),a=a&&!il(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ta=new Map;let dp=0;function Qx(){const t=window.devicePixelRatio;t!==dp&&(dp=t,ta.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function G_(t,e){ta.size||window.addEventListener("resize",Qx),ta.set(t,e)}function X_(t){ta.delete(t),ta.size||window.removeEventListener("resize",Qx)}function K_(t,e,n){const r=t.canvas,s=r&&gh(r);if(!s)return;const i=Lx((l,c)=>{const d=s.clientWidth;n(l,c),d<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return a.observe(s),G_(t,i),a}function Qc(t,e,n){n&&n.disconnect(),e==="resize"&&X_(t)}function Q_(t,e,n){const r=t.canvas,s=Lx(i=>{t.ctx!==null&&n(H_(i,t))},t);return W_(r,e,s),s}class J_ extends Xx{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($_(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[wo])return!1;const r=n[wo].initial;["height","width"].forEach(i=>{const a=r[i];ge(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[wo],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:U_,detach:Y_,resize:K_}[n]||Q_;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Qc,detach:Qc,resize:Qc}[n]||V_)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return K2(e,n,r,s)}isAttached(e){const n=e&&gh(e);return!!(n&&n.isConnected)}}function q_(t){return!ph()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?z_:J_}class dn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Zi(this.x)&&Zi(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Y(dn,"defaults",{}),Y(dn,"defaultRoutes");function Z_(t,e){const n=t.options.ticks,r=ej(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?nj(e):[],a=i.length,l=i[0],c=i[a-1],d=[];if(a>s)return rj(e,d,i,a/s),d;const u=tj(i,e,s);if(a>0){let h,f;const m=a>1?Math.round((c-l)/(a-1)):null;for(no(e,d,u,ge(m)?0:l-m,l),h=0,f=a-1;h<f;h++)no(e,d,u,i[h],i[h+1]);return no(e,d,u,c,ge(m)?e.length:c+m),d}return no(e,d,u),d}function ej(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function tj(t,e,n){const r=sj(t),s=e.length/n;if(!r)return Math.max(s,1);const i=Xw(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function nj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function rj(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function no(t,e,n,r,s){const i=se(r,0),a=Math.min(se(s,t.length),t.length);let l=0,c,d,u;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),u=i;u<0;)l++,u=Math.round(i+l*n);for(d=Math.max(i,0);d<a;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*n))}function sj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const ij=t=>t==="left"?"right":t==="right"?"left":t,up=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,hp=(t,e)=>Math.min(e||t,t);function fp(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function aj(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),d;if(!(n&&(r===1?d=Math.max(c-i,a-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<i-l||c>a+l)))return c}function oj(t,e){pe(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function oi(t){return t.drawTicks?t.tickLength:0}function mp(t,e){if(!t.display)return 0;const n=Ve(t.font,e),r=at(t.padding);return(Ce(t.text)?t.text.length:1)*n.lineHeight+r.height}function lj(t,e){return ur(t,{scale:e,type:"scale"})}function cj(t,e,n){return ur(t,{tick:n,index:e,type:"tick"})}function dj(t,e,n){let r=oh(t);return(n&&e!=="right"||!n&&e==="right")&&(r=ij(r)),r}function uj(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,v;const x=a-s,k=l-i;if(t.isHorizontal()){if(m=rt(r,i,l),ue(n)){const g=Object.keys(n)[0],y=n[g];v=u[g].getPixelForValue(y)+x-e}else n==="center"?v=(d.bottom+d.top)/2+x-e:v=up(t,n,e);f=l-i}else{if(ue(n)){const g=Object.keys(n)[0],y=n[g];m=u[g].getPixelForValue(y)-k+e}else n==="center"?m=(d.left+d.right)/2-k+e:m=up(t,n,e);v=rt(r,a,s),h=n==="left"?-Fe:Fe}return{titleX:m,titleY:v,maxWidth:f,rotation:h}}class $r extends dn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=jt(e,Number.POSITIVE_INFINITY),n=jt(n,Number.NEGATIVE_INFINITY),r=jt(r,Number.POSITIVE_INFINITY),s=jt(s,Number.NEGATIVE_INFINITY),{min:jt(e,r),max:jt(n,s),minDefined:Ue(e),maxDefined:Ue(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:jt(n,jt(r,n)),max:jt(r,jt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C2(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?fp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Z_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=be(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=hp(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,d;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=dt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/r:m/(r-1),h+6>l&&(l=m/(r-(e.offset?.5:1)),c=this.maxHeight-oi(e.grid)-n.padding-mp(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),a=ih(Math.min(Math.asin(dt((u.highest.height+6)/l,-1,1)),Math.asin(dt(c/d,-1,1))-Math.asin(dt(f/d,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=mp(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=oi(i)+c):(e.height=this.maxHeight,e.width=oi(i)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,v=on(this.labelRotation),x=Math.cos(v),k=Math.sin(v);if(l){const g=r.mirror?0:k*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+g+m)}else{const g=r.mirror?0:x*h.width+k*f.height;e.width=Math.min(this.maxWidth,e.width+g+m)}this._calculatePadding(d,u,k,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=s*e.width,m=r*n.height):(f=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ge(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=fp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/hp(n,r));let d=0,u=0,h,f,m,v,x,k,g,y,b,_,j;for(h=0;h<n;h+=c){if(v=e[h].label,x=this._resolveTickFontOptions(h),s.font=k=x.string,g=i[k]=i[k]||{data:{},gc:[]},y=x.lineHeight,b=_=0,!ge(v)&&!Ce(v))b=nl(s,g.data,g.gc,b,v),_=y;else if(Ce(v))for(f=0,m=v.length;f<m;++f)j=v[f],!ge(j)&&!Ce(j)&&(b=nl(s,g.data,g.gc,b,j),_+=y);a.push(b),l.push(_),d=Math.max(b,d),u=Math.max(_,u)}oj(i,n);const M=a.indexOf(d),C=l.indexOf(u),P=E=>({width:a[E]||0,height:l[E]||0});return{first:P(0),last:P(n-1),widest:P(M),highest:P(C),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return qw(this._alignToPixels?xr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=cj(this.getContext(),e,r))}return this.$context||(this.$context=lj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=on(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=oi(i),m=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,k=x/2,g=function(ne){return xr(r,ne,x)};let y,b,_,j,M,C,P,E,T,F,N,D;if(a==="top")y=g(this.bottom),C=this.bottom-f,E=y-k,F=g(e.top)+k,D=e.bottom;else if(a==="bottom")y=g(this.top),F=e.top,D=g(e.bottom)-k,C=y+k,E=this.top+f;else if(a==="left")y=g(this.right),M=this.right-f,P=y-k,T=g(e.left)+k,N=e.right;else if(a==="right")y=g(this.left),T=e.left,N=g(e.right)-k,M=y+k,P=this.left+f;else if(n==="x"){if(a==="center")y=g((e.top+e.bottom)/2+.5);else if(ue(a)){const ne=Object.keys(a)[0],V=a[ne];y=g(this.chart.scales[ne].getPixelForValue(V))}F=e.top,D=e.bottom,C=y+k,E=C+f}else if(n==="y"){if(a==="center")y=g((e.left+e.right)/2);else if(ue(a)){const ne=Object.keys(a)[0],V=a[ne];y=g(this.chart.scales[ne].getPixelForValue(V))}M=y-k,P=M-f,T=e.left,N=e.right}const G=se(s.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/G));for(b=0;b<h;b+=z){const ne=this.getContext(b),V=i.setContext(ne),I=l.setContext(ne),W=V.lineWidth,Q=V.color,re=I.dash||[],ce=I.dashOffset,Ee=V.tickWidth,Te=V.tickColor,Je=V.tickBorderDash||[],Ne=V.tickBorderDashOffset;_=aj(this,b,c),_!==void 0&&(j=xr(r,_,W),d?M=P=T=N=j:C=E=F=D=j,m.push({tx1:M,ty1:C,tx2:P,ty2:E,x1:T,y1:F,x2:N,y2:D,width:W,color:Q,borderDash:re,borderDashOffset:ce,tickWidth:Ee,tickColor:Te,tickBorderDash:Je,tickBorderDashOffset:Ne}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=oi(r.grid),m=f+u,v=h?-u:m,x=-on(this.labelRotation),k=[];let g,y,b,_,j,M,C,P,E,T,F,N,D="middle";if(s==="top")M=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,j=z.x}else if(s==="right"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,j=z.x}else if(n==="x"){if(s==="center")M=(e.top+e.bottom)/2+m;else if(ue(s)){const z=Object.keys(s)[0],ne=s[z];M=this.chart.scales[z].getPixelForValue(ne)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-m;else if(ue(s)){const z=Object.keys(s)[0],ne=s[z];j=this.chart.scales[z].getPixelForValue(ne)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const G=this._getLabelSizes();for(g=0,y=l.length;g<y;++g){b=l[g],_=b.label;const z=i.setContext(this.getContext(g));P=this.getPixelForTick(g)+i.labelOffset,E=this._resolveTickFontOptions(g),T=E.lineHeight,F=Ce(_)?_.length:1;const ne=F/2,V=z.color,I=z.textStrokeColor,W=z.textStrokeWidth;let Q=C;a?(j=P,C==="inner"&&(g===y-1?Q=this.options.reverse?"left":"right":g===0?Q=this.options.reverse?"right":"left":Q="center"),s==="top"?d==="near"||x!==0?N=-F*T+T/2:d==="center"?N=-G.highest.height/2-ne*T+T:N=-G.highest.height+T/2:d==="near"||x!==0?N=T/2:d==="center"?N=G.highest.height/2-ne*T:N=G.highest.height-F*T,h&&(N*=-1),x!==0&&!z.showLabelBackdrop&&(j+=T/2*Math.sin(x))):(M=P,N=(1-F)*T/2);let re;if(z.showLabelBackdrop){const ce=at(z.backdropPadding),Ee=G.heights[g],Te=G.widths[g];let Je=N-ce.top,Ne=0-ce.left;switch(D){case"middle":Je-=Ee/2;break;case"bottom":Je-=Ee;break}switch(C){case"center":Ne-=Te/2;break;case"right":Ne-=Te;break;case"inner":g===y-1?Ne-=Te:g>0&&(Ne-=Te/2);break}re={left:Ne,top:Je,width:Te+ce.width,height:Ee+ce.height,color:z.backdropColor}}k.push({label:_,font:E,textOffset:N,options:{rotation:x,color:V,strokeColor:I,strokeWidth:W,textAlign:Q,textBaseline:D,translation:[j,M],backdrop:re}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-on(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let d,u;return n==="left"?s?(u=this.right+i,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=xr(e,this.left,a)-a/2,u=xr(e,this.right,l)+l/2,h=f=c):(h=xr(e,this.top,a)-a/2,f=xr(e,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&ch(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,d=a.label,u=a.textOffset;Fr(r,d,0,u,c,l)}s&&dh(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Ve(r.font),a=at(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ue(n)?(c+=a.bottom,Ce(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=uj(this,c,n,l);Fr(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:dj(l,n,s),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=se(e.grid&&e.grid.z,-1),s=se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$r.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ve(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ro{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;mj(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,hj(e,a,r),this.override&&Le.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Le[s]&&(delete Le[s][r],this.override&&delete Ir[r])}}function hj(t,e,n){const r=Ji(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,r),t.defaultRoutes&&fj(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function fj(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Le.route(i,s,c,l)})}function mj(t){return"id"in t&&"defaults"in t}class pj{constructor(){this.controllers=new ro(vs,"datasets",!0),this.elements=new ro(dn,"elements"),this.plugins=new ro(Object,"plugins"),this.scales=new ro($r,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):pe(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=sh(e);be(r["before"+s],[],r),n[e](r),be(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var rn=new pj;class gj{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(be(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=se(r.options&&r.options.plugins,{}),i=xj(r);return s===!1&&!n?[]:bj(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function xj(t){const e={},n=[],r=Object.keys(rn.plugins.items);for(let i=0;i<r.length;i++)n.push(rn.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function yj(t,e){return!e&&t===!1?null:t===!0?{}:t}function bj(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,d=yj(r[c],s);d!==null&&i.push({plugin:l,options:vj(t.config,{plugin:l,local:n[c]},d,a)})}return i}function vj(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eu(t,e){const n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function kj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function wj(t,e){return t===e?"_index_":"_value_"}function pp(t){if(t==="x"||t==="y"||t==="r")return t}function _j(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function tu(t,...e){if(pp(t))return t;for(const n of e){const r=n.axis||_j(n.position)||t.length>1&&pp(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function jj(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return gp(t,"x",n[0])||gp(t,"y",n[0])}return{}}function Nj(t,e){const n=Ir[t.type]||{scales:{}},r=e.scales||{},s=eu(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!ue(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=tu(a,l,jj(a,t),Le.scales[l.type]),d=wj(c,s),u=n.scales||{};i[a]=Ci(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||eu(l,e),u=(Ir[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=kj(h,c),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Ci(i[m],[{axis:f},r[m],u[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];Ci(l,[Le.scales[l.type],Le.scale])}),i}function Jx(t){const e=t.options||(t.options={});e.plugins=se(e.plugins,{}),e.scales=Nj(t,e)}function qx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Sj(t){return t=t||{},t.data=qx(t.data),Jx(t),t}const xp=new Map,Zx=new Set;function so(t,e){let n=xp.get(t);return n||(n=e(),xp.set(t,n),Zx.add(n)),n}const li=(t,e,n)=>{const r=qi(e,n);r!==void 0&&t.add(r)};class Cj{constructor(e){this._config=Sj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Jx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return so(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return so(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return so(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return so(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>li(c,e,h))),u.forEach(h=>li(c,s,h)),u.forEach(h=>li(c,Ir[i]||{},h)),u.forEach(h=>li(c,Le,h)),u.forEach(h=>li(c,qd,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Zx.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ir[n]||{},Le.datasets[n]||{},{type:n},Le,qd]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=yp(this._resolverCache,e,s);let c=a;if(Pj(a,n)){i.$shared=!1,r=ir(r)?r():r;const d=this.createResolver(e,r,l);c=Es(a,r,d)}for(const d of n)i[d]=c[d];return i}createResolver(e,n,r=[""],s){const{resolver:i}=yp(this._resolverCache,e,r);return ue(n)?Es(i,n,void 0,s):i}}function yp(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:hh(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const Mj=t=>ue(t)&&Object.getOwnPropertyNames(t).some(e=>ir(t[e]));function Pj(t,e){const{isScriptable:n,isIndexable:r}=Ox(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(ir(l)||Mj(l))||a&&Ce(l))return!0}return!1}var Ej="4.5.1";const Tj=["top","bottom","left","right","chartArea"];function bp(t,e){return t==="top"||t==="bottom"||Tj.indexOf(t)===-1&&e==="x"}function vp(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function kp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),be(n&&n.onComplete,[t],e)}function Rj(t){const e=t.chart,n=e.options.animation;be(n&&n.onProgress,[t],e)}function ey(t){return ph()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _o={},wp=t=>{const e=ey(t);return Object.values(_o).filter(n=>n.canvas===e).pop()};function Lj(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function Dj(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Dn;let hr=(Dn=class{static register(...e){rn.add(...e),_p()}static unregister(...e){rn.remove(...e),_p()}constructor(e,n){const r=this.config=new Cj(n),s=ey(e),i=wp(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||q_(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=zw(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=r2(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],_o[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",kp),yn.listen(this,"progress",Rj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ge(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Um(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,n){yn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Xm(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),be(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=tu(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),pe(i,a=>{const l=a.options,c=l.id,d=tu(c,l),u=se(l.type,a.dtype);(l.position===void 0||bp(l.position,d)!==bp(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===u)h=r[c];else{const f=rn.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,e)}),pe(s,(a,l)=>{a||delete r[l]}),pe(r,a=>{It.configure(this,a,a.options),It.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(vp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||eu(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=rn.getController(l),{datasetElementType:d,dataElementType:u}=Le.datasets[l];Object.assign(c,{dataElementType:rn.getElement(u),datasetElementType:d&&rn.getElement(d)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){pe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||pe(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vp("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){pe(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Om(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;Lj(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Om(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],pe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),kp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=d_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&ch(n,s),e.controller.draw(),s&&dh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Nn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=T_.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);el(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),yn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Um(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _o[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};pe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){pe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},pe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!qo(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=Uw(e),d=Dj(e,this._lastEvent,r,c);r&&(this._lastEvent=null,be(i.onHover,[e,l,this],this),c&&be(i.onClick,[e,l,this],this));const u=!qo(l,s);return(u||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Y(Dn,"defaults",Le),Y(Dn,"instances",_o),Y(Dn,"overrides",Ir),Y(Dn,"registry",rn),Y(Dn,"version",Ej),Y(Dn,"getChart",wp),Dn);function _p(){return pe(hr.instances,t=>t._plugins.invalidate())}function Aj(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/a,xt(r-n));if(t.beginPath(),t.arc(s,i,a-d/2,r+h/2,n-h/2),l>0){const f=Math.min(d/l,xt(r-n));t.arc(s,i,l+d/2,n-f/2,r+f/2,!0)}else{const f=Math.min(d/2,a*xt(r-n));if(u==="round")t.arc(s,i,f,n-he/2,r+he/2,!0);else if(u==="bevel"){const m=2*f*f,v=-m*Math.cos(n+he/2)+s,x=-m*Math.sin(n+he/2)+i,k=m*Math.cos(r+he/2)+s,g=m*Math.sin(r+he/2)+i;t.lineTo(v,x),t.lineTo(k,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Oj(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let d=s/l;t.beginPath(),t.arc(i,a,l,r-d,n+d),c>s?(d=s/c,t.arc(i,a,c,n+d,r-d,!0)):t.arc(i,a,s,n+Fe,r-Fe),t.closePath(),t.clip()}function Ij(t){return uh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Fj(t,e,n,r){const s=Ij(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const d=(n-Math.min(i,c))*r/2;return dt(c,0,Math.min(i,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:dt(s.innerStart,0,a),innerEnd:dt(s.innerEnd,0,a)}}function Jr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function al(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-d,0),f=u>0?u+r+n+d:0;let m=0;const v=s-c;if(r){const z=u>0?u-r:0,ne=h>0?h-r:0,V=(z+ne)/2,I=V!==0?v*V/(V+r):v;m=(v-I)/2}const x=Math.max(.001,v*h-n/he)/h,k=(v-x)/2,g=c+k+m,y=s-k-m,{outerStart:b,outerEnd:_,innerStart:j,innerEnd:M}=Fj(e,f,h,y-g),C=h-b,P=h-_,E=g+b/C,T=y-_/P,F=f+j,N=f+M,D=g+j/F,G=y-M/N;if(t.beginPath(),i){const z=(E+T)/2;if(t.arc(a,l,h,E,z),t.arc(a,l,h,z,T),_>0){const W=Jr(P,T,a,l);t.arc(W.x,W.y,_,T,y+Fe)}const ne=Jr(N,y,a,l);if(t.lineTo(ne.x,ne.y),M>0){const W=Jr(N,G,a,l);t.arc(W.x,W.y,M,y+Fe,G+Math.PI)}const V=(y-M/f+(g+j/f))/2;if(t.arc(a,l,f,y-M/f,V,!0),t.arc(a,l,f,V,g+j/f,!0),j>0){const W=Jr(F,D,a,l);t.arc(W.x,W.y,j,D+Math.PI,g-Fe)}const I=Jr(C,g,a,l);if(t.lineTo(I.x,I.y),b>0){const W=Jr(C,E,a,l);t.arc(W.x,W.y,b,g-Fe,E)}}else{t.moveTo(a,l);const z=Math.cos(E)*h+a,ne=Math.sin(E)*h+l;t.lineTo(z,ne);const V=Math.cos(T)*h+a,I=Math.sin(T)*h+l;t.lineTo(V,I)}t.closePath()}function zj(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){al(t,e,n,r,c,s);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=a+(l%je||je))}return al(t,e,n,r,c,s),t.fill(),c}function Bj(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=c,v=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let x=e.endAngle;if(i){al(t,e,n,r,x,s);for(let k=0;k<i;++k)t.stroke();isNaN(l)||(x=a+(l%je||je))}v&&Oj(t,e,x),c.selfJoin&&x-a>=he&&m===0&&u!=="miter"&&Aj(t,e,x),i||(al(t,e,n,r,x,s),t.stroke())}class us extends dn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=Ex(i,{x:n,y:r}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,v=se(f,d-c),x=ea(a,c,d)&&c!==d,k=v>=je||x,g=ds(l,u+m,h+m);return k&&g}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(i+a)/2,f=(l+c+u+d)/2;return{x:r+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>je?Math.floor(s/je):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(he,s||0)),u=i*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,zj(n,this,u,a,l),Bj(n,this,u,a,l),n.restore()}}Y(us,"id","arc"),Y(us,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Y(us,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(us,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ty(t,e,n=e){t.lineCap=se(n.borderCapStyle,e.borderCapStyle),t.setLineDash(se(n.borderDash,e.borderDash)),t.lineDashOffset=se(n.borderDashOffset,e.borderDashOffset),t.lineJoin=se(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=se(n.borderWidth,e.borderWidth),t.strokeStyle=se(n.borderColor,e.borderColor)}function $j(t,e,n){t.lineTo(n.x,n.y)}function Wj(t){return t.stepped?x2:t.tension||t.cubicInterpolationMode==="monotone"?y2:$j}function ny(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),d=Math.min(i,l),u=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:d<c&&!u?r+d-c:d-c}}function Vj(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:d}=ny(s,n,r),u=Wj(i);let{move:h=!0,reverse:f}=r||{},m,v,x;for(m=0;m<=d;++m)v=s[(l+(f?d-m:m))%a],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):u(t,x,v,f,i.stepped),x=v);return c&&(v=s[(l+(f?d:0))%a],u(t,x,v,f,i.stepped)),!!c}function Hj(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=ny(s,n,r),{move:c=!0,reverse:d}=r||{};let u=0,h=0,f,m,v,x,k,g;const y=_=>(a+(d?l-_:_))%i,b=()=>{x!==k&&(t.lineTo(u,k),t.lineTo(u,x),t.lineTo(u,g))};for(c&&(m=s[y(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=s[y(f)],m.skip)continue;const _=m.x,j=m.y,M=_|0;M===v?(j<x?x=j:j>k&&(k=j),u=(h*u+_)/++h):(b(),t.lineTo(_,j),v=M,h=0,x=k=j),g=j}b()}function nu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Hj:Vj}function Uj(t){return t.stepped?J2:t.tension||t.cubicInterpolationMode==="monotone"?q2:_r}function Yj(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),ty(t,e.options),t.stroke(s)}function Gj(t,e,n,r){const{segments:s,options:i}=e,a=nu(e);for(const l of s)ty(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Xj=typeof Path2D=="function";function Kj(t,e,n,r){Xj&&!e.options.segment?Yj(t,e,n,r):Gj(t,e,n,r)}class Un extends dn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;V2(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=a_(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=r_(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=Uj(r);let d,u;for(d=0,u=a.length;d<u;++d){const{start:h,end:f}=a[d],m=i[h],v=i[f];if(m===v){l.push(m);continue}const x=Math.abs((s-m[n])/(v[n]-m[n])),k=c(m,v,x,r.stepped);k[n]=e[n],l.push(k)}return l.length===1?l[0]:l}pathSegment(e,n,r){return nu(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=nu(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Kj(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Un,"id","line"),Y(Un,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Un,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Un,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function jp(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Tr extends dn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return jp(this,n,"x",r)}inYRange(n,r){return jp(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Nn(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Zd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(Tr,"id","point"),Y(Tr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(Tr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Np=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Qj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sp extends dn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Ve(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Np(r,i);let d,u;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(a,s,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=s+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((v,x)=>{const k=r+n/2+i.measureText(v.text).width;(x===0||d[d.length-1]+k+2*l>a)&&(h+=u,d[d.length-(x>0?0:1)]=0,m+=u,f++),c[x]={left:0,top:m,row:f,width:k,height:s},d[d.length-1]+=k+l}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-e;let h=l,f=0,m=0,v=0,x=0;return this.legendItems.forEach((k,g)=>{const{itemWidth:y,itemHeight:b}=Jj(r,n,i,k,s);g>0&&m+b+2*l>u&&(h+=f+l,d.push({width:f,height:m}),v+=f+l,x++,f=m=0),c[g]={left:v,top:m,col:x,width:y,height:b},f=Math.max(f,y),m+=b+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=bs(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=rt(r,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=rt(r,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let l=0,c=rt(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=rt(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ch(e,this),this._draw(),dh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Le.color,c=bs(e.rtl,this.left,this.width),d=Ve(a.font),{padding:u}=a,h=d.size,f=h/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:v,boxHeight:x,itemHeight:k}=Np(a,h),g=function(M,C,P){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;s.save();const E=se(P.lineWidth,1);if(s.fillStyle=se(P.fillStyle,l),s.lineCap=se(P.lineCap,"butt"),s.lineDashOffset=se(P.lineDashOffset,0),s.lineJoin=se(P.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=se(P.strokeStyle,l),s.setLineDash(se(P.lineDash,[])),a.usePointStyle){const T={radius:x*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:E},F=c.xPlus(M,v/2),N=C+f;Ax(s,T,F,N,a.pointStyleWidth&&v)}else{const T=C+Math.max((h-x)/2,0),F=c.leftForLtr(M,v),N=ys(P.borderRadius);s.beginPath(),Object.values(N).some(D=>D!==0)?rl(s,{x:F,y:T,w:v,h:x,radius:N}):s.rect(F,T,v,x),s.fill(),E!==0&&s.stroke()}s.restore()},y=function(M,C,P){Fr(s,P.text,M,C+k/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?m={x:rt(i,this.left+u,this.right-r[0]),y:this.top+u+_,line:0}:m={x:this.left+u,y:rt(i,this.top+_+u,this.bottom-n[0].height),line:0},$x(this.ctx,e.textDirection);const j=k+u;this.legendItems.forEach((M,C)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const P=s.measureText(M.text).width,E=c.textAlign(M.textAlign||(M.textAlign=a.textAlign)),T=v+f+P;let F=m.x,N=m.y;c.setWidth(this.width),b?C>0&&F+T+u>this.right&&(N=m.y+=j,m.line++,F=m.x=rt(i,this.left+u,this.right-r[m.line])):C>0&&N+j>this.bottom&&(F=m.x=F+n[m.line].width+u,m.line++,N=m.y=rt(i,this.top+_+u,this.bottom-n[m.line].height));const D=c.x(F);if(g(D,N,M),F=s2(E,F+v+f,b?F+T:this.right,e.rtl),y(c.x(F),N,M),b)m.x+=T+u;else if(typeof M.text!="string"){const G=d.lineHeight;m.y+=ry(M,G)+u}else m.y+=j}),Wx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ve(n.font),s=at(n.padding);if(!n.display)return;const i=bs(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,d=s.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=rt(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((x,k)=>Math.max(x,k.height),0);u=d+rt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=rt(l,h,h+f);a.textAlign=i.textAlign(oh(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Fr(a,n.text,m,u,r)}_computeTitleHeight(){const e=this.options.title,n=Ve(e.font),r=at(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ds(e,this.left,this.right)&&ds(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ds(e,s.left,s.left+s.width)&&ds(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!eN(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Qj(s,r);s&&!i&&be(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&be(n.onHover,[e,r,this],this)}else r&&be(n.onClick,[e,r,this],this)}}function Jj(t,e,n,r,s){const i=qj(r,t,e,n),a=Zj(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function qj(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function Zj(t,e,n){let r=t;return typeof e.text!="string"&&(r=ry(e,n)),r}function ry(t,e){const n=t.text?t.text.length:0;return e*n}function eN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Tl={id:"legend",_element:Sp,start(t,e,n){const r=t.legend=new Sp({ctx:t.ctx,options:n,chart:t});It.configure(t,r,n),It.addBox(t,r)},stop(t){It.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;It.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=at(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class sy extends dn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Ce(r.text)?r.text.length:1;this._padding=at(r.padding);const i=s*Ve(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,d,u,h;return this.isHorizontal()?(u=rt(l,r,i),h=n+e,d=i-r):(a.position==="left"?(u=r+e,h=rt(l,s,n),c=he*-.5):(u=i-e,h=rt(l,n,s),c=he*.5),d=s-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ve(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Fr(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:oh(n.align),textBaseline:"middle",translation:[a,l]})}}function tN(t,e){const n=new sy({ctx:t.ctx,options:e,chart:t});It.configure(t,n,e),It.addBox(t,n),t.titleBlock=n}var Rl={id:"title",_element:sy,start(t,e,n){tN(t,n)},stop(t){const e=t.titleBlock;It.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;It.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xi={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Jd(e,d);u<s&&(s=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function tn(t,e){return e&&(Ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function bn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function nN(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Cp(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Ve(e.bodyFont),d=Ve(e.titleFont),u=Ve(e.footerFont),h=i.length,f=s.length,m=r.length,v=at(e.padding);let x=v.height,k=0,g=r.reduce((_,j)=>_+j.before.length+j.lines.length+j.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*_+(g-m)*c.lineHeight+(g-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const b=function(_){k=Math.max(k,n.measureText(_).width+y)};return n.save(),n.font=d.string,pe(t.title,b),n.font=c.string,pe(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?a+2+e.boxPadding:0,pe(r,_=>{pe(_.before,b),pe(_.lines,b),pe(_.after,b)}),y=0,n.font=u.string,pe(t.footer,b),n.restore(),k+=v.width,{width:k,height:x}}function rN(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function sN(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function iN(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let d="center";return r==="center"?d=s<=(l+c)/2?"left":"right":s<=i/2?d="left":s>=a-i/2&&(d="right"),sN(d,t,e,n)&&(d="center"),d}function Mp(t,e,n){const r=n.yAlign||e.yAlign||rN(t,n);return{xAlign:n.xAlign||e.xAlign||iN(t,e,n,r),yAlign:r}}function aN(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function oN(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Pp(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,d=s+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=ys(a);let v=aN(e,l);const x=oN(e,c,d);return c==="center"?l==="left"?v+=d:l==="right"&&(v-=d):l==="left"?v-=Math.max(u,f)+s:l==="right"&&(v+=Math.max(h,m)+s),{x:dt(v,0,r.width-e.width),y:dt(x,0,r.height-e.height)}}function io(t,e,n){const r=at(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Ep(t){return tn([],bn(t))}function lN(t,e,n){return ur(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Tp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const iy={beforeTitle:xn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:xn,beforeBody:xn,beforeLabel:xn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xn,afterBody:xn,beforeFooter:xn,footer:xn,afterFooter:xn};function pt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?iy[e].call(n,r):s}class ru extends dn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Hx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=lN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=pt(r,"beforeTitle",this,e),i=pt(r,"title",this,e),a=pt(r,"afterTitle",this,e);let l=[];return l=tn(l,bn(s)),l=tn(l,bn(i)),l=tn(l,bn(a)),l}getBeforeBody(e,n){return Ep(pt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return pe(e,i=>{const a={before:[],lines:[],after:[]},l=Tp(r,i);tn(a.before,bn(pt(l,"beforeLabel",this,i))),tn(a.lines,pt(l,"label",this,i)),tn(a.after,bn(pt(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return Ep(pt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=pt(r,"beforeFooter",this,e),i=pt(r,"footer",this,e),a=pt(r,"afterFooter",this,e);let l=[];return l=tn(l,bn(s)),l=tn(l,bn(i)),l=tn(l,bn(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(nN(this.chart,n[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,r))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,r))),pe(l,u=>{const h=Tp(e.callbacks,u);s.push(pt(h,"labelColor",this,u)),i.push(pt(h,"labelPointStyle",this,u)),a.push(pt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=xi[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=Cp(this,r),d=Object.assign({},l,c),u=Mp(this.chart,r,d),h=Pp(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=ys(l),{x:f,y:m}=e,{width:v,height:x}=n;let k,g,y,b,_,j;return i==="center"?(_=m+x/2,s==="left"?(k=f,g=k-a,b=_+a,j=_-a):(k=f+v,g=k+a,b=_-a,j=_+a),y=k):(s==="left"?g=f+Math.max(c,u)+a:s==="right"?g=f+v-Math.max(d,h)-a:g=this.caretX,i==="top"?(b=m,_=b-a,k=g-a,y=g+a):(b=m+x,_=b+a,k=g+a,y=g-a),j=b),{x1:k,x2:g,x3:y,y1:b,y2:_,y3:j}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const d=bs(r.rtl,this.x,this.width);for(e.x=io(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=Ve(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,u=Ve(i.bodyFont),h=io(this,"left",i),f=s.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,v=n.y+m;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},k=s.leftForLtr(f,d)+d/2,g=v+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Zd(e,x,k,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Zd(e,x,k,g)}else{e.lineWidth=ue(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=s.leftForLtr(f,d),k=s.leftForLtr(s.xPlus(f,1),d-2),g=ys(a.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,rl(e,{x,y:v,w:d,h:c,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),rl(e,{x:k,y:v+1,w:d-2,h:c-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,v,d,c),e.strokeRect(x,v,d,c),e.fillStyle=a.backgroundColor,e.fillRect(k,v+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,h=Ve(r.bodyFont);let f=h.lineHeight,m=0;const v=bs(r.rtl,this.x,this.width),x=function(P){n.fillText(P,v.x(e.x+m),e.y+f/2),e.y+=f+i},k=v.textAlign(a);let g,y,b,_,j,M,C;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=io(this,k,r),n.fillStyle=r.bodyColor,pe(this.beforeBody,x),m=l&&k!=="right"?a==="center"?d/2+u:d+2+u:0,_=0,M=s.length;_<M;++_){for(g=s[_],y=this.labelTextColors[_],n.fillStyle=y,pe(g.before,x),b=g.lines,l&&b.length&&(this._drawColorBox(n,e,_,v,r),f=Math.max(h.lineHeight,c)),j=0,C=b.length;j<C;++j)x(b[j]),f=h.lineHeight;pe(g.after,x)}m=0,f=h.lineHeight,pe(this.afterBody,x),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=bs(r.rtl,this.x,this.width);for(e.x=io(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Ve(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:v}=ys(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+d,c+u-v),n.quadraticCurveTo(l+d,c+u,l+d-v,c+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=xi[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Cp(this,e),c=Object.assign({},a,this._size),d=Mp(n,e,c),u=Pp(e,c,d,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=at(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),$x(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Wx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!qo(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!qo(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=xi[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Y(ru,"positioners",xi);var Ll={id:"tooltip",_element:ru,positioners:xi,afterInit(t,e,n){n&&(t.tooltip=new ru({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cN=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function dN(t,e,n,r){const s=t.indexOf(e);if(s===-1)return cN(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const uN=(t,e)=>t===null?null:dt(Math.round(t),0,e);function Rp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Rs extends $r{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ge(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:dN(r,e,se(n,e),this._addedLabels),uN(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Rp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Y(Rs,"id","category"),Y(Rs,"defaults",{ticks:{callback:Rp}});function hN(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,v=u-1,{min:x,max:k}=e,g=!ge(a),y=!ge(l),b=!ge(d),_=(k-x)/(h+1);let j=Fm((k-x)/v/m)*m,M,C,P,E;if(j<1e-14&&!g&&!y)return[{value:x},{value:k}];E=Math.ceil(k/j)-Math.floor(x/j),E>v&&(j=Fm(E*j/v/m)*m),ge(c)||(M=Math.pow(10,c),j=Math.ceil(j*M)/M),s==="ticks"?(C=Math.floor(x/j)*j,P=Math.ceil(k/j)*j):(C=x,P=k),g&&y&&i&&Qw((l-a)/i,j/1e3)?(E=Math.round(Math.min((l-a)/j,u)),j=(l-a)/E,C=a,P=l):b?(C=g?a:C,P=y?l:P,E=d-1,j=(P-C)/E):(E=(P-C)/j,Mi(E,Math.round(E),j/1e3)?E=Math.round(E):E=Math.ceil(E));const T=Math.max(zm(j),zm(C));M=Math.pow(10,ge(c)?T:c),C=Math.round(C*M)/M,P=Math.round(P*M)/M;let F=0;for(g&&(f&&C!==a?(n.push({value:a}),C<a&&F++,Mi(Math.round((C+F*j)*M)/M,a,Lp(a,_,t))&&F++):C<a&&F++);F<E;++F){const N=Math.round((C+F*j)*M)/M;if(y&&N>l)break;n.push({value:N})}return y&&f&&P!==l?n.length&&Mi(n[n.length-1].value,l,Lp(l,_,t))?n[n.length-1].value=l:n.push({value:l}):(!y||P===l)&&n.push({value:P}),n}function Lp(t,e,{horizontal:n,minRotation:r}){const s=on(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class ol extends $r{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=Ps(s),d=Ps(i);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=hN(s,i);return e.bounds==="ticks"&&Px(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Ml(e,this.chart.options.locale,this.options.ticks.format)}}class Ls extends ol{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?e:0,this.max=Ue(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=on(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Y(Ls,"id","linear"),Y(Ls,"defaults",{ticks:{callback:Pl.formatters.numeric}});const na=t=>Math.floor(Vn(t)),br=(t,e)=>Math.pow(10,na(t)+e);function Dp(t){return t/Math.pow(10,na(t))===1}function Ap(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function fN(t,e){const n=e-t;let r=na(n);for(;Ap(t,e,r)>10;)r++;for(;Ap(t,e,r)<10;)r--;return Math.min(r,na(t))}function mN(t,{min:e,max:n}){e=jt(t.min,e);const r=[],s=na(e);let i=fN(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,d=Math.round((e-c)*a)/a,u=Math.floor((e-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),f=jt(t.min,Math.round((c+u+h*Math.pow(10,i))*a)/a);for(;f<n;)r.push({value:f,major:Dp(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,a=i>=0?1:a),f=Math.round((c+u+h*Math.pow(10,i))*a)/a;const m=jt(t.max,f);return r.push({value:m,major:Dp(m),significand:h}),r}class Op extends $r{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=ol.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Ue(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?Math.max(0,e):null,this.max=Ue(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=e===br(this.min,0)?br(this.min,-1):br(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,a=l=>s=n?s:l;r===s&&(r<=0?(i(1),a(10)):(i(br(r,-1)),a(br(s,1)))),r<=0&&i(br(s,-1)),s<=0&&a(br(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=mN(n,this);return e.bounds==="ticks"&&Px(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Ml(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vn(e),this._valueRange=Vn(this.max)-Vn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(Op,"id","logarithmic"),Y(Op,"defaults",{ticks:{callback:Pl.formatters.logarithmic,major:{enabled:!0}}});function su(t){const e=t.ticks;if(e.display&&t.display){const n=at(e.backdropPadding);return se(e.font&&e.font.size,Le.font.size)+n.height}return 0}function pN(t,e,n){return n=Ce(n)?n:[n],{w:g2(t,e.string,n),h:n.length*e.lineHeight}}function Ip(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function gN(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?he/i:0;for(let c=0;c<i;c++){const d=a.setContext(t.getPointLabelContext(c));s[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+s[c],l),h=Ve(d.font),f=pN(t.ctx,h,t._pointLabels[c]);r[c]=f;const m=xt(t.getIndexAngle(c)+l),v=Math.round(ih(m)),x=Ip(v,u.x,f.w,0,180),k=Ip(v,u.y,f.h,90,270);xN(n,e,m,x,k)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=vN(t,r,s)}function xN(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function yN(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,r+s+a,i),d=Math.round(ih(xt(c.angle+Fe))),u=_N(c.y,l.h,d),h=kN(d),f=wN(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+l.w,bottom:u+l.h}}function bN(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(Nn({x:n,y:r},e)||Nn({x:n,y:i},e)||Nn({x:s,y:r},e)||Nn({x:s,y:i},e))}function vN(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:su(i)/2,additionalAngle:a?he/s:0};let d;for(let u=0;u<s;u++){c.padding=n[u],c.size=e[u];const h=yN(t,u,c);r.push(h),l==="auto"&&(h.visible=bN(h,d),h.visible&&(d=h))}return r}function kN(t){return t===0||t===180?"center":t<180?"left":"right"}function wN(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function _N(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function jN(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:l}=e;if(!ge(l)){const c=ys(e.borderRadius),d=at(e.backdropPadding);t.fillStyle=l;const u=r-d.left,h=s-d.top,f=i-r+d.width,m=a-s+d.height;Object.values(c).some(v=>v!==0)?(t.beginPath(),rl(t,{x:u,y:h,w:f,h:m,radius:c}),t.fill()):t.fillRect(u,h,f,m)}}function NN(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));jN(n,a,i);const l=Ve(a.font),{x:c,y:d,textAlign:u}=i;Fr(n,t._pointLabels[s],c,d+l.lineHeight/2,l,{color:a.color,textAlign:u,textBaseline:"middle"})}}function ay(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,je);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function SN(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),ay(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function CN(t,e,n){return ur(t,{label:n,index:e,type:"pointLabel"})}class ao extends ol{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=at(su(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ue(e)&&!isNaN(e)?e:0,this.max=Ue(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/su(this.options))}generateTickLabels(e){ol.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=be(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?gN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=je/(this._pointLabels.length||1),r=this.options.startAngle||0;return xt(e*n+on(r))}getDistanceFromCenterForValue(e){if(ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return CN(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-Fe+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),ay(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&NN(this,a),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),m=s.setContext(f),v=i.setContext(f);SN(this,m,c,a,v)}}),r.display){for(e.save(),l=a-1;l>=0;l--){const u=r.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(c)),u=Ve(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,a=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const h=at(d.backdropPadding);e.fillRect(-a/2-h.left,-i-u.size/2-h.top,a+h.width,u.size+h.height)}Fr(e,l.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}Y(ao,"id","radialLinear"),Y(ao,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Y(ao,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(ao,"descriptors",{angleLines:{_fallback:"grid"}});const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bt=Object.keys(Dl);function Fp(t,e){return t-e}function zp(t,e){if(ge(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Ue(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(Zi(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function Bp(t,e,n,r){const s=bt.length;for(let i=bt.indexOf(t);i<s-1;++i){const a=Dl[bt[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return bt[i]}return bt[s-1]}function MN(t,e,n,r,s){for(let i=bt.length-1;i>=bt.indexOf(n);i--){const a=bt[i];if(Dl[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return bt[n?bt.indexOf(n):0]}function PN(t){for(let e=bt.indexOf(t)+1,n=bt.length;e<n;++e)if(Dl[bt[e]].common)return bt[e]}function $p(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=ah(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function EN(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function Wp(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:EN(t,r,s,n)}class ll extends $r{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new S_._date(e.adapters.date);s.init(n),Ci(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:zp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ue(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Ue(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=e2(s,i,a);return this._unit=n.unit||(r.autoSkip?Bp(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):MN(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:PN(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),Wp(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=dt(n,0,a),r=dt(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||Bp(i.minUnit,n,r,this._getLabelCapacity(n)),l=se(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,d=Zi(c)||c===!0,u={};let h=n,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+e.add(f,l,a),m++)$p(u,f,v);return(f===r||s.bounds==="ticks"||m===1)&&$p(u,f,v),Object.keys(u).sort(Fp).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return be(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=r[n],m=d&&h&&f&&f.major;return this._adapter.format(e,s||(m?h:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=on(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Wp(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(zp(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return n2(e.sort(Fp))}}Y(ll,"id","time"),Y(ll,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oo(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Cr(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Cr(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const d=a-i;return d?l+(c-l)*(e-i)/d:l}class Vp extends ll{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=oo(n,this.min),this._tableRange=oo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,d,u;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=r&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)u=s[a+1],c=s[a-1],d=s[a],Math.round((u+c)/2)!==d&&i.push({time:d,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(oo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return oo(this._table,r*this._tableRange+this._minPos,!0)}}Y(Vp,"id","timeseries"),Y(Vp,"defaults",ll.defaults);const oy="label";function Hp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function TN(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ly(t,e){t.labels=e}function cy(t,e,n=oy){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function RN(t,e=oy){const n={labels:[],datasets:[]};return ly(n,t.labels),cy(n,t.datasets,e),n}function LN(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=w.useRef(null),v=w.useRef(null),x=()=>{m.current&&(v.current=new hr(m.current,{type:a,data:RN(l,i),options:c&&{...c},plugins:d}),Hp(e,v.current))},k=()=>{Hp(e,null),v.current&&(v.current.destroy(),v.current=null)};return w.useEffect(()=>{!s&&v.current&&c&&TN(v.current,c)},[s,c]),w.useEffect(()=>{!s&&v.current&&ly(v.current.config.data,l.labels)},[s,l.labels]),w.useEffect(()=>{!s&&v.current&&l.datasets&&cy(v.current.config.data,l.datasets,i)},[s,l.datasets]),w.useEffect(()=>{v.current&&(s?(k(),setTimeout(x)):v.current.update(h))},[s,c,l.labels,l.datasets,h]),w.useEffect(()=>{v.current&&(k(),setTimeout(x))},[a]),w.useEffect(()=>(x(),()=>k()),[]),o.jsx("canvas",{ref:m,role:"img",height:n,width:r,...f,children:u})}const DN=w.forwardRef(LN);function dy(t,e){return hr.register(e),w.forwardRef((n,r)=>o.jsx(DN,{...n,ref:r,type:t}))}const yh=dy("line",ko),AN=dy("doughnut",pi),uy=w.createContext(void 0),hy="stockbuddy_theme",ON=()=>typeof window>"u"||typeof window.matchMedia!="function"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",IN=()=>{if(typeof window>"u")return{mode:"dark",explicit:!1};const t=window.localStorage.getItem(hy);return t==="light"||t==="dark"?{mode:t,explicit:!0}:{mode:ON(),explicit:!1}},FN=({children:t})=>{const e=w.useMemo(IN,[]),[n,r]=w.useState(e.mode),[s,i]=w.useState(e.explicit),a=w.useCallback(u=>{if(typeof document>"u")return;const h=document.documentElement;u==="dark"?h.classList.add("dark"):h.classList.remove("dark"),h.dataset.theme=u,h.classList.add("theme-transition"),window.setTimeout(()=>h.classList.remove("theme-transition"),400)},[]);w.useEffect(()=>{a(n),!(typeof window>"u")&&s&&window.localStorage.setItem(hy,n)},[n,s,a]),w.useEffect(()=>{if(typeof window>"u"||s)return;const u=window.matchMedia("(prefers-color-scheme: dark)"),h=f=>{r(f.matches?"dark":"light")};return typeof u.addEventListener=="function"?(u.addEventListener("change",h),()=>u.removeEventListener("change",h)):(u.addListener(h),()=>u.removeListener(h))},[s]);const l=w.useCallback(u=>{r(u),i(!0)},[]),c=w.useCallback(()=>{r(u=>u==="dark"?"light":"dark"),i(!0)},[]),d=w.useMemo(()=>({theme:n,toggleTheme:c,setTheme:l,hasExplicitPreference:s}),[n,c,l,s]);return o.jsx(uy.Provider,{value:d,children:t})},Fs=()=>{const t=w.useContext(uy);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t};hr.register(Rs,Ls,Tr,Un,Rl,Ll,Tl);const zN=()=>{const{theme:t}=Fs(),e=un(),[n,r]=w.useState([]),[s,i]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState("all"),[u,h]=w.useState(""),[f,m]=w.useState("name"),[v,x]=w.useState(!1),[k,g]=w.useState(""),[y,b]=w.useState(new Set);w.useEffect(()=>{_()},[]),w.useEffect(()=>{j()},[n,c,u,f,k]);const _=async()=>{try{const N=await Oe("/api/instruments");if(N.ok){const D=await N.json();r(D)}}catch(N){console.error("Error fetching instruments:",N)}finally{l(!1)}},j=()=>{let N=n;c!=="all"&&(N=N.filter(D=>D.type===c)),u&&(N=N.filter(D=>D.name.toLowerCase().includes(u.toLowerCase())||D.symbol.toLowerCase().includes(u.toLowerCase()))),k&&(N=N.filter(D=>D.sector===k)),N.sort((D,G)=>{switch(f){case"name":return D.name.localeCompare(G.name);case"price":return(G.latest_price||0)-(D.latest_price||0);case"yield":return G.dividend_yield-D.dividend_yield;case"sector":return D.sector.localeCompare(G.sector);default:return 0}}),i(N)},M=N=>{const D=new Set(y);D.has(N)?D.delete(N):D.add(N),b(D)},C=N=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(N),P=()=>Array.from(new Set(n.map(D=>D.sector).filter(Boolean))).sort(),E=N=>{if(!N.mini_series||N.mini_series.length===0)return o.jsx("div",{className:"h-16 flex items-center justify-center text-gray-400 text-sm",children:"No data"});const D={labels:N.mini_series.map(V=>new Date(V.date).toLocaleDateString("en-ZA",{month:"short",day:"numeric"})),datasets:[{data:N.mini_series.map(V=>V.close),borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.1)",tension:.1,pointRadius:0}]},ne={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:t==="dark"?"rgba(15,23,42,0.92)":"rgba(42,42,42,0.9)",borderColor:"transparent",borderWidth:0,callbacks:{label:V=>C(V.parsed.y)}}},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0}}};return o.jsx("div",{className:"h-16",children:o.jsx(yh,{data:D,options:ne})})},T=N=>{switch(N){case"etf":return"";case"share":return"";case"reit":return"";default:return""}},F=N=>{switch(N){case"etf":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"share":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"reit":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading instruments..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-2",children:"Discover Instruments"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Explore JSE ETFs, shares, and REITs for your portfolio"})]}),o.jsxs("div",{className:"card mb-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(rw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search instruments...",value:u,onChange:N=>h(N.target.value),className:"input-field pl-10"})]})}),o.jsx("div",{className:"lg:w-48",children:o.jsxs("select",{value:f,onChange:N=>m(N.target.value),className:"input-field",children:[o.jsx("option",{value:"name",children:"Sort by Name"}),o.jsx("option",{value:"price",children:"Sort by Price"}),o.jsx("option",{value:"yield",children:"Sort by Yield"}),o.jsx("option",{value:"sector",children:"Sort by Sector"})]})}),o.jsxs("button",{onClick:()=>x(!v),className:"btn-secondary flex items-center space-x-2",children:[o.jsx(q1,{className:"w-4 h-4"}),o.jsx("span",{children:"Filters"})]})]}),v&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Sector"}),o.jsxs("select",{value:k,onChange:N=>g(N.target.value),className:"input-field",children:[o.jsx("option",{value:"",children:"All Sectors"}),P().map(N=>o.jsx("option",{value:N,children:N},N))]})]})})})]}),o.jsx("div",{className:"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[{key:"all",label:"All",count:n.length},{key:"etf",label:"ETFs",count:n.filter(N=>N.type==="etf").length},{key:"share",label:"Shares",count:n.filter(N=>N.type==="share").length},{key:"reit",label:"REITs",count:n.filter(N=>N.type==="reit").length}].map(N=>o.jsxs("button",{onClick:()=>d(N.key),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${c===N.key?"bg-white dark:bg-gray-700 text-brand-ink dark:text-gray-100 shadow-sm":"text-muted dark:text-gray-300 hover:text-brand-ink dark:text-gray-100 dark:hover:text-gray-100"}`,children:[N.label," (",N.count,")"]},N.key))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(N=>o.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl",children:T(N.type)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-brand-ink dark:text-gray-100",children:N.symbol}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:N.name})]})]}),o.jsx("button",{onClick:()=>M(N.symbol),className:`p-1 rounded-full transition-colors ${y.has(N.symbol)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,children:o.jsx(ow,{className:`w-5 h-5 ${y.has(N.symbol)?"fill-current":""}`})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-2xl font-bold text-brand-ink dark:text-gray-100",children:N.latest_price?C(N.latest_price):"N/A"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(N.type)}`,children:N.type.toUpperCase()})]}),N.price_date&&o.jsxs("p",{className:"text-sm text-subtle dark:text-muted dark:text-gray-300",children:["Updated ",new Date(N.price_date).toLocaleDateString("en-ZA")]})]}),o.jsx("div",{className:"mb-4",children:E(N)}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Dividend Yield"}),o.jsxs("p",{className:"font-semibold text-brand-ink dark:text-gray-100",children:[N.dividend_yield.toFixed(1),"%"]})]}),N.ter>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"TER"}),o.jsxs("p",{className:"font-semibold text-brand-ink dark:text-gray-100",children:[N.ter.toFixed(2),"%"]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>e(`/trade/${N.symbol}`),className:"flex-1 btn-cta text-sm py-2",children:"Trade"}),o.jsx("button",{className:"btn-secondary text-sm py-2 px-3",children:o.jsx(kx,{className:"w-4 h-4"})})]})]},N.id))}),s.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted dark:text-gray-300",children:"No instruments found matching your criteria"})})]})})};hr.register(Rs,Ls,Tr,Un,Rl,Ll,Tl,us);const BN={id:"hoverLine",afterDatasetsDraw:t=>{const{ctx:e,tooltip:n,chartArea:r}=t;if(!n||!n.getActiveElements||!n.getActiveElements().length)return;const s=n.getActiveElements()[0];if(!s)return;const{x:i}=s.element;e.save(),e.lineWidth=1,e.setLineDash([4,4]),e.strokeStyle="rgba(148, 163, 184, 0.45)",e.beginPath(),e.moveTo(i,r.top),e.lineTo(i,r.bottom),e.stroke(),e.restore()}};hr.register(BN);const Up=["January","February","March","April","May","June","July","August","September","October","November","December"],$N=({userId:t})=>{var sf,af;const{theme:e}=Fs(),n=e==="dark",[r,s]=w.useState(null),[i,a]=w.useState(null),[l,c]=w.useState(null),[d,u]=w.useState(!0),[h,f]=w.useState(!1),[m,v]=w.useState("5y"),[x,k]=w.useState("lump_sum"),[g,y]=w.useState(1e3),[b,_]=w.useState(300),[j,M]=w.useState(60),[C,P]=w.useState("1000"),[E,T]=w.useState("300"),[F,N]=w.useState([]),[D,G]=w.useState(""),[z,ne]=w.useState(()=>typeof window>"u"?!1:localStorage.getItem("stockbuddy_inflation_adjust")==="1"),[V,I]=w.useState("reinvest"),[W,Q]=w.useState(""),[re,ce]=w.useState(""),[Ee,Te]=w.useState(null),[Je,Ne]=w.useState(null),[$,U]=w.useState(null),X=w.useRef(60),Z=w.useRef(300),[ae,Be]=w.useState([]),[Al,qt]=w.useState({}),[$t,Ol]=w.useState(null),[Il,fy]=w.useState([]),[Fl,my]=w.useState({}),[zl,py]=w.useState([]),[ha,Bl]=w.useState(!1),[Wr,hn]=w.useState([]),[bh,fr]=w.useState(null),[$l,vh]=w.useState(!1),[Wl,kh]=w.useState(!1),[Vl,wh]=w.useState(null),[Tt,Zt]=w.useState(null),[Vr,Wt]=w.useState(""),[gy,fa]=w.useState(!1),[Hl,zs]=w.useState(""),[Hr,Ul]=w.useState(!1),[_h,Yl]=w.useState(!1),[Vt,Gl]=w.useState("monthly"),[Ur,Xl]=w.useState("12"),[ma,Kl]=w.useState("1000"),[pa,Ql]=w.useState("300"),[qe,ga]=w.useState("lump_sum"),[Yr,xa]=w.useState("reinvest"),[jh,fn]=w.useState(null),[Nh,xy]=w.useState([]),Sh=w.useRef(!0),Jl=w.useRef(null),ql=w.useRef(null),yy=w.useRef(null),Ch=p=>p?p.charAt(0).toUpperCase()+p.slice(1):"",by=p=>{if(!p)return"Just now";const S=new Date(p);return Number.isNaN(S.getTime())?p:S.toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},Mh=un();w.useEffect(()=>{(async()=>{try{const S=await Oe("/api/instruments");if(S.ok){const R=(await S.json()||[]).map(O=>({symbol:O.symbol,label:O.name}));py(R),N(R),!D&&R.length&&G(R[0].symbol)}}catch(S){console.error("Error loading instruments:",S)}})()},[]),w.useEffect(()=>{qt({}),Ol(null)},[r==null?void 0:r.suggestions]),w.useEffect(()=>{var p;Tt?requestAnimationFrame(()=>{var S,L;(S=Jl.current)==null||S.focus(),(L=ql.current)==null||L.scrollTo({top:0,behavior:"auto"})}):((p=Jl.current)==null||p.blur(),Vr!==""&&Wt(""))},[Tt,Vr]),w.useEffect(()=>{var p;(p=ql.current)==null||p.scrollTo({top:0,behavior:"auto"})},[Vr]);const Ph=w.useMemo(()=>{const p=Vr.trim().toLowerCase();return p?zl.filter(S=>S.symbol.toLowerCase().includes(p)||S.label.toLowerCase().includes(p)):zl},[zl,Vr]),Eh=w.useMemo(()=>{const p=Hl.trim().toLowerCase();return p?F.filter(S=>S.symbol.toLowerCase().includes(p)||S.label.toLowerCase().includes(p)):F},[F,Hl]);w.useEffect(()=>{if(m==="custom"&&(re||ce(new Date().toISOString().slice(0,10)),!W)){const p=new Date;p.setFullYear(p.getFullYear()-5),Q(p.toISOString().slice(0,10))}},[m,W,re]),w.useEffect(()=>{t&&Bs()},[t]),w.useEffect(()=>{if(!t)return;(async()=>{try{await mn()}finally{u(!1)}})()},[t]),w.useEffect(()=>{typeof window>"u"||localStorage.setItem("stockbuddy_inflation_adjust",z?"1":"0")},[z]),w.useEffect(()=>{if(t){if(Sh.current){Sh.current=!1;return}mn(!1,!0)}},[z]);const Bs=async()=>{try{const p=await Oe(`/api/portfolio/${t}`);if(p.ok){const S=await p.json();s(S);const L=Array.isArray(S.holdings)?S.holdings:[],R=Gr(L.map(B=>Number(B.weight??0))),O=L.map((B,te)=>({...B,weight:R[te]??0}));if(Be(O),fy(S.applied_suggestions||[]),my(S.baseline_allocations||{}),xy(Array.isArray(S.alerts)?S.alerts:[]),!ha){let B=O.map((te,K)=>({id:`${te.symbol}-${K}`,symbol:te.symbol,weight:te.weight??0}));if(!B.length)B.push({id:`custom-${Date.now()}`,symbol:"",weight:0});else if(B.length){const te=Gr(B.map(K=>K.weight));B=B.map((K,J)=>({...K,weight:te[J]??0}))}hn(B)}Te(B=>B??{totalValue:S.total_value,totalInvested:S.total_cost,totalReturn:S.total_pnl,totalReturnPct:S.total_pnl_pct,totalDividends:0,dividendsDistributed:0,averageDividendYield:null,holdingsValue:S.total_value,distributionPolicy:V})}}catch(p){console.error("Error fetching portfolio:",p)}},Zl=an.useCallback((p,S)=>{var ot;if(!p)return null;const L=p.distribution_policy==="cash_out"||p.distribution_policy==="reinvest"?p.distribution_policy:S,R=typeof p.ending_value_holdings=="number"?p.ending_value_holdings:typeof p.ending_value=="number"?p.ending_value:0,O=typeof p.ending_value=="number"?p.ending_value:R,B=typeof p.total_dividends=="number"?p.total_dividends:0,te=typeof p.dividends_distributed=="number"?p.dividends_distributed:0,K=typeof p.total_invested=="number"?p.total_invested:0,J=z&&Array.isArray(p.series_real)&&p.series_real.length?((ot=p.series_real[p.series_real.length-1])==null?void 0:ot.value)??O:O,q=z&&typeof p.total_return_real=="number"?p.total_return_real:typeof p.total_return=="number"?p.total_return:0,oe=K?q/Math.max(K,1)*100:0;return{totalValue:J,totalInvested:K,totalReturn:q,totalReturnPct:oe,totalDividends:B,dividendsDistributed:te,averageDividendYield:typeof p.average_dividend_yield=="number"?p.average_dividend_yield:null,holdingsValue:R,distributionPolicy:L}},[z]),vy=an.useCallback(()=>{if(typeof window>"u")return null;const p=z?"stockbuddy_performance_payload_real":"stockbuddy_performance_payload_nominal",S=localStorage.getItem(p);if(!S)return null;try{const L=JSON.parse(S),R=L==null?void 0:L.__inputs;if(R&&R.timeframe===m&&R.investment_mode===x&&Number(R.initial_investment)===Number(g)&&Number(R.monthly_contribution)===Number(b)&&R.inflation_adjust===z&&R.distribution_policy===V)return L}catch{return null}return null},[m,x,g,b,z,V]),mn=async(p=Hr,S=!1)=>{f(!0);const L=()=>f(!1);if(!S){const R=vy();if(R){a(R),Te(Zl(R,V)),c(null),Ne(null),fn(null),L();return}}try{const R={user_id:t,timeframe:m,investment_mode:x,initial_investment:g,monthly_contribution:b};m==="custom"&&(W&&re?(R.custom_start=W,R.custom_end=re):R.custom_months=j);const O=p?(()=>{const K=Math.round(Rn(ma,g)),J=Rn(pa,b),q=qe==="monthly"?Math.round(J):0,oe=qe==="monthly"?Vt:null,ot=oe==="annual"?Number(Ur):void 0,gn={initial_investment:K,monthly_contribution:Math.max(0,q),investment_mode:qe,distribution_policy:Yr};return oe&&(gn.contribution_frequency=oe,ot&&Number.isFinite(ot)&&(gn.annual_month=ot)),gn})():null,B={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...R,benchmark:D||null,inflation_adjust:z,distribution_policy:V,...O?{contribution_scenario:O}:{}})},te=await Oe("/api/simulate/performance",B);if(te.ok){const K=await te.json(),J=(K==null?void 0:K.baseline)??K;J.__inputs={timeframe:m,investment_mode:x,initial_investment:g,monthly_contribution:b,inflation_adjust:z,distribution_policy:V};const q=K!=null&&K.baseline?K==null?void 0:K.scenario:null;if(a(J),typeof window<"u")try{const oe=z?"stockbuddy_performance_payload_real":"stockbuddy_performance_payload_nominal";localStorage.setItem(oe,JSON.stringify(J))}catch{}if(typeof window<"u"){const oe=typeof(J==null?void 0:J.annual_return)=="number"?J.annual_return:null,ot=typeof(J==null?void 0:J.annual_return_real)=="number"?J.annual_return_real:null;oe!==null&&Number.isFinite(oe)&&(localStorage.setItem("stockbuddy_annualised_return_nominal",oe.toString()),localStorage.setItem("stockbuddy_annualised_return",oe.toString())),ot!==null&&Number.isFinite(ot)?localStorage.setItem("stockbuddy_annualised_return_real",ot.toString()):localStorage.removeItem("stockbuddy_annualised_return_real")}c(q||null),Te(Zl(J,V)),O&&q?(Ne(Zl(q,Yr)),fn(null)):O?(Ne(null),fn("Scenario could not be generated with the current settings.")):(Ne(null),fn(null))}}catch(R){console.error("Error fetching performance data:",R),Hr&&fn("Unable to load scenario right now. Please try again.")}finally{L()}},fe=p=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(p),mr=p=>`${p>=0?"+":""}${p.toFixed(2)}%`,ky=p=>typeof p!="number"||Number.isNaN(p)?"":mr(p),$s=p=>typeof p!="number"||Number.isNaN(p)?"":`${p.toFixed(2)}%`,wy=p=>{const S=fe(Math.abs(p));return p>=0?`+${S}`:`-${S}`},_y=(p,S)=>{if(!Number.isFinite(S))return String(S);const L=p.toLowerCase();return L.includes("pct")||L.includes("delta")?`${S.toFixed(1)}%`:fe(S)},Rn=(p,S)=>{if(!p)return S;const L=p.replace(/[^0-9.]/g,""),R=Number(L);return Number.isFinite(R)?Math.max(0,R):S},mt=p=>Number.isFinite(p)?Math.max(0,Math.min(100,Math.round(p))):0,Gr=(p,S=null,L=100)=>{const R=p.map(Rt=>Number.isFinite(Rt)?Math.max(0,Rt):0),O=R.length;if(!O)return[];const B=Math.max(0,Math.round(L)),te=(Rt,lt)=>{const le=Rt.map(me=>Math.max(0,me)),Ge=le.length;if(!Ge)return[];const pr=le.reduce((me,Ht)=>me+Ht,0);if(pr<=0){const me=Math.floor(lt/Ge),Ht=lt-me*Ge;return le.map((oS,tb)=>me+(tb<Ht?1:0))}const Ys=le.map(me=>me/pr*lt),Gs=Ys.map(me=>Math.floor(me));let Xs=lt-Gs.reduce((me,Ht)=>me+Ht,0);const Ea=Ys.map((me,Ht)=>({idx:Ht,frac:me-Math.floor(me)})).sort((me,Ht)=>Ht.frac-me.frac),Ks=Gs.slice();let Ae=0;for(;Xs>0&&Ae<Ea.length;)Ks[Ea[Ae].idx]+=1,Xs-=1,Ae+=1;return Ks};if(S===null||S<0||S>=O)return te(R,B);const K=mt(R[S]??0),J=Math.max(0,B-K),q=[],oe=[];R.forEach((Rt,lt)=>{lt!==S&&(q.push(lt),oe.push(Rt))});const ot=te(oe,J),gn=Array(O).fill(0);return gn[S]=K,q.forEach((Rt,lt)=>{gn[Rt]=ot[lt]??0}),gn},ya=(p,S,L)=>{if(!p.length)return[];const R=p.map(le=>Number.isFinite(le)?mt(le):0),O=R.slice(),B=O.slice(0,S).reduce((le,Ge)=>le+Ge,0),te=mt(L),K=Math.max(0,100-B),J=Math.min(te,K);O[S]=J;let q=Math.max(0,100-B-J);const oe=[],ot=[];for(let le=S+1;le<O.length;le+=1)oe.push(le),ot.push(Math.max(0,R[le]));const gn=(le,Ge)=>{if(!le.length||Ge<=0)return Array(le.length).fill(0);const pr=le.reduce((Ae,me)=>Ae+me,0);if(pr<=0){const Ae=Math.floor(Ge/le.length);let me=Ge-Ae*le.length;return le.map(()=>{const Ht=me>0?1:0;return me>0&&(me-=1),Ae+Ht})}const Ys=le.map(Ae=>Ae/pr*Ge),Gs=Ys.map(Ae=>Math.floor(Ae));let Xs=Ge-Gs.reduce((Ae,me)=>Ae+me,0);const Ea=Ys.map((Ae,me)=>({idx:me,frac:Ae-Math.floor(Ae)})).sort((Ae,me)=>me.frac-Ae.frac),Ks=Gs.slice();for(const Ae of Ea){if(Xs<=0)break;Ks[Ae.idx]+=1,Xs-=1}return Ks};if(oe.length){const le=gn(ot,q);oe.forEach((Ge,pr)=>{O[Ge]=le[pr]??0})}let Rt=O.reduce((le,Ge)=>le+Ge,0),lt=100-Rt;if(lt!==0){const le=oe.length?oe[oe.length-1]:S;O[le]=mt((O[le]??0)+lt)}if(Rt=O.reduce((le,Ge)=>le+Ge,0),lt=100-Rt,lt!==0){const le=oe.length?oe[oe.length-1]:S;O[le]=mt((O[le]??0)+lt)}return O},ec=w.useMemo(()=>ae.length?ae.reduce((p,S)=>Number.isFinite(S.weight)?p+mt(S.weight):p,0):100,[ae]),ba=w.useMemo(()=>100-ec,[ec]),jy=(p,S)=>{const L=S.replace(/[^0-9]/g,""),R=Number(L);if(!Number.isFinite(R))return;const O=mt(R);Be(B=>{if(!B.length)return B;const te=B.map(J=>Number.isFinite(J.weight)?Number(J.weight):0),K=ya(te,p,O);return B.map((J,q)=>({...J,weight:K[q]??0}))})},Th=(p,S)=>{Be(L=>{if(!L.length)return L;const R=L.map(K=>Number.isFinite(K.weight)?Number(K.weight):0),O=R[p]??0,B=mt(O+S),te=ya(R,p,B);return L.map((K,J)=>({...K,weight:te[J]??0}))})},Ny=()=>{Be(p=>{if(!p.length)return p;const S=p.map(R=>Number.isFinite(R.weight)?Number(R.weight):0),L=Gr(S);return p.map((R,O)=>({...R,weight:L[O]??0}))})},Sy=async()=>{if(t){kh(!0);try{const p=await Oe("/api/portfolio/reset-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t})});if(p.ok)Bl(!1),Zt(null),Wt(""),await Bs(),await mn();else{const S=await p.json().catch(()=>({}));console.error("Error resetting portfolio",S)}}catch(p){console.error("Error resetting portfolio",p)}finally{kh(!1)}}},Cy=(p,S)=>{hn(L=>L.map(R=>R.id===p?{...R,symbol:S}:R))},My=(p,S)=>{const L=S.replace(/[^0-9]/g,""),R=Number(L);if(!Number.isFinite(R))return;const O=mt(R);hn(B=>{const te=B.findIndex(q=>q.id===p);if(te===-1)return B;const K=B.map(q=>Number.isFinite(q.weight)?q.weight:0),J=ya(K,te,O);return B.map((q,oe)=>({...q,weight:J[oe]??0}))})},Rh=(p,S)=>{hn(L=>{const R=L.findIndex(J=>J.id===p);if(R===-1)return L;const O=L.map(J=>Number.isFinite(J.weight)?J.weight:0),B=O[R]??0,te=mt(B+S),K=ya(O,R,te);return L.map((J,q)=>({...J,weight:K[q]??0}))})},Py=p=>{hn(S=>S.filter(L=>L.id!==p)),Tt===p&&(Zt(null),Wt(""))},Ey=()=>{const p=`${Date.now()}-${Math.random()}`;hn(S=>[...S,{id:p,symbol:"",weight:0}]),Zt(p),Wt(""),setTimeout(()=>{requestAnimationFrame(()=>{const S=document.getElementById(`custom-row-${p}`);S==null||S.scrollIntoView({behavior:"smooth",block:"nearest"})})},0)},Lh=(p,S)=>{Be(L=>{if(L.length<=1)return L;const R=S==="up"?p-1:p+1;if(R<0||R>=L.length)return L;const O=L.slice(),[B]=O.splice(p,1);return O.splice(R,0,B),O})},Dh=(p,S)=>{hn(L=>{const R=L.findIndex(K=>K.id===p);if(R===-1||L.length<=1)return L;const O=S==="up"?R-1:R+1;if(O<0||O>=L.length)return L;const B=L.slice(),[te]=B.splice(R,1);return B.splice(O,0,te),B})},Ty=p=>{Zt(S=>S===p?null:p)},Ry=()=>{if(!Fl||Object.keys(Fl).length===0){fr("No baseline allocation stored for this profile.");return}const p=Object.entries(Fl),S=Gr(p.map(([,R])=>Number(R??0))),L=p.map(([R],O)=>({id:`${R}-${O}`,symbol:R,weight:S[O]??0}));hn(L),Zt(null),Wt("")},Ly=async()=>{if(!t)return;if(fr(null),!Wr.length){fr("Add at least one instrument to build a portfolio.");return}const p={};Wr.forEach(O=>{var te;const B=(te=O.symbol)==null?void 0:te.trim();B&&(p[B]=(p[B]||0)+(Number.isFinite(O.weight)?O.weight:0))});const S=Object.entries(p).filter(([,O])=>O>0).map(([O,B])=>({symbol:O,weight:mt(B)}));if(!S.length){fr("Choose valid instruments before applying.");return}const L=Gr(S.map(O=>O.weight)),R=S.map((O,B)=>({...O,weight:L[B]??0}));vh(!0);try{const O=await Oe("/api/portfolio/custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,allocations:R})});if(O.ok)Bl(!1),Zt(null),Wt(""),await Bs(),await mn();else{const B=await O.json().catch(()=>({}));fr((B==null?void 0:B.error)||"Unable to apply custom portfolio right now.")}}catch(O){console.error("Error applying custom portfolio",O),fr("Unable to apply custom portfolio right now.")}finally{vh(!1)}},Dy=async p=>{if(t){wh(p);try{const S=await Oe("/api/portfolio/suggestions/reverse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,action_id:p})});if(S.ok)await Bs(),await mn();else{const L=await S.json().catch(()=>({}));console.error("Error reversing suggestion",L)}}catch(S){console.error("Error reversing suggestion",S)}finally{wh(null)}}},Ah=async(p,S)=>{const L=`${p.replace_symbol}->${p.suggest_symbol}`;if(S==="accepted"){if(!t)return;Ol(L);try{const R=await Oe("/api/portfolio/suggestions/apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,replace_symbol:p.replace_symbol,suggest_symbol:p.suggest_symbol,target_weight:p.target_weight})});if(R.ok)qt(O=>({...O,[L]:"accepted"})),await Bs(),await mn();else{const O=await R.json().catch(()=>({}));console.error("Error applying suggestion",O)}}catch(R){console.error("Error applying suggestion",R)}finally{Ol(null)}return}qt(R=>({...R,[L]:S}))},va=(p={})=>{const S=p.initial??C,L=p.monthly??E,R=Math.round(Rn(S,g)),O=Rn(L,Z.current),B=Number.isFinite(O)&&O>0?Math.round(O):0;if(U(null),y(R),P(String(R)),B>0&&(Z.current=B),x==="monthly"?(_(B),T(String(B||Z.current))):(_(0),T(String(Z.current))),m==="custom")if(W&&re){const te=new Date(W),K=new Date(re);if(K<=te){U("End date must be after start date.");return}const J=(K.getFullYear()-te.getFullYear())*12+(K.getMonth()-te.getMonth())+1,q=Math.min(Math.max(J,1),360);X.current=q,M(q)}else{const te=Math.min(Math.max(X.current,1),360);X.current=te,M(te)}},Ay=w.useRef(null),Oh=w.useRef(null),Oy=async()=>{if(qe==="monthly"&&Vt==="annual"){const p=Number(Ur);if(!Number.isFinite(p)||p<1||p>12){fn("Select the month you receive your annual contribution."),Yl(!0);return}}Ul(!0),fn(null),Yl(!0),await mn(!0)},Iy=async()=>{Ul(!1),Kl(String(g)),Ql(String(x==="monthly"?b:Z.current)),ga(x),xa(V),Gl("monthly"),Xl("12"),fn(null),await mn(!1)},Fy=async()=>{const p=Math.round(Rn(ma,g)),S=Rn(pa,b),L=qe==="monthly"?Math.round(S):0;y(p),P(String(p)),qe==="monthly"?(Z.current=L,_(L),T(String(L))):(_(0),T(String(Z.current))),k(qe),I(Yr),Ul(!1),await mn(!1)};w.useEffect(()=>{const p=S=>{var K;const L=S.target,R=Tt?document.getElementById(`instrument-popover-${Tt}`):null,O=Tt?document.getElementById(`instrument-trigger-${Tt}`):null,B=(R==null?void 0:R.contains(L))??!1,te=(O==null?void 0:O.contains(L))??!1;Tt&&!B&&!te&&(Zt(null),Wt("")),(((K=Oh.current)==null?void 0:K.contains(L))??!1)||(fa(!1),zs(""))};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[Tt]);const ka=w.useMemo(()=>i?z&&i.series_real&&i.series_real.length?i.series_real:i.series||[]:[],[i,z]),tc=w.useMemo(()=>(i==null?void 0:i.benchmark_series)||[],[i]),Ih=(i==null?void 0:i.benchmark_label)||(((sf=F.find(p=>p.symbol===D))==null?void 0:sf.label)??"Benchmark"),zy=w.useMemo(()=>{const p=new Map;return tc.forEach(S=>p.set(S.date,S.value)),p},[tc]),nc=w.useMemo(()=>l?z&&l.series_real&&l.series_real.length?l.series_real:l.series||[]:[],[l,z]),By=w.useMemo(()=>{const p=new Map;return nc.forEach(S=>p.set(S.date,S.value)),p},[nc]),$y=w.useMemo(()=>Wr.reduce((p,S)=>Number.isFinite(S.weight)?p+Math.max(0,Math.min(100,Math.round(Number(S.weight)))):p,0),[Wr]);w.useEffect(()=>{x==="monthly"?va({monthly:String(Z.current)}):va()},[x]),w.useEffect(()=>{D&&localStorage.setItem("stockbuddy_benchmark",D)},[D]),w.useEffect(()=>{m==="custom"?W&&re&&va():U(null)},[m,W,re]),w.useEffect(()=>{Hr||(Kl(String(g)),Ql(String(x==="monthly"?b:Z.current)),ga(x),xa(V),Gl("monthly"),Xl("12"))},[g,b,x,V,Hr]),w.useEffect(()=>{Hr||(c(null),Ne(null),fn(null))},[Hr]);const ye=Ee||(r?{totalValue:r.total_value,totalInvested:r.total_cost,totalReturn:r.total_pnl,totalReturnPct:r.total_pnl_pct,totalDividends:0,dividendsDistributed:0,averageDividendYield:null,holdingsValue:r.total_value,distributionPolicy:V}:null),Ws=(ye==null?void 0:ye.totalValue)??0,wa=(ye==null?void 0:ye.totalInvested)??0,Xr=(ye==null?void 0:ye.totalReturn)??0,Fh=(ye==null?void 0:ye.totalReturnPct)??0,rc=(ye==null?void 0:ye.totalDividends)??(i==null?void 0:i.total_dividends)??0,zh=(ye==null?void 0:ye.dividendsDistributed)??(i==null?void 0:i.dividends_distributed)??0,_a=(ye==null?void 0:ye.averageDividendYield)??(i==null?void 0:i.average_dividend_yield)??null,Bh=(ye==null?void 0:ye.holdingsValue)??(i==null?void 0:i.ending_value_holdings)??Ws,ja=(i==null?void 0:i.distribution_policy)??(ye==null?void 0:ye.distributionPolicy)??V,Ze=Je,Na=(Ze==null?void 0:Ze.totalValue)??null,Sa=(Ze==null?void 0:Ze.totalInvested)??null,$h=(Ze==null?void 0:Ze.totalReturn)??null,Wh=(Ze==null?void 0:Ze.totalDividends)??null,Wy=(Ze==null?void 0:Ze.distributionPolicy)??Yr,sc=Math.max(0,Math.round(Rn(ma,g))),Vy=Math.max(0,Math.round(Rn(pa,b))),ic=w.useMemo(()=>{if(qe!=="monthly")return"One off investment";if(Vt==="monthly")return"Monthly debit order";if(Vt==="quarterly")return"Quarterly contribution";if(Vt==="annual"){const p=Number(Ur)-1;return`Annual in ${Up[p]??`month ${Ur}`}`}return"Recurring contribution"},[qe,Vt,Ur]),ac=qe==="monthly"?(()=>{const p=fe(Vy);return Vt==="monthly"?`${p}/month`:Vt==="quarterly"?`${p}/quarter`:Vt==="annual"?`${p}/year`:p})():"",Ca=Na!==null?Na-Ws:null,Ma=Sa!==null?Sa-wa:null,Vh=ja==="cash_out"?"Dividends paid out":"Dividends reinvested",Hy=ja==="cash_out"?zh:rc,pn=i?z&&i.annual_return_real!==null?i.annual_return_real:i.annual_return:null,Hh=typeof(i==null?void 0:i.benchmark_total_return_pct)=="number"?i.benchmark_total_return_pct:null,Uh=typeof(i==null?void 0:i.benchmark_volatility)=="number"?i.benchmark_volatility:null,Yh=typeof(i==null?void 0:i.benchmark_max_drawdown)=="number"?i.benchmark_max_drawdown:null,Vs=Ih||"Benchmark",oc=typeof(i==null?void 0:i.benchmark_total_dividends)=="number"?i.benchmark_total_dividends:null,Gh=typeof(i==null?void 0:i.benchmark_average_dividend_yield)=="number"?i.benchmark_average_dividend_yield:null,Pa=typeof(i==null?void 0:i.downside_capture)=="number"?i.downside_capture:null,Hs=!!(i!=null&&i.benchmark_symbol&&(Hh!==null||Uh!==null||Yh!==null||oc!==null||Pa!==null)),Uy=typeof(i==null?void 0:i.volatility)=="number"?i.volatility:null,Xh=typeof(i==null?void 0:i.max_drawdown)=="number"?i.max_drawdown:null,lc=(()=>{if(m==="1y")return"1 year view";if(m==="3y")return"3 year view";if(m==="5y")return"5 year view";if(m==="custom"){if(j>=12){const p=j/12;return`Custom (${Number.isInteger(p)?p.toString():p.toFixed(1)} year view)`}return`Custom (${j} month view)`}return"Custom view"})(),Kh=x==="lump_sum"?"Lump sum once off":"Monthly debit order";w.useEffect(()=>{pn!==null&&Number.isFinite(pn)?localStorage.setItem("stockbuddy_annualised_return",pn.toString()):localStorage.removeItem("stockbuddy_annualised_return")},[pn]);const Yy=x==="lump_sum"?"Invested capital":"Total contributions",Qh=(r==null?void 0:r.allocation_targets)??{},Gy=(r==null?void 0:r.plan_summary)??null,Jh=(r==null?void 0:r.plan_persona)??null,qh=(r==null?void 0:r.plan_guidance)??null,Zh={critical:0,warning:1,info:2},Us=w.useMemo(()=>[...Nh].sort((p,S)=>(Zh[p.severity]??3)-(Zh[S.severity]??3)),[Nh]),Xy=w.useMemo(()=>({critical:n?"border border-rose-500/60 bg-rose-500/15 text-rose-100":"border border-rose-400/60 bg-rose-50 text-rose-800",warning:n?"border border-amber-500/60 bg-amber-500/18 text-amber-100":"border border-amber-400/60 bg-amber-50 text-amber-800",info:n?"border border-sky-500/50 bg-sky-500/15 text-sky-100":"border border-sky-400/60 bg-sky-50 text-sky-800"}),[n]),ef=Us.filter(p=>p.severity==="critical").length,tf=Us.filter(p=>p.severity==="warning").length,Ky=p=>p==="critical"?o.jsx(iw,{className:"w-5 h-5"}):p==="warning"?o.jsx(z1,{className:"w-5 h-5"}):o.jsx(kx,{className:"w-5 h-5"}),Qy=()=>{Mh("/onboarding")};if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:o.jsxs("div",{className:"card max-w-md text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-semibold text-brand-ink dark:text-gray-100",children:"No portfolio yet"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Complete onboarding to generate your personalised allocation and start tracking simulated returns."}),o.jsx("button",{onClick:()=>Mh("/onboarding"),className:"btn-cta",children:"Start onboarding"})]})});if(d)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading your portfolio..."})]})});if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted dark:text-gray-300",children:"No portfolio data found"})})});const Jy=ka.map(p=>new Date(p.date).toLocaleDateString("en-ZA",{month:"short",year:"numeric"})),cc=[{label:z?"Portfolio (real rand)":"Portfolio value",data:ka.map(p=>p.value),borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.15)",tension:.18,borderWidth:2,pointRadius:0,fill:!1}];if(nc.length){const p=qe==="monthly"&&ac?` + ${ac}`:"",S=qe==="monthly"?`Scenario (${ic}  ${fe(sc)}${p})`:`Scenario (${fe(sc)} lump sum)`;cc.push({label:S,data:ka.map(L=>{const R=By.get(L.date);return R!==void 0?R:null}),borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.08)",borderDash:[4,3],borderWidth:2,tension:.1,pointRadius:0,spanGaps:!0,fill:!1})}tc.length&&cc.push({label:`${Ih} (benchmark)`,data:ka.map(p=>{const S=zy.get(p.date);return S!==void 0?S:null}),borderColor:"#f97316",backgroundColor:"rgba(249, 115, 22, 0.1)",borderDash:[6,4],borderWidth:2,tension:.12,pointRadius:0,spanGaps:!0,fill:!1});const qy={labels:Jy,datasets:cc},dc=ae.length?ae:(r==null?void 0:r.holdings)??[],Zy=()=>{if(!r)return;const p=q=>{const oe=typeof q=="number"?q.toString():q??"";return oe.includes(",")||oe.includes('"')?`"${oe.replace(/"/g,'""')}"`:oe},S=[["Archetype",r.archetype??""],["Timeframe",lc],["Contribution style",Kh],["Distribution policy",Vh],["Portfolio value (ZAR)",Ws.toFixed(2)],["Total invested (ZAR)",wa.toFixed(2)],["Total return (ZAR)",Xr.toFixed(2)],["Total return (%)",Fh.toFixed(2)],["Dividends generated (ZAR)",rc.toFixed(2)],["Dividends distributed (ZAR)",zh.toFixed(2)]],L=["Symbol","Name","Quantity","Avg Price","Current Price","Current Value","Cost Basis","P&L","P&L %","Weight %"],R=dc.map(q=>[p(q.symbol),p(q.name),q.quantity.toFixed(4),q.avg_price.toFixed(2),q.current_price.toFixed(2),q.current_value.toFixed(2),q.cost_basis.toFixed(2),q.pnl.toFixed(2),q.pnl_pct.toFixed(2),Math.round(q.weight??0)].join(",")),B=["Portfolio overview",...S.map(q=>`${p(q[0])},${p(q[1])}`),"","Holdings",L.join(","),...R].join(`
`),te=new Blob([B],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(te),J=document.createElement("a");J.href=K,J.download=`stockbuddy-portfolio-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(K)},nf=i?(z&&i.total_return_real!==null?i.total_return_real:i.total_return)/Math.max(i.total_invested||1,1)*100:0,uc=e==="dark",hc=uc?"#dfe6ee":"#2a2a2a",rf=uc?"rgba(223,230,238,0.08)":"rgba(0,0,0,0.05)",eb={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},layout:{padding:{top:16,bottom:8}},plugins:{legend:{position:"top",align:"end",labels:{color:hc,usePointStyle:!0,padding:16}},tooltip:{backgroundColor:uc?"rgba(15,23,42,0.92)":"rgba(42,42,42,0.9)",borderColor:"transparent",borderWidth:0,displayColors:!1,padding:14,caretPadding:10,caretSize:6,titleColor:"#ffffff",bodyColor:"#f5f5f5",titleFont:{family:"Inter, sans-serif",size:12,weight:600},bodyFont:{family:"Inter, sans-serif",size:12},callbacks:{title(p){return p!=null&&p.length?`Date: ${p[0].label}`:""},label(p){var R;const S=p.dataset.label||"Value",L=typeof p.parsed=="object"?(R=p.parsed)==null?void 0:R.y:p.parsed;return L==null?`${S}: `:`${S}: ${fe(L)}`},footer(p){var R;if(!(p!=null&&p.length))return"";const S=p[0],L=typeof S.raw=="object"?(R=S.raw)==null?void 0:R.y:S.raw;return L==null?"":`Value: ${fe(L)}`}}}},scales:{y:{beginAtZero:!1,ticks:{callback:function(p){const S=typeof p=="string"?Number(p):p;return Number.isFinite(S)?new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(S):p},color:hc},grid:{color:rf}},x:{ticks:{color:hc},grid:{color:rf}}}};return o.jsx("div",{className:"min-h-screen py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100",children:"Welcome"}),o.jsxs("p",{className:"text-muted dark:text-gray-300",children:[r.archetype," plan  ",Kh,"  ",lc]})]}),o.jsx("div",{className:"flex gap-3",children:o.jsx("button",{onClick:Qy,className:"btn-secondary whitespace-nowrap",children:"Adjust preferences"})})]}),Us.length>0&&o.jsxs("div",{className:"mb-8 space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[o.jsx("h2",{className:`text-lg font-semibold ${n?"text-slate-100":"text-brand-ink"}`,children:"Goal tracking alerts"}),o.jsxs("div",{className:`flex flex-wrap items-center gap-3 ${n?"text-slate-300":"text-brand-ink/70"}`,children:[ef>0&&o.jsxs("span",{className:n?"text-rose-300":"text-rose-600",children:["Critical: ",ef]}),tf>0&&o.jsxs("span",{className:n?"text-amber-200":"text-amber-600",children:["Warnings: ",tf]}),o.jsxs("span",{className:n?"text-sky-200":"text-sky-600",children:[Us.length," total"]})]})]}),o.jsx("div",{className:"space-y-3",children:Us.map(p=>{const S=p.severity==="critical"?n?"bg-rose-500/20 text-rose-100":"bg-rose-100 text-rose-700":p.severity==="warning"?n?"bg-amber-500/20 text-amber-100":"bg-amber-100 text-amber-700":n?"bg-sky-500/20 text-sky-100":"bg-sky-100 text-sky-700",L=n?"bg-slate-900/40 text-slate-200":"bg-white text-brand-ink border border-brand-ink/10 shadow-sm",R=n?"bg-slate-900/50 text-slate-200":"bg-brand-ink/5 text-brand-ink",O=n?"text-slate-400":"text-brand-ink/60",B=n?"text-slate-200":"text-brand-ink/75",te=n?"text-slate-400":"text-brand-ink/60",K=n?"bg-slate-950/40 text-slate-200":"bg-brand-ink/10 text-brand-ink",J=n?"text-slate-100":"text-brand-ink";return o.jsx("div",{className:`rounded-2xl px-4 py-4 shadow-sm backdrop-blur ${Xy[p.severity]}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full shadow-inner ${K}`,children:Ky(p.severity)}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide font-semibold",children:[o.jsx("span",{className:`rounded-full px-2 py-1 ${S}`,children:p.severity}),p.symbol&&o.jsx("span",{className:`rounded-full px-2 py-1 ${L}`,children:p.symbol}),p.metric&&o.jsx("span",{className:`rounded-full px-2 py-1 ${L}`,children:p.metric.replace(/_/g," ")})]}),o.jsx("p",{className:`text-sm leading-relaxed ${J}`,children:p.message}),p.trigger&&o.jsx("div",{className:"flex flex-wrap items-center gap-2 text-[11px]",children:Object.entries(p.trigger).map(([q,oe])=>o.jsxs("span",{className:`rounded-full px-2 py-1 ${R}`,children:[o.jsxs("span",{className:`${O}`,children:[q.replace(/_/g," "),":"]})," ",_y(q,oe)]},q))}),p.suggested_action&&o.jsxs("p",{className:`text-xs ${B}`,children:["Suggested action: ",p.suggested_action]}),p.created_at&&o.jsxs("p",{className:`text-[11px] ${te}`,children:["Flagged ",new Date(p.created_at).toLocaleString("en-ZA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})},p.id)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-3",children:["About your ",r.archetype," plan"]}),o.jsxs("div",{className:"space-y-4 text-muted dark:text-gray-300",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.plan_goal&&o.jsxs("span",{className:"badge bg-white/90 text-brand-purple uppercase tracking-wide text-[11px] font-semibold",children:["Goal: ",Ch(r.plan_goal)]}),r.plan_risk_band&&o.jsxs("span",{className:"badge bg-brand-mint/20 text-brand-mint uppercase tracking-wide text-[11px] font-semibold",children:["Risk: ",Ch(r.plan_risk_band)]}),r.plan_anchor_cap_pct&&o.jsxs("span",{className:"badge bg-brand-gold/20 text-brand-gold uppercase tracking-wide text-[11px] font-semibold",children:["Anchor cap ",r.plan_anchor_cap_pct,"%"]})]}),o.jsx("p",{children:Gy||"Your allocation is designed to balance growth and resilience for South African investors."}),Jh&&o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-brand-ink dark:text-gray-100",children:"Who it suits:"})," ",Jh]}),qh&&o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-brand-ink dark:text-gray-100",children:"How to put it to work:"})," ",qh]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-3",children:"Target allocation"}),Object.keys(Qh).length>0?o.jsx("ul",{className:"space-y-2 text-sm text-muted dark:text-gray-300",children:Object.entries(Qh).sort((p,S)=>Number(S[1])-Number(p[1])).map(([p,S])=>o.jsxs("li",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-brand-ink dark:text-gray-100",children:p}),o.jsxs("span",{children:[Math.round(Number(S)||0),"%"]})]},p))}):o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Allocation targets will appear here once onboarding is complete."})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"card relative overflow-hidden",children:[o.jsxs("div",{className:"pr-16",children:[o.jsx("p",{className:"text-sm font-medium text-muted dark:text-gray-300",children:z?"Portfolio value (real rands)":"Portfolio value"}),o.jsx("p",{className:"text-2xl font-bold text-brand-ink dark:text-slate-50",children:fe(Ws)}),ja==="cash_out"&&o.jsxs("p",{className:"text-xs text-muted dark:text-gray-300",children:["Holdings on chart: ",fe(Bh)]})]}),o.jsx("div",{className:"absolute right-4 top-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary-500/15 text-primary-300",children:o.jsx(Q1,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"card relative overflow-hidden",children:[o.jsxs("div",{className:"pr-16",children:[o.jsx("p",{className:"text-sm font-medium text-muted dark:text-gray-300",children:"Annualised return"}),o.jsx("p",{className:`text-2xl font-bold ${(pn??0)>=0?"text-emerald-400":"text-rose-400"}`,children:pn!==null?mr(pn):"+0.00%"}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-300 min-h-[32px] flex items-center",children:(z?"Real":"Nominal")+" CAGR  "+lc.toLowerCase()})]}),o.jsx("div",{className:`absolute right-4 top-4 flex h-12 w-12 items-center justify-center rounded-full ${(pn??0)>=0?"bg-emerald-500/10 text-emerald-300":"bg-rose-500/10 text-rose-300"}`,children:(pn??0)>=0?o.jsx(sr,{className:"w-6 h-6"}):o.jsx(eh,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"card relative overflow-hidden",children:[o.jsxs("div",{className:"pr-16",children:[o.jsx("p",{className:"text-sm font-medium text-muted dark:text-gray-300",children:"Total P&L"}),o.jsx("p",{className:`text-2xl font-bold ${Xr>=0?"text-emerald-400":"text-rose-400"}`,children:fe(Xr)}),o.jsx("p",{className:`text-sm ${Xr>=0?"text-emerald-400":"text-rose-400"}`,children:mr(Fh)})]}),o.jsx("div",{className:`absolute right-4 top-4 flex h-12 w-12 items-center justify-center rounded-full ${Xr>=0?"bg-emerald-500/10 text-emerald-300":"bg-rose-500/10 text-rose-300"}`,children:o.jsx(V1,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"card relative overflow-hidden",children:[o.jsxs("div",{className:"pr-16",children:[o.jsx("p",{className:"text-sm font-medium text-muted dark:text-gray-300",children:Yy}),o.jsx("p",{className:"text-2xl font-bold text-brand-ink dark:text-slate-50",children:fe(wa)}),x==="monthly"&&o.jsxs("p",{className:"text-xs text-muted dark:text-gray-300",children:[fe(Z.current)," debit order every month"]})]}),o.jsx("div",{className:"absolute right-4 top-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-500/15 text-amber-400",children:o.jsx(tw,{className:"w-6 h-6"})})]})]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{ref:Ay,className:"card space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100",children:"Portfolio performance"}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-300",children:"Track how your allocation evolves over time and compare against a benchmark or inflation adjusted rand returns."})]}),o.jsxs("div",{className:"grid w-full gap-3 md:grid-cols-2 xl:grid-cols-[repeat(5,minmax(0,1fr))]",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Timeframe"}),o.jsxs("select",{value:m,onChange:p=>v(p.target.value),className:"input-field w-full",children:[o.jsx("option",{value:"1y",children:"1 year"}),o.jsx("option",{value:"3y",children:"3 years"}),o.jsx("option",{value:"5y",children:"5 years"}),o.jsx("option",{value:"custom",children:"Custom"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Contribution style"}),o.jsxs("div",{className:"flex h-11 items-center rounded-full bg-gray-100 dark:bg-gray-800 p-1",children:[o.jsx("button",{type:"button",onClick:()=>k("lump_sum"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-full transition-colors ${x==="lump_sum"?"bg-primary-600 text-white shadow-sm":"bg-transparent text-muted dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Lump sum"}),o.jsx("button",{type:"button",onClick:()=>k("monthly"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-full transition-colors ${x==="monthly"?"bg-primary-600 text-white shadow-sm":"bg-transparent text-muted dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Monthly"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1 xl:col-span-2",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Distribution policy"}),o.jsxs("div",{className:"flex h-11 items-center rounded-full bg-gray-100 dark:bg-gray-800 p-1",children:[o.jsx("button",{type:"button",onClick:()=>I("reinvest"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-full transition-colors ${V==="reinvest"?"bg-primary-600 text-white shadow-sm":"bg-transparent text-muted dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Reinvest"}),o.jsx("button",{type:"button",onClick:()=>I("cash_out"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-full transition-colors ${V==="cash_out"?"bg-primary-600 text-white shadow-sm":"bg-transparent text-muted dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Cash out"})]})]}),o.jsxs("div",{className:"flex flex-col gap-1 relative xl:col-span-2",ref:Oh,children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Benchmark"}),o.jsxs("button",{type:"button",onClick:()=>{fa(p=>!p),zs("")},className:"input-field flex w-full items-center justify-between gap-2 text-left",children:[o.jsx("span",{className:"truncate text-sm font-medium text-brand-ink dark:text-gray-100",children:D?((af=F.find(p=>p.symbol===D))==null?void 0:af.label)||D:"None"}),o.jsx("svg",{className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),gy&&o.jsxs("div",{className:"absolute left-0 top-full z-30 mt-2 w-full min-w-[240px] rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:[o.jsx("div",{className:"px-3 pt-3",children:o.jsx("div",{className:"rounded-xl border border-gray-200 bg-gray-50/80 px-3 py-2 dark:border-gray-700 dark:bg-gray-900/60",children:o.jsx("input",{type:"text",placeholder:"Search benchmarks",value:Hl,onChange:p=>zs(p.target.value),className:"w-full border-none bg-transparent text-sm text-brand-ink dark:text-gray-100 placeholder:text-subtle dark:text-gray-400 focus:outline-none dark:text-gray-100 dark:placeholder:text-gray-400"})})}),o.jsxs("div",{className:"mt-2 max-h-48 overflow-y-auto border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{type:"button",onClick:()=>{G(""),fa(!1),zs("")},className:`flex w-full items-center gap-3 px-3 py-2 text-left text-sm ${D===""?"bg-primary-50 text-primary-600 dark:bg-gray-700 dark:text-primary-200":"hover:bg-primary-50 dark:hover:bg-gray-700"}`,children:[o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:"None"}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-300",children:"No comparison"})]}),Eh.map(p=>o.jsxs("button",{type:"button",onClick:()=>{G(p.symbol),fa(!1),zs("")},className:`flex w-full items-center gap-3 px-3 py-2 text-sm ${D===p.symbol?"bg-primary-50 text-primary-600 dark:bg-gray-700 dark:text-primary-200":"hover:bg-primary-50 dark:hover:bg-gray-700"}`,children:[o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:p.symbol}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-300",children:p.label})]},p.symbol)),!Eh.length&&o.jsx("div",{className:"px-3 py-4 text-xs text-muted dark:text-gray-300",children:"No benchmarks match your search."})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-1 xl:col-span-1",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Inflation lens"}),o.jsxs("button",{type:"button",onClick:()=>ne(!z),className:`flex h-10 items-center justify-between gap-3 rounded-full border px-3 text-xs font-medium shadow-sm transition-colors ${z?"border-primary-500 bg-primary-500 text-white":"border-gray-200/70 dark:border-gray-700/70 bg-white/80 dark:bg-gray-800/70 text-muted dark:text-gray-300 hover:border-primary-400"}`,children:[o.jsx("span",{children:"View real returns"}),o.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${z?"border-white bg-white text-primary-600":"border-gray-300 bg-white text-transparent"}`,children:""})]})]})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Real returns apply South African CPI to show your performance in today's rand terms."}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted dark:text-gray-300",children:[o.jsx("span",{className:"font-semibold text-muted dark:text-gray-200 dark:text-gray-100",children:Vh}),o.jsxs("span",{children:[fe(Hy)," generated over the selected period."]}),ja==="cash_out"?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Dividends are shown outside the chart to reflect cash payouts."}),o.jsxs("span",{children:["Line chart tracks invested holdings only (",fe(Bh),")."]})]}):o.jsx("span",{children:"Reinvesting keeps distributions compounding inside portfolio value."}),typeof _a=="number"&&o.jsxs("span",{children:["Average sleeve yield  ",_a.toFixed(1),"% p.a."]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300 mb-1",children:"Initial investment (rand)"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:C,onChange:p=>P(p.target.value),className:"input-field",placeholder:"e.g. 100000"})]}),x==="monthly"&&o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300 mb-1",children:"Monthly contribution"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:E,onChange:p=>T(p.target.value),className:"input-field",placeholder:"e.g. 2000"})]}),m==="custom"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:W,max:re||void 0,onChange:p=>Q(p.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:re,min:W||void 0,onChange:p=>ce(p.target.value),className:"input-field"})]})]})]}),$&&o.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-500",children:$}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsx("p",{className:"text-xs text-muted dark:text-gray-300",children:"Adjust your assumptions then refresh the simulation."}),o.jsx("button",{type:"button",onClick:()=>va(),className:"btn-cta",children:"Update projection"})]}),o.jsxs("div",{className:"rounded-2xl border border-dashed border-primary-500/40 bg-slate-900/50 p-4 space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-primary-200",children:"Contribution lab"}),o.jsx("p",{className:"text-xs text-slate-300",children:"Model a different contribution plan and compare the outcome alongside your current strategy."})]}),o.jsx("button",{type:"button",onClick:()=>Yl(p=>!p),className:"inline-flex items-center gap-2 rounded-full border border-primary-500/60 bg-primary-500/20 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-primary-100 shadow-sm transition hover:bg-primary-500/30",children:_h?"Hide lab":"Open lab"})]}),_h&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`inline-flex items-center justify-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide ${l?"bg-emerald-500/20 text-emerald-300":"bg-primary-500/20 text-primary-200"}`,children:l?`Overlay: ${ic}`:"No scenario loaded"}),jh&&o.jsx("span",{className:"text-xs text-primary-200",children:jh})]}),l&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full border border-emerald-300 bg-emerald-300"}),o.jsx("span",{className:"text-emerald-200",children:"Scenario path"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Scenario type"}),o.jsxs("div",{className:"flex h-10 items-center rounded-full bg-slate-800/70 p-1 shadow-sm",children:[o.jsx("button",{type:"button",onClick:()=>ga("lump_sum"),className:`flex-1 rounded-full px-3 py-2 text-xs font-semibold transition ${qe==="lump_sum"?"bg-primary-500 text-white shadow-sm":"text-primary-200"}`,children:"Lump sum"}),o.jsx("button",{type:"button",onClick:()=>ga("monthly"),className:`flex-1 rounded-full px-3 py-2 text-xs font-semibold transition ${qe==="monthly"?"bg-primary-500 text-white shadow-sm":"text-primary-200"}`,children:"Recurring plan"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Distribution policy"}),o.jsxs("div",{className:"flex h-10 items-center rounded-full bg-slate-800/70 p-1 shadow-sm",children:[o.jsx("button",{type:"button",onClick:()=>xa("reinvest"),className:`flex-1 rounded-full px-3 py-2 text-xs font-semibold transition ${Yr==="reinvest"?"bg-primary-500 text-white shadow-sm":"text-primary-200"}`,children:"Reinvest"}),o.jsx("button",{type:"button",onClick:()=>xa("cash_out"),className:`flex-1 rounded-full px-3 py-2 text-xs font-semibold transition ${Yr==="cash_out"?"bg-primary-500 text-white shadow-sm":"text-primary-200"}`,children:"Cash out"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Initial contribution"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:ma,onChange:p=>Kl(p.target.value),className:"input-field bg-slate-800/70 text-primary-100 placeholder:text-slate-500"})]}),qe==="monthly"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Contribution cadence"}),o.jsxs("select",{value:Vt,onChange:p=>Gl(p.target.value),className:"input-field bg-slate-800/70 text-primary-100",children:[o.jsx("option",{value:"monthly",children:"Monthly debit order"}),o.jsx("option",{value:"quarterly",children:"Quarterly (every 3 months)"}),o.jsx("option",{value:"annual",children:"Annual (once a year)"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Contribution amount"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:pa,onChange:p=>Ql(p.target.value),className:"input-field bg-slate-800/70 text-primary-100 placeholder:text-slate-500"})]}),Vt==="annual"&&o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-primary-200 mb-1",children:"Annual contribution month"}),o.jsx("select",{value:Ur,onChange:p=>Xl(p.target.value),className:"input-field bg-slate-800/70 text-primary-100",children:Up.map((p,S)=>o.jsx("option",{value:S+1,children:p},p))})]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("button",{type:"button",onClick:Oy,className:"btn-secondary",children:"Run comparison"}),o.jsx("button",{type:"button",onClick:Iy,className:"btn-ghost text-xs text-primary-200 hover:text-white",children:"Reset lab"}),l&&o.jsx("button",{type:"button",onClick:Fy,className:"btn-cta",children:"Apply to plan"})]}),o.jsx("p",{className:"text-[11px] text-slate-300",children:"Scenario results draw over the chart in green. Apply to replace your baseline, or reset to remove the comparison."})]})]}),o.jsxs("div",{className:"relative w-full h-[420px]",children:[h&&o.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:o.jsxs("div",{className:"flex items-center gap-3 rounded-full bg-slate-800/80 px-4 py-2 text-sm text-slate-200",children:[o.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-slate-200 border-t-transparent"}),"Updating"]})}),o.jsx(yh,{data:qy,options:eb})]}),i&&o.jsxs("div",{className:"grid gap-4 text-left sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/70 p-4 dark:border-gray-700/70 dark:bg-gray-900/40",children:[o.jsx("p",{className:"text-xs font-medium text-subtle dark:text-muted dark:text-gray-300",children:z?"Real total return":"Nominal total return"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Portfolio"}),o.jsx("p",{className:`text-lg font-semibold ${nf>=0?"text-success-600":"text-danger-600"}`,children:mr(nf)})]}),Hs&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:Vs}),o.jsx("p",{className:"text-lg font-semibold text-subtle dark:text-gray-400 dark:text-gray-200",children:ky(Hh)})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/70 p-4 dark:border-gray-700/70 dark:bg-gray-900/40",children:[o.jsx("p",{className:"text-xs font-medium text-subtle dark:text-muted dark:text-gray-300",children:"Volatility (annualised)"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Portfolio"}),o.jsx("p",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100",children:$s(Uy)})]}),Hs&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:Vs}),o.jsx("p",{className:"text-lg font-semibold text-subtle dark:text-gray-400 dark:text-gray-200",children:$s(Uh)})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/70 p-4 dark:border-gray-700/70 dark:bg-gray-900/40",children:[o.jsx("p",{className:"text-xs font-medium text-subtle dark:text-muted dark:text-gray-300",children:"Worst drawdown"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Portfolio"}),o.jsx("p",{className:`text-lg font-semibold ${typeof Xh=="number"?"text-danger-600":"text-gray-400"}`,children:$s(Xh)})]}),Hs&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:Vs}),o.jsx("p",{className:"text-lg font-semibold text-subtle dark:text-gray-400 dark:text-gray-200",children:$s(Yh)})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/70 p-4 dark:border-gray-700/70 dark:bg-gray-900/40",children:[o.jsx("p",{className:"text-xs font-medium text-subtle dark:text-muted dark:text-gray-300",children:"Dividends generated"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Portfolio"}),o.jsx("p",{className:"text-lg font-semibold text-success-600",children:fe(rc)}),typeof _a=="number"&&o.jsxs("p",{className:"text-xs text-muted dark:text-gray-300",children:["Yield ",_a.toFixed(2),"% p.a."]})]}),Hs&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:Vs}),o.jsx("p",{className:"text-lg font-semibold text-subtle dark:text-gray-400 dark:text-gray-200",children:typeof oc=="number"?fe(oc):""}),typeof Gh=="number"&&o.jsxs("p",{className:"text-xs text-muted dark:text-gray-300",children:["Yield ",Gh.toFixed(2),"% p.a."]})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/70 p-4 dark:border-gray-700/70 dark:bg-gray-900/40",children:[o.jsx("p",{className:"text-xs font-medium text-subtle dark:text-muted dark:text-gray-300",children:"Downside capture"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Portfolio"}),o.jsx("p",{className:`text-lg font-semibold ${typeof Pa=="number"?Pa<=100?"text-success-600":"text-danger-600":"text-gray-400"}`,children:$s(Pa)}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-300",children:"Lower than 100% indicates better downside protection vs benchmark."})]}),Hs&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:Vs}),o.jsx("p",{className:"text-lg font-semibold text-subtle dark:text-gray-400 dark:text-gray-200",children:"100%"}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-300",children:"Benchmark baseline"})]})]})]})]}),l&&Ze&&o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/80 p-5",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-300",children:"Scenario vs baseline"}),o.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Baseline ending value"}),o.jsx("span",{className:"font-semibold",children:fe(Ws)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Scenario ending value"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:Na!==null?fe(Na):""})]}),Ca!==null&&o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Difference"}),o.jsxs("span",{className:`font-semibold ${Ca>=0?"text-emerald-300":"text-rose-300"}`,children:[Ca>=0?"+":"-",fe(Math.abs(Ca))]})]}),o.jsx("hr",{className:"border-slate-700/80"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Scenario total return"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:$h!==null?fe($h):""})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Baseline total return"}),o.jsx("span",{className:"font-semibold text-slate-100",children:fe(Xr)})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/80 p-5",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-300",children:"Contribution & income"}),o.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Baseline capital invested"}),o.jsx("span",{className:"font-semibold",children:fe(wa)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Scenario capital invested"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:Sa!==null?fe(Sa):""})]}),Ma!==null&&o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Difference"}),o.jsxs("span",{className:`${Ma>=0?"text-emerald-300":"text-rose-300"}`,children:[Ma>=0?"+":"-",fe(Math.abs(Ma))]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Contribution cadence"}),o.jsx("span",{className:"font-semibold text-slate-100 text-right",children:ic})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Initial contribution"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:fe(sc)})]}),qe==="monthly"&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Recurring amount"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:ac})]}),o.jsx("hr",{className:"border-slate-700/80"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Scenario dividend total"}),o.jsx("span",{className:"font-semibold text-emerald-300",children:Wh!==null?fe(Wh):""})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-400",children:"Dividend policy"}),o.jsx("span",{className:"font-semibold",children:Wy==="cash_out"?"Paid out as cash":"Reinvested into units"})]})]})]})]})]})}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100",children:"Holdings"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:Zy,className:"btn-secondary text-xs whitespace-nowrap",children:"Download CSV"}),o.jsx("button",{type:"button",onClick:Sy,disabled:Wl,className:`btn-secondary text-xs whitespace-nowrap ${Wl?"opacity-70 cursor-not-allowed":""}`,children:Wl?"Resetting":"Reset to plan"}),o.jsx("button",{type:"button",onClick:()=>{if(fr(null),Bl(p=>{const S=!p;return S||(Zt(null),Wt("")),S}),!ha){let p=ae.map((L,R)=>({id:`${L.symbol}-${R}`,symbol:L.symbol,weight:mt(L.weight??0)}));if(!p.length)p.push({id:`custom-${Date.now()}`,symbol:"",weight:0});else if(p.length){const L=Gr(p.map(R=>R.weight));p=p.map((R,O)=>({...R,weight:L[O]??0}))}hn(p),Wt("");const S=p.find(L=>!L.symbol);Zt(S?S.id:null)}},className:"btn-secondary text-xs whitespace-nowrap",children:ha?"Close builder":"Customise mix"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[o.jsx("th",{className:"w-10 py-3 pl-4 pr-10 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Order"}),o.jsx("th",{className:"py-3 pr-4 pl-10 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300 w-72",children:"Instrument"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Quantity"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Avg Price"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Current Price"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Value"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"P&L"}),o.jsx("th",{className:"py-3 px-4 text-center font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Weight"})]})}),o.jsx("tbody",{children:dc.map((p,S)=>{const L=mt(p.weight??0),R=L<=0,O=L>=100;return o.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[o.jsx("td",{className:"py-3 pl-4 pr-10 align-top text-center",children:o.jsxs("div",{className:"mx-auto flex w-fit flex-col items-center gap-1.5 text-subtle dark:text-gray-400 dark:text-gray-300",children:[o.jsx("button",{type:"button",onClick:()=>Lh(S,"up"),disabled:S===0,"aria-label":"Move holding up",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:-translate-y-0.5 hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:translate-y-0 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Nm,{className:"h-4 w-4"})}),o.jsx("button",{type:"button",onClick:()=>Lh(S,"down"),disabled:S===dc.length-1,"aria-label":"Move holding down",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:translate-y-0.5 hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:translate-y-0 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(jm,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"py-3 pr-4 pl-10 text-center w-72",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium text-brand-ink dark:text-gray-100",children:p.symbol}),o.jsx("div",{className:"text-sm text-muted dark:text-gray-300",children:p.name})]})}),o.jsx("td",{className:"py-3 px-4 text-center text-brand-ink dark:text-gray-100",children:p.quantity.toFixed(2)}),o.jsx("td",{className:"py-3 px-4 text-center text-brand-ink dark:text-gray-100",children:fe(p.avg_price)}),o.jsx("td",{className:"py-3 px-4 text-center text-brand-ink dark:text-gray-100",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx("div",{children:fe(p.current_price)}),o.jsxs("div",{className:`text-xs ${p.current_price-p.avg_price>=0?"text-success-600":"text-danger-600"}`,children:[wy(p.current_price-p.avg_price)," vs avg"]})]})}),o.jsx("td",{className:"py-3 px-4 text-center text-brand-ink dark:text-gray-100",children:fe(p.current_value)}),o.jsx("td",{className:"py-3 px-4 text-center",children:o.jsxs("div",{className:`${p.pnl>=0?"text-success-600":"text-danger-600"} space-y-0.5`,children:[o.jsx("div",{className:"font-medium",children:fe(p.pnl)}),o.jsx("div",{className:"text-sm",children:mr(p.pnl_pct)})]})}),o.jsx("td",{className:"py-3 px-4 text-center text-brand-ink dark:text-gray-100",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Th(S,-1),disabled:R,"aria-label":"Decrease weight",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Cm,{className:"h-4 w-4"})}),o.jsxs("div",{className:"relative w-24",children:[o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:3,value:String(L),onChange:B=>jy(S,B.target.value),"aria-label":"Holding weight percentage",className:"w-full rounded-full border border-gray-200 bg-white/80 pr-8 pl-3 py-1.5 text-center text-sm font-semibold tracking-wide text-brand-ink dark:text-gray-100 shadow-inner focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 dark:border-gray-700 dark:bg-gray-800/80 dark:text-gray-100"}),o.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-xs font-semibold text-subtle dark:text-muted dark:text-gray-300",children:"%"})]}),o.jsx("button",{type:"button",onClick:()=>Th(S,1),disabled:O,"aria-label":"Increase weight",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Pm,{className:"h-4 w-4"})})]})})]},S)})})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 text-sm text-muted dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Total allocation"}),o.jsxs("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:[ec,"%"]})]}),ba!==0&&o.jsx("button",{type:"button",onClick:Ny,className:"btn-secondary text-xs whitespace-nowrap",children:"Normalise to 100%"})]}),ba!==0&&o.jsxs("p",{className:"mt-2 text-sm text-amber-600 dark:text-amber-400",children:["Tip: Adjust weights until they sum to 100% for a balanced allocation. Currently off by ",ba>0?"+":"",ba,"%."]}),ha&&o.jsxs("div",{ref:yy,className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:[o.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-brand-ink dark:text-gray-100",children:"Custom portfolio builder"}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-300",children:"Choose instruments and assign whole number weights totalling 100%. We'll rebalance your holdings immediately."})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-subtle dark:text-muted dark:text-gray-300 text-center",children:[o.jsx("th",{className:"w-12 py-2 pl-4 pr-10 text-center",children:"Order"}),o.jsx("th",{className:"py-2 pr-4 pl-10 text-center w-80",children:"Instrument"}),o.jsx("th",{className:"py-2 pr-3 text-center",children:"Weight %"}),o.jsx("th",{className:"py-2 pr-3 text-center",children:"Remove"})]})}),o.jsx("tbody",{children:Wr.map((p,S)=>{const L=mt(p.weight??0),R=L<=0,O=L>=100;return o.jsxs("tr",{id:`custom-row-${p.id}`,className:"border-t border-gray-100 dark:border-gray-800",children:[o.jsx("td",{className:"py-2 pl-4 pr-10 align-top text-center",children:o.jsxs("div",{className:"mx-auto flex w-fit flex-col items-center gap-1.5 text-subtle dark:text-gray-400 dark:text-gray-300",children:[o.jsx("button",{type:"button",onClick:()=>Dh(p.id,"up"),disabled:S===0,"aria-label":"Move instrument up",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:-translate-y-0.5 hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:translate-y-0 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Nm,{className:"h-4 w-4"})}),o.jsx("button",{type:"button",onClick:()=>Dh(p.id,"down"),disabled:S===Wr.length-1,"aria-label":"Move instrument down",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:translate-y-0.5 hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:translate-y-0 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(jm,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"py-2 pr-4 pl-10 text-center w-80",children:o.jsxs("div",{className:"relative mx-auto w-full max-w-md text-left",children:[o.jsxs("button",{id:`instrument-trigger-${p.id}`,type:"button",onClick:()=>Ty(p.id),className:"input-field flex w-full items-center justify-between gap-2 text-left",children:[o.jsx("span",{className:`truncate ${p.symbol?"text-brand-ink dark:text-gray-100":"text-gray-400 dark:text-subtle dark:text-gray-400"}`,children:p.symbol||"Search instrument"}),o.jsx("svg",{className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),Tt===p.id&&o.jsxs("div",{id:`instrument-popover-${p.id}`,className:"absolute left-0 top-full z-20 mt-2 w-full min-w-[240px] rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:[o.jsx("div",{className:"px-3 pt-3",children:o.jsx("div",{className:"rounded-xl border border-gray-200 bg-gray-50/80 px-3 py-2 dark:border-gray-700 dark:bg-gray-900/60",children:o.jsx("input",{ref:Tt===p.id?Jl:void 0,type:"text",placeholder:"Search instruments",value:Vr,onChange:B=>Wt(B.target.value),className:"w-full border-none bg-transparent text-sm text-brand-ink dark:text-gray-100 placeholder:text-subtle dark:text-gray-400 focus:outline-none dark:text-gray-100 dark:placeholder:text-gray-400"})})}),o.jsxs("div",{ref:Tt===p.id?ql:void 0,className:"mt-2 max-h-60 overflow-y-auto border-t border-gray-200 dark:border-gray-700",children:[Ph.map(B=>o.jsxs("button",{type:"button",onClick:()=>{Cy(p.id,B.symbol),Zt(null),Wt("")},className:"flex w-full items-center gap-3 px-3 py-2 text-sm text-left hover:bg-primary-50 dark:hover:bg-gray-700",children:[o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:B.symbol}),o.jsx("span",{className:"text-xs text-subtle dark:text-gray-400 dark:text-gray-300",children:B.label})]},`${p.id}-${B.symbol}`)),!Ph.length&&o.jsx("div",{className:"px-3 py-4 text-xs text-muted dark:text-gray-300",children:"No instruments match your search."})]})]})]})}),o.jsx("td",{className:"py-2 pr-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Rh(p.id,-1),disabled:R,"aria-label":"Decrease custom weight",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Cm,{className:"h-4 w-4"})}),o.jsxs("div",{className:"relative w-24",children:[o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:3,value:String(L),onChange:B=>My(p.id,B.target.value),"aria-label":"Custom weight percentage",className:"w-full rounded-full border border-gray-200 bg-white/80 pr-8 pl-3 py-1.5 text-right text-sm font-semibold tracking-wide text-brand-ink dark:text-gray-100 shadow-inner focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 dark:border-gray-700 dark:bg-gray-800/80 dark:text-gray-100"}),o.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-xs font-semibold text-subtle dark:text-muted dark:text-gray-300",children:"%"})]}),o.jsx("button",{type:"button",onClick:()=>Rh(p.id,1),disabled:O,"aria-label":"Increase custom weight",className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200/70 bg-white text-subtle dark:text-gray-400 shadow-sm transition hover:bg-primary-50 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:cursor-not-allowed disabled:opacity-40 disabled:hover:bg-white disabled:hover:text-gray-400 dark:border-gray-700/70 dark:bg-gray-900/70 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-300",children:o.jsx(Pm,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"py-2 pr-3 text-center",children:o.jsx("button",{type:"button",onClick:()=>Py(p.id),className:"text-xs text-danger-600 hover:underline",children:"Remove"})})]},p.id)})})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 text-xs text-muted dark:text-gray-300",children:[o.jsxs("span",{children:["Total custom weight: ",$y,"%"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:Ry,className:"btn-secondary text-xs",children:"Load plan weights"}),o.jsx("button",{type:"button",onClick:Ey,className:"btn-secondary text-xs",children:"Add instrument"}),o.jsx("button",{type:"button",onClick:Ly,disabled:$l,className:`btn-cta text-xs ${$l?"opacity-70 cursor-not-allowed":""}`,children:$l?"Applying":"Apply custom mix"})]})]}),bh&&o.jsx("p",{className:"mt-2 text-sm text-danger-600 dark:text-danger-500",children:bh})]})]}),r.suggestions&&r.suggestions.length>0&&o.jsxs("div",{className:"card mt-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-2",children:"Suggested tweaks"}),o.jsxs("p",{className:"text-sm text-muted dark:text-gray-300 mb-5",children:["We flag context aware swaps for your ",r.archetype," mixsometimes chasing stronger returns, other times prioritising yield or stability in line with your mandate."]}),o.jsx("div",{className:"space-y-4",children:r.suggestions.map((p,S)=>{const L=`${p.replace_symbol}->${p.suggest_symbol}`,R=Al[L],O=R==="accepted"?"Marked as accepted":R==="rejected"?"Suggestion dismissed":null;return o.jsxs("div",{className:"rounded-2xl border border-gray-200/70 dark:border-gray-700/70 bg-white/80 dark:bg-gray-900/70 px-5 py-5 shadow-sm transition hover:border-primary-200/80 hover:shadow-md",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:grid md:grid-cols-[minmax(0,1.1fr)_auto_minmax(0,1fr)] md:items-center md:gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Current holding"}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("p",{className:"text-base font-semibold text-brand-ink dark:text-gray-100",children:[p.replace_symbol,"  ",p.replace_name]}),o.jsxs("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${p.trailing_return>=0?"bg-success-100 text-success-700":"bg-danger-100 text-danger-700"}`,children:["6m return ",mr(p.trailing_return)]})]})]}),o.jsx("div",{className:"hidden md:flex justify-center",children:o.jsx($1,{className:"h-5 w-5 text-primary-500"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-[11px] uppercase tracking-wide text-subtle dark:text-muted dark:text-gray-300",children:"Suggested replacement"}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("p",{className:"text-base font-semibold text-brand-ink dark:text-gray-100",children:[p.suggest_symbol,"  ",p.suggest_name]}),o.jsxs("span",{className:"rounded-full bg-sky-100 text-sky-700 dark:bg-sky-500/20 dark:text-sky-200 px-2 py-1 text-[11px] font-semibold",children:["Target weight ",Math.round(Number(p.target_weight)||0),"%"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted dark:text-gray-300",children:[typeof p.suggest_trailing_return=="number"&&o.jsxs("span",{className:p.suggest_trailing_return>=0?"text-success-600":"text-danger-600",children:["6m return ",mr(p.suggest_trailing_return)]}),typeof p.suggest_dividend_yield=="number"&&p.suggest_dividend_yield>0&&o.jsxs("span",{children:["Indicative yield ",p.suggest_dividend_yield.toFixed(1),"%"]})]})]})]}),o.jsxs("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("p",{className:"text-xs leading-relaxed text-subtle dark:text-gray-400 dark:text-gray-300 md:max-w-2xl",children:p.reason}),o.jsxs("div",{className:"flex items-center gap-2 md:justify-end",children:[o.jsx("button",{type:"button",onClick:()=>Ah(p,"accepted"),disabled:$t===L,className:`px-3 py-2 rounded-full text-xs font-medium transition-colors ${R==="accepted"?"bg-success-600 text-white shadow-sm":"bg-success-100 text-success-700 hover:bg-success-200"} ${$t===L?"opacity-70 cursor-not-allowed":""}`,children:R==="accepted"?"Accepted":"Accept swap"}),o.jsx("button",{type:"button",onClick:()=>Ah(p,"rejected"),disabled:$t===L,className:`px-3 py-2 rounded-full text-xs font-medium transition-colors ${R==="rejected"?"bg-danger-600 text-white shadow-sm":"bg-danger-100 text-danger-700 hover:bg-danger-200"} ${$t===L?"opacity-70 cursor-not-allowed":""}`,children:R==="rejected"?"Rejected":"Dismiss"})]})]}),O&&o.jsx("p",{className:`mt-3 text-[11px] font-semibold ${R==="accepted"?"text-success-600":"text-danger-600"}`,children:O})]},S)})})]}),Il&&Il.length>0&&o.jsxs("div",{className:"card mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-3",children:"Recent swaps"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted dark:text-gray-300",children:Il.map(p=>o.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("div",{className:"space-x-1",children:[o.jsx("span",{children:"Replaced"}),o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:p.replace_symbol}),o.jsx("span",{children:"with"}),o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:p.suggest_symbol})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-muted dark:text-gray-300",children:by(p.created_at)}),o.jsx("button",{type:"button",onClick:()=>Dy(p.id),disabled:Vl===p.id,className:`text-xs font-semibold ${Vl===p.id?"text-gray-400 cursor-not-allowed":"text-primary-600 hover:underline dark:text-primary-300"}`,children:Vl===p.id?"Reversing":"Reverse swap"})]})]},p.id))})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"Portfolio Guardrails"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"card border-l-4 border-success-500",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:"Diversification Check"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Portfolio is well diversified across sectors"})]})]})}),o.jsx("div",{className:"card border-l-4 border-yellow-500",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:"Anchor Stock Limit"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Anchor stock capped at 5% as designed"})]})]})})]})]})]})})};hr.register(Rs,Ls,Tr,Un,Rl,Ll,Tl,us);const WN=({userId:t})=>{const{theme:e}=Fs(),n=un(),[r,s]=w.useState([]),[i,a]=w.useState(!0),[l,c]=w.useState("");w.useEffect(()=>{d()},[]);const d=async()=>{try{const x=await Oe("/api/baskets");if(x.ok){const k=await x.json();s(k)}}catch(x){console.error("Error fetching baskets:",x)}finally{a(!1)}},u=async x=>{if(t)try{(await Oe("/api/portfolio/apply-basket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,basket_id:x})})).ok&&n("/portfolio")}catch(k){console.error("Error adopting basket:",k)}},h=x=>{switch(x){case"growth":return o.jsx(sr,{className:"w-6 h-6 text-green-600"});case"balanced":return o.jsx(Xd,{className:"w-6 h-6 text-blue-600"});case"income":return o.jsx(_x,{className:"w-6 h-6 text-purple-600"});default:return o.jsx(Xd,{className:"w-6 h-6 text-muted dark:text-gray-300"})}},f=x=>{switch(x){case"growth":return"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20";case"balanced":return"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20";case"income":return"border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20";default:return"border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-900/20"}},m=x=>{const k=Object.keys(x),g=Object.values(x),y={labels:k,datasets:[{data:g,backgroundColor:["#0ea5e9","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"]}]},b=e==="dark",M={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:10},color:b?"#dfe6ee":"#2a2a2a"}},tooltip:{backgroundColor:b?"rgba(15,23,42,0.92)":"rgba(42,42,42,0.9)",borderColor:"transparent",borderWidth:0,callbacks:{label:C=>`${C.label}: ${C.parsed}%`}}}};return o.jsx("div",{className:"h-48",children:o.jsx(AN,{data:y,options:M})})},v=l?r.filter(x=>x.goal===l):r;return i?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading baskets..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-2",children:"Model Baskets"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Curated portfolios designed by investment professionals"})]}),o.jsx("div",{className:"card mb-6",children:o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("button",{onClick:()=>c(""),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===""?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-muted dark:text-gray-200 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All Baskets"}),["growth","balanced","income"].map(x=>o.jsx("button",{onClick:()=>c(x),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${l===x?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-muted dark:text-gray-200 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:x},x))]})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:v.map(x=>o.jsxs("div",{className:`card border-2 ${f(x.goal)}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[h(x.goal),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-brand-ink dark:text-gray-100",children:x.name}),o.jsxs("p",{className:"text-sm text-muted dark:text-gray-300 capitalize",children:[x.goal," strategy"]})]})]}),o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/20 dark:text-primary-300",children:x.code})]}),o.jsx("p",{className:"text-muted dark:text-gray-200 dark:text-gray-300 mb-6",children:x.description}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-3",children:"Allocation Breakdown"}),m(x.allocations)]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-3",children:"Holdings"}),o.jsx("div",{className:"space-y-2",children:Object.entries(x.allocations).map(([k,g])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted dark:text-gray-300",children:k}),o.jsxs("span",{className:"text-sm font-medium text-brand-ink dark:text-gray-100",children:[g,"%"]})]},k))})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($c,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:"Diversified"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($c,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:"Risk Managed"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx($c,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:"SA Focused"})]})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>u(x.id),className:"flex-1 btn-cta flex items-center justify-center space-x-2",children:[o.jsx("span",{children:"Adopt Basket"}),o.jsx(W1,{className:"w-4 h-4"})]}),o.jsx("button",{className:"btn-secondary px-4",children:"View Details"})]})]},x.id))}),v.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted dark:text-gray-300",children:"No baskets found for the selected criteria"})}),o.jsx("div",{className:"mt-8 card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/40 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"About Model Baskets"}),o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"These baskets are designed for educational purposes and represent different investment strategies. They are not recommendations and should not be considered as financial advice. Always do your own research before making any investment decisions."})]})]})})]})})};hr.register(Rs,Ls,Tr,Un,Rl,Ll,Tl);const VN=({userId:t})=>{const{theme:e}=Fs(),{symbol:n}=a1(),r=un(),[s,i]=w.useState(null),[a,l]=w.useState(!0),[c,d]=w.useState("buy"),[u,h]=w.useState(""),[f,m]=w.useState(""),[v,x]=w.useState(0),[k,g]=w.useState(!1),[y,b]=w.useState(0);w.useEffect(()=>{n&&(_(),j())},[n,t]),w.useEffect(()=>{x(u&&f?parseFloat(u)*parseFloat(f):0)},[u,f]);const _=async()=>{var E;try{const T=await Oe(`/api/instruments/${n}`);if(T.ok){const F=await T.json();i(F),m(((E=F.latest_price)==null?void 0:E.toString())||"")}}catch(T){console.error("Error fetching instrument:",T)}finally{l(!1)}},j=async()=>{if(t)try{const E=await Oe(`/api/portfolio/${t}`);if(E.ok){const F=(await E.json()).holdings.find(N=>N.symbol===n);b((F==null?void 0:F.quantity)||0)}}catch(E){console.error("Error fetching position:",E)}},M=async E=>{if(E.preventDefault(),!(!t||!s||!u||!f)){g(!0);try{(await Oe("/api/trade/sim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,symbol:s.symbol,side:c,quantity:parseFloat(u),price:parseFloat(f)})})).ok?r("/portfolio"):console.error("Trade failed")}catch(T){console.error("Error executing trade:",T)}finally{g(!1)}}},C=E=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(E),P=()=>{if(!(s!=null&&s.mini_series)||s.mini_series.length===0)return o.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No price data available"});const E={labels:s.mini_series.map(z=>new Date(z.date).toLocaleDateString("en-ZA",{month:"short",day:"numeric"})),datasets:[{label:s.symbol,data:s.mini_series.map(z=>z.close),borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.1)",tension:.1}]},T=e==="dark",F=T?"#dfe6ee":"#2a2a2a",N=T?"rgba(223,230,238,0.08)":"rgba(0,0,0,0.05)",G={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:T?"rgba(15,23,42,0.92)":"rgba(42,42,42,0.9)",borderColor:"transparent",borderWidth:0,callbacks:{label:z=>C(z.parsed.y)}}},scales:{y:{ticks:{callback:function(z){return C(z)},color:F},grid:{color:N}},x:{ticks:{color:F},grid:{color:N}}}};return o.jsx("div",{className:"h-64",children:o.jsx(yh,{data:E,options:G})})};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading instrument..."})]})}):s?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[o.jsxs("button",{onClick:()=>r("/discover"),className:"btn-secondary flex items-center space-x-2",children:[o.jsx(B1,{className:"w-4 h-4"}),o.jsx("span",{children:"Back"})]}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100",children:["Trade ",s.symbol]}),o.jsxs("p",{className:"text-muted dark:text-gray-300",children:[s.name,"  ",s.type.toUpperCase()]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"Price Chart"}),P()]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"Simulated Trade"}),y>0&&o.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vx,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Current Position: ",y.toFixed(2)," shares"]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Trade Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>d("buy"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${c==="buy"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-muted dark:text-gray-200 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[o.jsx(sr,{className:"w-4 h-4 inline mr-2"}),"Buy"]}),o.jsxs("button",{onClick:()=>d("sell"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${c==="sell"?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-muted dark:text-gray-200 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[o.jsx(eh,{className:"w-4 h-4 inline mr-2"}),"Sell"]})]})]}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:u,onChange:E=>h(E.target.value),className:"input-field",placeholder:"Enter quantity",required:!0}),o.jsx("p",{className:"text-xs text-subtle dark:text-muted dark:text-gray-300 mt-1",children:"Fractional shares allowed for educational purposes"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-2",children:"Price per Share"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:f,onChange:E=>m(E.target.value),className:"input-field",placeholder:"Enter price",required:!0}),o.jsxs("p",{className:"text-xs text-subtle dark:text-muted dark:text-gray-300 mt-1",children:["Current price: ",s.latest_price?C(s.latest_price):"N/A"]})]}),o.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300",children:"Total Value:"}),o.jsx("span",{className:"text-lg font-bold text-brand-ink dark:text-gray-100",children:C(v)})]})}),o.jsx("button",{type:"submit",disabled:k||!u||!f,className:"w-full btn-cta disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Executing...":`Execute ${c.toUpperCase()} Order`})]}),o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(yx,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-100 mb-1",children:"Educational Trading"}),o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"This is a simulated trade for educational purposes only. No real money is involved and this is not financial advice."})]})]})})]})]}),o.jsxs("div",{className:"mt-8 card",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"Instrument Details"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Symbol"}),o.jsx("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:s.symbol})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Sector"}),o.jsx("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:s.sector})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Dividend Yield"}),o.jsxs("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:[s.dividend_yield.toFixed(1),"%"]})]}),s.ter>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"TER"}),o.jsxs("p",{className:"font-medium text-brand-ink dark:text-gray-100",children:[s.ter.toFixed(2),"%"]})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Instrument not found"}),o.jsx("button",{onClick:()=>r("/discover"),className:"btn-cta mt-4",children:"Back to Discover"})]})})},HN=()=>{var s,i;const[t,e]=w.useState("basics"),n=[{id:"basics",name:"Investment Basics",icon:bx},{id:"calculations",name:"Key Calculations",icon:vx},{id:"strategies",name:"Investment Strategies",icon:sr},{id:"risks",name:"Risk Management",icon:wx},{id:"markets",name:"SA Markets",icon:Z1},{id:"instruments",name:"Instruments",icon:U1}],r={basics:[{title:"What is Investing?",content:"Investing is the act of allocating money with the expectation of generating income or profit. In South Africa, common investment options include shares, ETFs, REITs, and bonds."},{title:"Risk vs Return",content:"Generally, higher potential returns come with higher risk. Understanding your risk tolerance is crucial for building a suitable portfolio."},{title:"Diversification",content:`Spreading your investments across different assets, sectors, and companies to reduce risk. The saying "don't put all your eggs in one basket" applies here.`},{title:"Time Horizon",content:"The length of time you plan to hold your investments. Longer time horizons generally allow for more aggressive strategies."}],calculations:[{title:"Price to-Earnings (P/E) Ratio",content:"P/E = Share Price  Earnings per Share. A lower P/E might indicate undervaluation, but context matters."},{title:"Dividend Yield",content:"Dividend Yield = Annual Dividends  Share Price  100. Shows the percentage return from dividends alone."},{title:"Total Expense Ratio (TER)",content:"TER = Total Fund Costs  Average Net Assets  100. Lower TERs mean more of your money stays invested."},{title:"Compound Annual Growth Rate (CAGR)",content:"CAGR = (Ending Value  Beginning Value)^(1  Years) - 1. Shows the average annual growth rate."}],strategies:[{title:"Growth Investing",content:"Focus on companies expected to grow faster than the market average. Higher risk, higher potential returns."},{title:"Value Investing",content:"Looking for undervalued companies trading below their intrinsic value. Requires patience and research."},{title:"Income Investing",content:"Focus on generating regular income through dividends. Often includes REITs and dividend paying shares."},{title:"Index Investing",content:"Investing in ETFs that track market indices like the JSE Top 40. Lower costs, broad diversification."}],risks:[{title:"Market Risk",content:"The risk that the entire market will decline. Diversification helps mitigate this risk."},{title:"Company Specific Risk",content:"Risk associated with individual companies. Reduced through diversification across many companies."},{title:"Sector Risk",content:"Risk that an entire sector (like mining or banking) will underperform. Sector diversification helps."},{title:"Currency Risk",content:"Risk from currency fluctuations when investing internationally. Consider hedging strategies."}],markets:[{title:"JSE Overview",content:"The Johannesburg Stock Exchange is Africa's largest stock exchange, home to major South African companies."},{title:"Top 40 Index",content:"The 40 largest companies by market cap on the JSE. Often used as a benchmark for SA equity performance."},{title:"Sector Breakdown",content:"Major sectors include Financials, Resources, Industrials, and Consumer Services. Each has different risk profiles."},{title:"Economic Factors",content:"SA investments are influenced by factors like commodity prices, interest rates, and political stability."}],instruments:[{title:"Exchange Traded Funds (ETFs)",content:"ETFs track indices or baskets of securities. They offer diversification, low costs, and easy trading."},{title:"Real Estate Investment Trusts (REITs)",content:"REITs invest in real estate and must distribute most profits as dividends. Good for income focused investors."},{title:"Individual Shares",content:"Direct ownership in companies. Higher potential returns but also higher risk and requires more research."},{title:"Unit Trusts",content:"Managed funds that pool money from many investors. Professional management but higher fees than ETFs."}]};return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-2",children:"Learn About Investing"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Build your financial literacy with our educational content"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"Topics"}),o.jsx("nav",{className:"space-y-2",children:n.map(a=>{const l=a.icon;return o.jsxs("button",{onClick:()=>e(a.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${t===a.id?"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-muted dark:text-gray-200 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[o.jsx(l,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-medium",children:a.name})]},a.id)})})]})}),o.jsxs("div",{className:"lg:col-span-3",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-2xl font-bold text-brand-ink dark:text-gray-100 mb-6",children:(s=n.find(a=>a.id===t))==null?void 0:s.name}),o.jsx("div",{className:"space-y-6",children:(i=r[t])==null?void 0:i.map((a,l)=>o.jsxs("div",{className:"border-l-4 border-primary-500 pl-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100 mb-2",children:a.title}),o.jsx("p",{className:"text-muted dark:text-gray-200 dark:text-gray-300 leading-relaxed",children:a.content})]},l))})]}),o.jsx("div",{className:"mt-6 card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/40 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Educational Content Notice"}),o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"This content is for educational purposes only and should not be considered as financial advice. Always consult with a qualified financial advisor before making investment decisions."})]})]})})]})]})]})})},UN=({userId:t})=>{const[e,n]=w.useState(null),[r,s]=w.useState(!0),[i,a]=w.useState(!1),[l,c]=w.useState("profile");w.useEffect(()=>{const m=localStorage.getItem("darkMode")==="true";a(m),m&&document.documentElement.classList.add("dark"),t&&d()},[t]);const d=async()=>{try{n({id:t,first_name:"John",age_band:"25-34",experience:"intermediate",goal:"balanced",risk:60,horizon:"medium",anchor_stock:"SBK.JO",literacy_level:"intermediate",interests:["Banks","ETFs","Property"],created_at:"2024-01-01T00:00:00Z"})}catch(m){console.error("Error fetching profile:",m)}finally{s(!1)}},u=()=>{const m=!i;a(m),localStorage.setItem("darkMode",m.toString()),m?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},h=()=>{if(!e)return;const m={profile:e,export_date:new Date().toISOString(),platform:"StockBuddy"},v=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),x=URL.createObjectURL(v),k=document.createElement("a");k.href=x,k.download=`stockbuddy-profile-${e.first_name.toLowerCase()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(x)},f=()=>{localStorage.removeItem("stockbuddy_user_id"),localStorage.removeItem("darkMode"),window.location.href="/"};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading profile..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100 mb-2",children:"Profile & Settings"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Manage your account and preferences"})]}),o.jsx("div",{className:"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[{key:"profile",label:"Profile",icon:cw},{key:"settings",label:"Settings",icon:sw},{key:"data",label:"Data",icon:Sm}].map(m=>{const v=m.icon;return o.jsxs("button",{onClick:()=>c(m.key),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${l===m.key?"bg-white dark:bg-gray-700 text-brand-ink dark:text-gray-100 shadow-sm":"text-muted dark:text-gray-300 hover:text-brand-ink dark:text-gray-100 dark:hover:text-gray-100"}`,children:[o.jsx(v,{className:"w-4 h-4"}),o.jsx("span",{children:m.label})]},m.key)})}),l==="profile"&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-6",children:"Investment Profile"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100 mb-4",children:"Personal Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"First Name"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100",children:e.first_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Age Band"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100",children:e.age_band})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Experience Level"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100 capitalize",children:e.experience})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100 mb-4",children:"Investment Preferences"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Investment Goal"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100 capitalize",children:e.goal})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Risk Tolerance"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${e.risk}%`}})}),o.jsxs("span",{className:"text-sm text-muted dark:text-gray-300",children:[e.risk,"%"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Time Horizon"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100 capitalize",children:e.horizon})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-muted dark:text-gray-200 dark:text-gray-300 mb-1",children:"Anchor Stock"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-100",children:e.anchor_stock})]})]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100 mb-4",children:"Interests"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((m,v)=>o.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 rounded-full text-sm",children:m},v))})]})]}),l==="settings"&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-6",children:"Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100",children:"Dark Mode"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Switch between light and dark themes"})]}),o.jsxs("button",{onClick:u,className:"btn-secondary flex items-center space-x-2",children:[i?o.jsx(Kd,{className:"w-4 h-4"}):o.jsx(Gd,{className:"w-4 h-4"}),o.jsx("span",{children:i?"Light":"Dark"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100",children:"Learning Level"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Adjust content complexity"})]}),o.jsxs("select",{className:"input-field w-auto",children:[o.jsx("option",{value:"novice",children:"Beginner friendly"}),o.jsx("option",{value:"intermediate",selected:!0,children:"Moderate detail"}),o.jsx("option",{value:"advanced",children:"Deep dive"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100",children:"Notifications"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Portfolio updates and market alerts"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]})]})]}),l==="data"&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-6",children:"Data & Privacy"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100 mb-2",children:"Export Your Data"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300 mb-4",children:"Download your profile and portfolio data in JSON format"}),o.jsxs("button",{onClick:h,className:"btn-cta flex items-center space-x-2",children:[o.jsx(Sm,{className:"w-4 h-4"}),o.jsx("span",{children:"Export Data"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-brand-ink dark:text-gray-100 mb-2",children:"Account Actions"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300 mb-4",children:"Manage your account and data"}),o.jsxs("button",{onClick:f,className:"btn-secondary flex items-center space-x-2 text-red-600 hover:text-red-700",children:[o.jsx(ew,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Data Privacy"}),o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Your data is stored locally and used only for educational purposes. We don't share your information with third parties."})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Profile not found"})})})},YN=()=>o.jsx("div",{className:"min-h-screen py-12",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-10",children:[o.jsxs("section",{className:"card bg-white/80 dark:bg-gray-900/70 backdrop-blur border border-white/10 dark:border-gray-800/70",children:[o.jsx("h1",{className:"text-4xl font-bold text-brand-ink dark:text-gray-100 mb-4",children:"About StockBuddy"}),o.jsx("p",{className:"text-lg text-muted dark:text-gray-300",children:"StockBuddy is a learning ground for South African investors who want to build confidence before putting real rands to work. We blend paper trading, curated JSE research, and contextual education tailored to local regulation, tax rules, and market behaviour."})]}),o.jsxs("section",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-2",children:"Our mission"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Equip every South African with the tools and language to manage long term savings. We celebrate goals such as building retirement capital, protecting purchasing power, and funding big life moments."})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-2",children:"Why paper trading?"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Practising trades without risk lets you experience JSE volatility, learn order types, and test strategies with rand based results  all before opening a brokerage account."})]})]}),o.jsxs("section",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100 mb-4",children:"What you can expect"}),o.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-muted dark:text-gray-300",children:[o.jsx("li",{children:"Localised education covering ETFs, REITs, unit trusts, and dividend tax implications."}),o.jsx("li",{children:"Guided onboarding that matches you to an archetype aligned with your goal and risk appetite."}),o.jsx("li",{children:"Scenario testing: compare lump sum contributions to debit order investing across timeframes."}),o.jsx("li",{children:"Plain language reporting that highlights return, volatility, and rand drawdown in familiar terms."})]})]})]})}),GN={growth:"Growth",balanced:"Balanced",income:"Income",fallback:"Fallback"},XN={high:"High risk",medium:"Medium risk",low:"Low risk"},KN=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const i=await Oe("/api/archetypes");if(i.ok){const a=await i.json();e(a)}}catch(i){console.error("Error fetching archetypes",i)}finally{r(!1)}})()},[]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Loading archetypes..."})}):o.jsx("div",{className:"min-h-screen py-12",children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-10",children:[o.jsxs("header",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-brand-ink dark:text-gray-100",children:"Portfolio archetypes"}),o.jsx("p",{className:"text-lg text-muted dark:text-gray-300 max-w-3xl mx-auto",children:"Each archetype blends JSE ETFs, blue chips, and income counters to match a specific goal and risk profile. Anchor stocks are capped at 5% to keep concentration risk in check."})]}),o.jsx("div",{className:"space-y-8",children:t.map(s=>{const a=[...Object.entries(s.sleeves||{}),["Anchor stock (user preference)",s.anchor_cap_pct]];return o.jsx("div",{className:"card bg-white/80 dark:bg-gray-900/70 backdrop-blur border border-white/10 dark:border-gray-800/80",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[o.jsxs("div",{className:"md:w-1/2 space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"badge bg-white/90 text-brand-purple uppercase tracking-wide text-xs font-semibold",children:GN[s.goal]||s.goal}),o.jsx("span",{className:"badge bg-brand-mint/20 text-brand-mint uppercase tracking-wide text-xs font-semibold",children:XN[s.risk_band]||s.risk_band}),o.jsxs("span",{className:"badge bg-brand-gold/20 text-brand-gold uppercase tracking-wide text-xs font-semibold",children:["Anchor cap ",s.anchor_cap_pct,"%"]})]}),o.jsx("h2",{className:"text-2xl font-semibold text-brand-ink dark:text-gray-100",children:s.name}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:s.description}),s.persona&&o.jsxs("p",{className:"text-sm text-subtle dark:text-muted dark:text-gray-300",children:[o.jsx("span",{className:"font-medium text-brand-ink dark:text-gray-100",children:"Who it suits:"})," ",s.persona]}),s.guidance&&o.jsxs("p",{className:"text-sm text-subtle dark:text-muted dark:text-gray-300",children:[o.jsx("span",{className:"font-medium text-brand-ink dark:text-gray-100",children:"How to use it:"})," ",s.guidance]})]}),o.jsx("div",{className:"md:w-1/2",children:o.jsx("table",{className:"w-full text-sm",children:o.jsx("tbody",{children:a.map(([l,c])=>o.jsxs("tr",{className:"border-b border-gray-200/70 dark:border-gray-700/50",children:[o.jsx("td",{className:"py-2 pr-4 text-muted dark:text-gray-200 dark:text-gray-300",children:l}),o.jsxs("td",{className:"py-2 text-right font-medium text-brand-ink dark:text-gray-100",children:[Number(c).toFixed(2),"%"]})]},l))})})})]})},s.name)})})]})})},ci=[{key:"portfolio-basics",title:"Portfolio Building Blocks",description:"Core lingo you will see across StockBuddy  from sleeves to debit orders.",entries:[{term:"Sleeve weight",definition:"The target percentage of your portfolio allocated to a specific sleeve (e.g. Growth SA shares or Offshore ETFs). We normalise sleeve weights so they add up to 100% unless you customise them.",analogy:"Picture a bunny chow: sleeve weights decide how much curry, how much bread. You dont want all fillings spilling out one side!"},{term:"Sleeve yield",definition:"The weighted dividend income expected from the instruments inside a sleeve, expressed as a percentage per year.",analogy:"Imagine blending juices: each sleeve adds its own sweetness; sleeve yield tells you how sugary the final mix is."},{term:"Indicative yield",definition:"The latest distribution yield reported for an instrument. Helpful for estimating expected cash flow before you buy.",analogy:"Its the price tag on a mielie at the market  tells you roughly how sweet the haul will be before you take a bite."},{term:"Asset allocation",definition:"The mix of asset classes (equities, property, cash, etc.) in a portfolio. Allocation drives most of your long term return and volatility.",analogy:"Its the balance of pap, salad, and vleis on your braai plate  too much of one and the meal feels lopsided."},{term:"Diversification",definition:"Owning a variety of assets so no single setback derails the plan.",analogy:"Its packing both a jersey and sunscreen for Cape Town  whatever the weather does, youre prepared."},{term:"Debit order investing",definition:"Monthly contributions that automate saving into the market. Great for rand cost averaging and smoothing out timing risk.",analogy:"Its like buying airtime every payday automatically  small top ups that keep the calls (investing) going without stressing."},{term:"Compound interest",definition:"Interest that accrues on both your original capital and the interest already earned. Over time it accelerates growth.",analogy:"Its a snowball rolling down Table Mountain  every rotation picks up more snow, so the ball grows faster the longer it rolls."},{term:"Total expense ratio (TER)",definition:"The annual cost of running an ETF or unit trust, expressed as a percentage of assets. Lower TER leaves more return in your pocket.",analogy:"Think of TER as the admin fee at the toll plaza  the less you pay, the more petrol you keep for the trip."},{term:"Inflation",definition:"The rise in the general cost of goods and services, often tracked by CPI. Your portfolio should aim to beat inflation to protect buying power.",analogy:"Inflation is like Cape Town parking fees creeping up every season  if your salary/investments dont rise, youll be walking further."}]},{key:"statistical",title:"Statistical & Risk Metrics",description:"Return, risk and consistency measures youll see on performance charts.",entries:[{term:"Return",definition:"The percentage gain or loss on your portfolio over a period, expressed in rand terms.",analogy:"Return is your financial Parkrun finish time  how far youve progressed from the start line."},{term:"Annualised return (CAGR)",definition:"Compound annual growth rate. The steady yearly percentage gain needed to move from starting value to ending value over the period.",analogy:"CAGR is like telling friends you drove Joburg to Durban at a steady 120km/h, even if you hit robots and potholes on the way."},{term:"Volatility (Standard deviation)",definition:"Measures how widely returns swing around the average. High volatility = a bumpy ride.",analogy:"Its like Cape Town wind: some days calm, other days your umbrella turns inside-out."},{term:"Sharpe ratio",definition:"Shows how much return you earn for each unit of risk taken versus a risk free rate.",analogy:"Think of points per minute in a rugby match  not just scoring, but how efficiently you scored."},{term:"Beta",definition:"A measure of how sensitively a share or portfolio moves compared to the market (beta of 1 = moves in sync).",analogy:"Its your bakkies suspension: does it bounce with every pothole (beta 1) or smooth the bumps (beta < 1)?"},{term:"Alpha",definition:"Return earned above what beta would predict  your skill premium.",analogy:"Its bragging about beating the average Parkrun time on the same course."},{term:"Worst drawdown",definition:"The largest peak to-trough drop experienced during the selected period.",analogy:"It marks the lowest dip on the rollercoaster before you climb back up."},{term:"Downside capture",definition:"How much of the benchmarks losses your portfolio participates in during down months. Less than 100% means better protection.",analogy:"Its measuring if your raincoat keeps you dryer than friends in the same storm. Under 100% means you avoided some splashes."},{term:"Tracking error",definition:"Standard deviation of the difference between your returns and the benchmark. Low tracking error = hugs the benchmark.",analogy:"Imagine tracing a stencil: tracking error is how wobbly your pen line gets compared with the original outline."}]},{key:"income",title:"Income & Cash Flow",description:"Everything related to dividends, distributions and yield.",entries:[{term:"Distribution yield",definition:"Income (dividends or interest) paid by ETFs and REITs each year. Useful for investors targeting rand income streams.",analogy:"Its the rental income percentage on a property  how much cash the building pays you back every year."},{term:"Dividend yield",definition:"Annual dividends as a percentage of the share price.",analogy:"It shows how juicy the mango tree is  what portion of fruit you get each season per rand invested."},{term:"Dividend cover",definition:"How many times profits can pay the current dividend. Dividend cover below 1 suggests payouts rely on reserves or debt.",analogy:"Its like checking how many refill bottles a soda fountain can handle  enough syrup and CO or are you running on fumes?"},{term:"Free cash flow",definition:"Cash left after operating costs and capital spending. Strong free cash flow supports dividends, buybacks and growth.",analogy:"Its the money left after salary covers rent, transport and groceries  cash you can actually put to work."}]},{key:"fundamental",title:"Fundamental Analysis",description:"Balance sheet, income statement, and valuation terminology to decode company results.",entries:[{term:"Earnings per share (EPS)",definition:"Company profit divided by the number of shares. Indicates how much profit each share claims.",analogy:"Its the average mark per learner in the class."},{term:"Price to-earnings ratio (P/E)",definition:"Share price divided by EPS; shows how many rand investors pay for each rand of earnings.",analogy:"Its the price youre willing to pay for a slice of pizza relative to the shops profits."},{term:"Price to-book ratio (P/B)",definition:"Market value compared to accounting book value. Highlights how much youre paying for assets on the balance sheet.",analogy:"Its like comparing a houses selling price to what the bricks, roof and erf cost  are you paying a designer premium?"},{term:"Return on equity (ROE)",definition:"Profit generated for each rand of shareholder equity.",analogy:"ROE is managements report card  how effectively they use investor capital."},{term:"Gross margin",definition:"Revenue minus cost of goods sold, as a percentage of revenue. Shows basic profitability before overheads.",analogy:"Imagine a kota stand: gross margin is whats left after paying for vetkoek and polony, before rent or staff."},{term:"Operating margin",definition:"Operating profit divided by revenue. Indicates profitability after operating expenses.",analogy:"Its what the Uber driver pockets after petrol, oil changes, and e tolls  before tax or financing costs."},{term:"Net asset value (NAV)",definition:"Total assets minus liabilities per share. Essentially the companys equity on a per share basis.",analogy:"NAV is cleaning out the fridge and tallying whats left after debts  whats truly yours if you sold everything."},{term:"Debt to-equity ratio",definition:"Total liabilities divided by shareholder equity. Measures leverage.",analogy:"Its how much of your house is paid via bond versus cash deposit. Too much bond and the bank owns more than you do."},{term:"Interest coverage ratio",definition:"EBIT divided by interest expense. Shows how comfortably a company can service its debt.",analogy:"Like checking if your month end salary can cover rent easily or if youre counting coins for the landlord."},{term:"Enterprise value (EV)",definition:"Market cap plus debt minus cash. Represents the total takeover cost of a company.",analogy:"Buying a business is like buying a car with outstanding finance  EV is the sticker price plus unpaid instalments minus the cash in the cubbyhole."},{term:"Earnings growth",definition:"The rate at which a companys profits are growing over time. Sustained growth can justify higher valuations.",analogy:"Its a bakery selling more koeksisters every month  the faster the ovens churn, the more valuable the shop becomes."}]},{key:"market instruments",title:"Market Instruments & Benchmarks",description:"Understand the building blocks you can buy on the JSEbonds, property trusts, commodities and landmark indices.",entries:[{term:"Bond",definition:"A loan you make to a government or company. In return you receive fixed or floating interest (coupons) and the face value back at maturity.",analogy:"Its lending your cousin money for a taxi permit: he pays you set interest every month and the principal when the permit expires."},{term:"Bond yield",definition:"The annual return you earn from a bonds coupons relative to its current market price. Bond yields move inversely to bond prices.",analogy:"Its like rental yield on a flat  if the property price drops but the rent stays the same, the yield suddenly looks juicier."},{term:"REIT (Real Estate Investment Trust)",definition:"A listed property company that owns income producing real estate and must pay most rental profits out as distributions.",analogy:"Owning a REIT is like holding keys to a shopping centre  you collect rent without fixing the leaking roof yourself."},{term:"Commodity",definition:"Standardised raw materials such as gold, platinum, oil or maize that trade on global exchanges.",analogy:"Commodities are the ingredients of a chakalaka pot  basic components everyone recognises and swaps at market prices."},{term:"Market index",definition:"A basket of securities that tracks a segment of the market, such as the FTSE/JSE Top 40. Used as a benchmark for performance.",analogy:"An index is the PSL log for shares  one scoreboard that tells you how the whole squad played this season."},{term:"Blue chip share",definition:"A large, financially sound company with a long history of steady earnings and dividends.",analogy:"A blue chip is the Springbok of the stock world  seasoned, reliable and rarely benched during tough seasons."},{term:"Share buyback",definition:"When a company repurchases its own shares, reducing the share count and boosting metrics like earnings per share.",analogy:"Its like slicing a malva pudding into fewer pieces so the portion you already own suddenly gets thicker."},{term:"Initial public offering (IPO)",definition:"The first time a company sells shares to the public to list on the stock exchange.",analogy:"An IPO is opening night for a restaurant  you invite the public in and sell them a seat at the table."}]},{key:"trading-desk",title:"Trading Desk Lingo",description:"Price mechanics you see on an order ticket and quote screen.",entries:[{term:"Bid price",definition:"The highest price a buyer is currently willing to pay for a share.",analogy:"Its the shout from the front row at a boerewors auction  the best bid wins the packet."},{term:"Ask price",definition:"The lowest price a seller is prepared to accept (also called the offer price).",analogy:"Its the sticker price the butcher insists on before handing over the wors."},{term:"Bid ask spread",definition:"The gap between bid and ask prices. Narrow spreads signal healthy liquidity; wide spreads add to trading costs.",analogy:"Its the haggling gap between what the buyer will pay and the seller wants  the wider it is, the harder the deal."},{term:"Capital loss",definition:"The reduction in value when you sell an investment for less than you paid. Losses remain paper until realised.",analogy:"Its like selling your bakkie for less than you bought it because the gearbox packed up  you bank the loss once the keys change hands."}]},{key:"macro-rates",title:"Rates & Monetary Policy",description:"Interest rate jargon that forms the hurdle return for your portfolio.",entries:[{term:"Repo rate",definition:"The rate at which the South African Reserve Bank lends to commercial banks. It anchors short term interest rates in the economy.",analogy:"Repo is the SARBs water tap  open it and cheap money flows, close it and the system dries up."},{term:"Prime lending rate",definition:"The benchmark rate banks charge their best customers, typically the repo rate plus a fixed margin (currently 3.5%).",analogy:"Prime is your banks menu price for loans  repo is their ingredient cost, prime adds the kitchens mark up."},{term:"Risk free rate",definition:"The theoretical return on an investment with zero credit risk, often approximated by short term government bills.",analogy:"Its like the guaranteed interest your gran earns from a Post Office savings book  the baseline you expect to beat elsewhere."}]}],QN=()=>{const[t,e]=an.useState(ci[0].key),[n,r]=an.useState(""),s=n.trim().toLowerCase(),i=an.useMemo(()=>ci.find(c=>c.key===t)??ci[0],[t]),a=an.useMemo(()=>{if(!s)return null;const c=[];return ci.forEach(d=>{d.entries.forEach(u=>{`${u.term} ${u.definition} ${u.analogy??""}`.toLowerCase().includes(s)&&c.push({category:d,entry:u})})}),c},[s]),l=!!s;return o.jsx("div",{className:"min-h-screen py-12",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-8",children:[o.jsxs("header",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-brand-ink dark:text-gray-100",children:"Investment terminology"}),o.jsx("p",{className:"text-lg text-muted dark:text-gray-300",children:"Speak the language of South African investing. These are the phrases youll see throughout StockBuddy and on trading statements from the JSE or your broker."})]}),o.jsxs("div",{className:"max-w-xl mx-auto space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"search",value:n,onChange:c=>r(c.target.value),placeholder:"Search for a term, concept, or analogy...",className:"w-full rounded-full border border-gray-300 bg-white px-4 py-3 text-sm text-brand-ink dark:text-gray-100 shadow-sm transition focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100"}),n&&o.jsx("button",{type:"button",onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-semibold text-primary-600 hover:text-primary-500 dark:text-primary-300",children:"Clear"})]}),o.jsx("p",{className:"text-xs text-subtle dark:text-muted dark:text-gray-300",children:"Tip: try bond, spread, or repo to jump straight to the relevant definition."})]}),!l&&o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"flex flex-wrap items-center justify-center gap-3",children:ci.map(c=>o.jsx("button",{onClick:()=>e(c.key),className:`rounded-full px-4 py-2 text-sm font-medium transition-colors ${c.key===t?"bg-primary-600 text-white shadow":"bg-gray-100 text-muted dark:text-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:c.title},c.key))}),o.jsxs("div",{className:"space-y-3 text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-brand-ink dark:text-gray-100",children:i.title}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:i.description})]}),o.jsx("div",{className:"space-y-4",children:i.entries.map(c=>o.jsxs("div",{className:"card space-y-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100",children:c.term}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:c.definition}),c.analogy&&o.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-300 bg-primary-50/60 dark:bg-primary-500/10 rounded-md px-3 py-2 italic",children:c.analogy})]},c.term))})]}),l&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h2",{className:"text-2xl font-semibold text-brand-ink dark:text-gray-100",children:"Search results"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:a&&a.length>0?`${a.length} entr${a.length===1?"y":"ies"} mention ${n.trim()}.`:"No matches yet  try a different keyword or synonym."})]}),a&&a.length>0&&o.jsx("div",{className:"space-y-4",children:a.map(({category:c,entry:d})=>o.jsxs("div",{className:"card space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-300",children:[o.jsx("span",{children:c.title}),o.jsx("span",{className:"text-gray-400 dark:text-subtle dark:text-gray-400",children:""}),o.jsx("span",{children:d.term})]}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:d.definition}),d.analogy&&o.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-300 bg-primary-50/60 dark:bg-primary-500/10 rounded-md px-3 py-2 italic",children:d.analogy})]},`${c.key}-${d.term}`))})]})]})})},Yp={Positive:"bg-success-100 text-success-700 dark:bg-success-500/20 dark:text-success-300",Neutral:"bg-gray-200 text-muted dark:text-gray-200 dark:bg-gray-700/50 dark:text-gray-200",Mixed:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300",Cautious:"bg-danger-100 text-danger-700 dark:bg-danger-500/20 dark:text-danger-300"},JN=({userId:t})=>{var T,F;const{theme:e}=Fs(),n=e==="dark",[r,s]=w.useState(null),[i,a]=w.useState(null),[l,c]=w.useState([]),[d,u]=w.useState([]),[h,f]=w.useState({}),[m,v]=w.useState(!1),[x,k]=w.useState(null),g=un();w.useEffect(()=>{(async()=>{try{const D=await Oe("/api/benchmarks");if(!D.ok)throw new Error("Unable to fetch benchmarks");await D.json()}catch(D){console.error("Failed to load benchmark list",D)}})()},[]);const y=w.useCallback(async()=>{if(t){v(!0),k(null);try{const N=new URLSearchParams,D=await Oe(`/api/news/${t}?${N.toString()}`);if(!D.ok)throw new Error("Unable to load portfolio news right now.");const G=await D.json();a(G.anchor||null),s(G.benchmark||null),c(G.holdings||[]),u(G.earnings_watch||[]),f(G.earnings_schedule||{})}catch(N){k(N.message||"Something went wrong loading news.")}finally{v(!1)}}},[t]);w.useEffect(()=>{t&&y()},[t,y]);const b=N=>{const D=new Date(N);return Number.isNaN(D.getTime())?"Recently updated":D.toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_=w.useMemo(()=>l.filter(N=>Array.isArray(N.news)&&N.news.length>0),[l]),j=w.useMemo(()=>[{key:"anchor",label:"Anchor stock diary",helper:"Key announcements for your anchor company over the next two months."},{key:"benchmark",label:"Benchmark watchlist",helper:"Upcoming calls for the benchmark or its headline constituents."},{key:"portfolio",label:"Portfolio holdings",helper:"Keep tabs on earnings that could move your current sleeves."}],[]),M=j.some(({key:N})=>{var D;return(((D=h[N])==null?void 0:D.length)??0)>0}),C=M||d.length>0,P={anchor:"No anchor earnings confirmed in the next 60 days.",benchmark:"Benchmark constituents have not flagged upcoming earnings in this window.",portfolio:"None of your current holdings have scheduled calls in the next 60 days."};if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:o.jsxs("div",{className:"card max-w-md text-center space-y-4",children:[o.jsx(Mm,{className:"w-10 h-10 text-primary-500 mx-auto"}),o.jsx("h2",{className:"text-2xl font-semibold text-brand-ink dark:text-gray-100",children:"Portfolio first"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-300",children:"Complete the onboarding journey so we can tailor daily news to the shares and ETFs you actually hold."}),o.jsx("button",{onClick:()=>g("/onboarding"),className:"btn-cta",children:"Start onboarding"})]})});const E=(N,D)=>{const G=Yp[N.sentiment]??Yp.Neutral,z=D==="primary"?n?"rounded-xl border border-primary-500/30 bg-slate-900/70 px-4 py-4 shadow-sm":"rounded-xl border border-brand-purple/20 bg-white px-4 py-4 shadow-sm":"rounded-xl border border-gray-200/70 dark:border-gray-700/60 bg-white dark:bg-gray-900 px-4 py-4 shadow-sm",ne=D==="primary"?n?"mt-3 flex flex-wrap items-center gap-3 text-xs text-primary-200/80":"mt-3 flex flex-wrap items-center gap-3 text-xs text-muted":"mt-3 flex flex-wrap items-center gap-3 text-xs text-muted dark:text-gray-300",V=D==="primary"?n?"mt-2 text-sm text-primary-100/80 leading-relaxed":"mt-2 text-sm text-brand-ink leading-relaxed":"mt-2 text-sm text-brand-ink dark:text-gray-300 leading-relaxed";return o.jsxs("article",{className:z,children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx("h3",{className:`flex-1 min-w-0 break-words text-lg font-semibold ${D==="primary"?n?"text-primary-50":"text-brand-ink":"text-brand-ink dark:text-gray-100"}`,children:N.headline}),o.jsx("span",{className:`whitespace-nowrap rounded-full px-2 py-1 text-[11px] font-semibold ${G}`,children:N.sentiment})]}),o.jsx("p",{className:V,children:N.summary}),o.jsxs("div",{className:ne,children:[o.jsx("span",{children:b(N.published_at)}),N.topic&&o.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${D==="primary"?"bg-primary-500/20 text-primary-100":"bg-primary-500/10 text-primary-600 dark:text-primary-300"}`,children:N.topic}),N.source&&o.jsxs("span",{children:["Source: ",N.source]}),N.url&&o.jsxs("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 ${D==="primary"?"text-primary-200":"text-primary-600 dark:text-primary-300"} hover:underline`,children:["View detail",o.jsx(J1,{className:"w-3 h-3"})]})]})]},N.id)};return o.jsx("div",{className:"min-h-screen py-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 space-y-8",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100",children:"Market briefings"}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:"Live headlines from credible publishers over the past seven days, ranked by your benchmark and holdings."})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-3",children:o.jsxs("button",{type:"button",onClick:y,className:"btn-secondary inline-flex items-center gap-2",disabled:m,children:[o.jsx(nw,{className:`w-4 h-4 ${m?"animate-spin":""}`}),"Refresh feed"]})})]}),x&&o.jsxs("div",{className:"rounded-xl border border-danger-500/40 bg-danger-500/10 px-4 py-3 flex items-center gap-3 text-danger-600 dark:text-danger-300",children:[o.jsx(yx,{className:"w-5 h-5"}),o.jsx("span",{children:x})]}),m&&o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-3"}),o.jsx("p",{className:"text-sm text-subtle dark:text-gray-400 dark:text-gray-300",children:"Gathering the latest briefings..."})]})}),!m&&!i&&!r&&_.length===0&&!x&&o.jsxs("div",{className:"card text-center space-y-3",children:[o.jsx(Mm,{className:"w-10 h-10 text-primary-500 mx-auto"}),o.jsx("p",{className:"text-brand-ink dark:text-gray-300",children:"We'll start surfacing stories here as soon as your holdings sync with our news desk."})]}),!m&&i&&o.jsxs("section",{className:"card space-y-4 border-primary-500/30",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-brand-ink dark:text-primary-100",children:["Anchor spotlight  ",i.name," (",i.symbol,")"]}),o.jsx("p",{className:"text-xs uppercase tracking-wide text-brand-purple dark:text-primary-300",children:"Your north star holding  freshest coverage (last 7 days)"})]})}),o.jsx("div",{className:"space-y-3",children:(T=i.news)!=null&&T.length?i.news.map(N=>E(N,"primary")):o.jsx("div",{className:"rounded-xl border border-primary-500/20 bg-white text-muted dark:bg-slate-900/40 dark:text-primary-200 px-4 py-4 text-sm",children:"No major headlines for your anchor stock over the past week. We'll surface fresh coverage as soon as it lands."})})]}),!m&&r&&((F=r.news)==null?void 0:F.length)>0&&o.jsxs("section",{className:"card space-y-4 border-primary-500/30",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-brand-ink dark:text-primary-100",children:["Benchmark spotlight  ",r.name," (",r.symbol,")"]}),o.jsx("p",{className:"text-xs uppercase tracking-wide text-brand-purple dark:text-primary-300",children:"Latest coverage (last 7 days)"})]})}),o.jsx("div",{className:"space-y-3",children:r.news.map(N=>E(N,"primary"))})]}),!m&&_.map(({symbol:N,name:D,news:G})=>o.jsxs("section",{className:"card space-y-4",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100",children:[D," (",N,")"]}),o.jsxs("p",{className:"text-xs uppercase tracking-wide text-subtle dark:text-brand-ink dark:text-gray-300",children:[G.length," headline",G.length>1?"s":""," matched to this holding"]})]})}),o.jsx("div",{className:"space-y-4",children:G.map(z=>E(z,"neutral"))})]},N)),!m&&C&&o.jsxs("section",{className:"card space-y-6",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_m,{className:"w-5 h-5 text-primary-500"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100",children:"Upcoming earnings calls"}),o.jsx("p",{className:"text-xs uppercase tracking-wide text-subtle dark:text-brand-ink dark:text-gray-300",children:"Next 60 days  refreshed daily"})]})]})}),o.jsx("div",{className:"space-y-6",children:j.map(({key:N,label:D,helper:G})=>{const z=h[N]??[];return N==="anchor"&&!!i||N==="benchmark"&&!!r||N==="portfolio"&&l.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-brand-ink dark:text-gray-100",children:D}),o.jsx("p",{className:"text-xs text-subtle dark:text-brand-ink dark:text-gray-300",children:G})]}),z.length>0?o.jsx("ul",{className:"divide-y divide-gray-200/60 dark:divide-gray-700/60",children:z.map(V=>{const I=new Date(V.date).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsxs("li",{className:"py-3 flex flex-wrap items-center justify-between gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-brand-ink dark:text-gray-100",children:V.name||V.symbol}),o.jsxs("p",{className:"text-brand-ink dark:text-gray-300",children:[V.symbol,"  ",I]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-subtle dark:text-brand-ink dark:text-gray-300",children:[typeof V.eps_estimate=="number"&&o.jsxs("span",{children:["EPS est: ",V.eps_estimate.toFixed(2)]}),typeof V.eps_actual=="number"&&o.jsxs("span",{children:["Last EPS: ",V.eps_actual.toFixed(2)]}),typeof V.surprise_pct=="number"&&o.jsxs("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${V.surprise_pct>=0?"bg-success-100 text-success-700":"bg-danger-100 text-danger-700"}`,children:["Prev surprise ",V.surprise_pct.toFixed(1),"%"]})]})]},`${N}-${V.symbol}-${V.date}`)})}):o.jsx("div",{className:"rounded-xl border border-dashed border-gray-300/70 dark:border-gray-700/70 bg-gray-50/60 dark:bg-gray-900/40 px-4 py-4 text-sm text-brand-ink dark:text-gray-300",children:P[N]})]},N):null})})]}),!m&&!M&&d.length>0&&o.jsxs("section",{className:"card space-y-4",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_m,{className:"w-5 h-5 text-primary-500"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-brand-ink dark:text-gray-100",children:"Earnings on the radar"}),o.jsx("p",{className:"text-xs uppercase tracking-wide text-subtle dark:text-brand-ink dark:text-gray-300",children:"Next 60 days"})]})]})}),o.jsx("ul",{className:"divide-y divide-gray-200/60 dark:divide-gray-700/60",children:d.map(N=>{const D=new Date(N.date).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsxs("li",{className:"py-3 flex flex-wrap items-center justify-between gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-brand-ink dark:text-gray-100",children:N.name||N.symbol}),o.jsxs("p",{className:"text-brand-ink dark:text-gray-300",children:[N.symbol,"  ",D]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-subtle dark:text-brand-ink dark:text-gray-300",children:[typeof N.eps_estimate=="number"&&o.jsxs("span",{children:["EPS est: ",N.eps_estimate.toFixed(2)]}),typeof N.eps_actual=="number"&&o.jsxs("span",{children:["Last EPS: ",N.eps_actual.toFixed(2)]}),typeof N.surprise_pct=="number"&&o.jsxs("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${N.surprise_pct>=0?"bg-success-100 text-success-700":"bg-danger-100 text-danger-700"}`,children:["Prev surprise ",N.surprise_pct.toFixed(1),"%"]})]})]},`${N.symbol}-${N.date}`)})})]})]})})},qN=[{key:"lump_sum",title:"Portfolio growth",description:"Track progress toward a rand value goal over a chosen horizon.",icon:o.jsx(lw,{className:"w-6 h-6 text-brand-purple"})},{key:"dividend_growth",title:"Dividend growth",description:"Aim for an inflation beating increase in annual distributions.",icon:o.jsx(sr,{className:"w-6 h-6 text-brand-mint"})},{key:"passive_income",title:"Passive income",description:"Monitor monthly income potential versus your living costs.",icon:o.jsx(Xd,{className:"w-6 h-6 text-brand-gold"})}],ZN={growth:"lump_sum",balanced:"dividend_growth",income:"passive_income",fallback:"lump_sum"},eS={lump_sum:"growth",dividend_growth:"balanced",passive_income:"income"},iu={lump_sum:[{label:"Current portfolio value (ZAR)",value:2959,helper:"Latest value pulled from your holdings."},{label:"Target value (ZAR)",value:5e5,helper:"Rand amount you want the portfolio to reach."},{label:"Term in years",value:5,helper:"Timeline for the goal. We project progress over this period."}],dividend_growth:[{label:"Current annual dividends (ZAR)",value:12e3,helper:"Present distributions from your holdings."},{label:"Target annual dividends (ZAR)",value:24e3,helper:"Income stream you want to reach."},{label:"Term in years",value:4,helper:"Years you are budgeting to reach that payout."}],passive_income:[{label:"Current monthly income (ZAR)",value:6e3,helper:"What your portfolio generates today."},{label:"Monthly income goal (ZAR)",value:15e3,helper:"Living cost you want the portfolio to cover."},{label:"Term in years",value:3,helper:"Target timeline to get your income stream match-fit."}]},nt=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(Math.round(t)),tS=({userId:t})=>{const e=un(),[n,r]=w.useState("lump_sum"),[s,i]=w.useState(()=>iu.lump_sum.reduce((U,X)=>(U[X.label]=X.value,U),{})),a=s["Current portfolio value (ZAR)"]??1e3,[l,c]=w.useState(!1),[d,u]=w.useState(()=>{if(typeof window>"u")return null;const $=localStorage.getItem("stockbuddy_performance_payload_nominal");if($)try{const Z=JSON.parse($),ae=typeof(Z==null?void 0:Z.annual_return)=="number"?Z.annual_return:null;return ae!==null&&Number.isFinite(ae)?ae:null}catch{}const U=localStorage.getItem("stockbuddy_annualised_return_nominal")??localStorage.getItem("stockbuddy_annualised_return"),X=U!==null?Number(U):null;return X!==null&&Number.isFinite(X)?X:null}),[h,f]=w.useState(()=>{if(typeof window>"u")return null;const $=localStorage.getItem("stockbuddy_performance_payload_real");if($)try{const Z=JSON.parse($),ae=typeof(Z==null?void 0:Z.annual_return_real)=="number"?Z.annual_return_real:null;return ae!==null&&Number.isFinite(ae)?ae:null}catch{}const U=localStorage.getItem("stockbuddy_annualised_return_real"),X=U!==null?Number(U):null;return X!==null&&Number.isFinite(X)?X:null}),[m,v]=w.useState(!1),[x,k]=w.useState(null),[g,y]=w.useState(()=>typeof window>"u"?!1:localStorage.getItem("stockbuddy_inflation_adjust")==="1"),b=w.useCallback($=>{const X=iu[$].reduce((Z,ae)=>(Z[ae.label]=ae.value,Z),{});i(X)},[]),_=w.useCallback(async $=>{if(!t)return;const U=eS[$];try{await Oe("/api/onboarding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,goal:U})})}catch(X){console.error("Failed to update goal preference",X)}},[t]),j=w.useCallback(($,U)=>{r($),b($),(U==null?void 0:U.persist)!==!1&&_($)},[b,_]),M=($,U)=>{const X=Number(U.replace(/[^0-9.]/g,""));Number.isFinite(X)&&i(Z=>({...Z,[$]:X}))};w.useEffect(()=>{if(!t||l)return;(async()=>{try{const U=await Oe(`/api/users/${t}`);if(!U.ok)return;const X=await U.json(),Z=ZN[(X.goal||"").toLowerCase()]??null;Z&&j(Z,{persist:!1})}catch(U){console.error("Failed to load goal preference",U)}finally{c(!0)}})()},[t,l,j]);const C=w.useCallback(()=>{if(typeof window>"u")return!1;const $=g?"stockbuddy_performance_payload_real":"stockbuddy_performance_payload_nominal",U=localStorage.getItem($);if(!U)return!1;try{const X=JSON.parse(U),Z=typeof(X==null?void 0:X.annual_return)=="number"?X.annual_return:null,ae=typeof(X==null?void 0:X.annual_return_real)=="number"?X.annual_return_real:null;return Z!==null&&Number.isFinite(Z)&&(u(Z),localStorage.setItem("stockbuddy_annualised_return_nominal",Z.toString())),ae!==null&&Number.isFinite(ae)&&(f(ae),localStorage.setItem("stockbuddy_annualised_return_real",ae.toString())),!0}catch{return!1}},[g]);w.useEffect(()=>{const $=U=>{if(U.key){if((U.key==="stockbuddy_performance_payload_nominal"||U.key==="stockbuddy_performance_payload_real")&&C(),U.key==="stockbuddy_annualised_return_nominal"||U.key==="stockbuddy_annualised_return"){const X=U.newValue!==null?Number(U.newValue):null;u(X!==null&&Number.isFinite(X)?X:null)}if(U.key==="stockbuddy_annualised_return_real"){const X=U.newValue!==null?Number(U.newValue):null;f(X!==null&&Number.isFinite(X)?X:null)}}};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[C]),w.useEffect(()=>{(()=>{typeof window>"u"||y(localStorage.getItem("stockbuddy_inflation_adjust")==="1")})();const U=X=>{X.key==="stockbuddy_inflation_adjust"&&y(X.newValue==="1")};return window.addEventListener("storage",U),()=>window.removeEventListener("storage",U)},[]),w.useEffect(()=>{if(C()){v(!1),k(null);return}if(!t)return;let $=!1;const U=new AbortController;return(async()=>{v(!0),k(null);try{const Z=await Oe("/api/simulate/performance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,timeframe:"5y",investment_mode:"lump_sum",initial_investment:a,monthly_contribution:0,inflation_adjust:g,distribution_policy:"reinvest"}),signal:U.signal});if(!Z.ok)throw new Error(`Status ${Z.status}`);const ae=await Z.json(),Be=(ae==null?void 0:ae.baseline)??ae;if(!$){const Al=g?"stockbuddy_performance_payload_real":"stockbuddy_performance_payload_nominal";try{localStorage.setItem(Al,JSON.stringify(Be))}catch{}const qt=typeof(Be==null?void 0:Be.annual_return)=="number"?Be.annual_return:null,$t=typeof(Be==null?void 0:Be.annual_return_real)=="number"?Be.annual_return_real:null;u(qt!==null&&Number.isFinite(qt)?qt:null),f($t!==null&&Number.isFinite($t)?$t:null),qt!==null&&Number.isFinite(qt)&&localStorage.setItem("stockbuddy_annualised_return_nominal",qt.toString()),$t!==null&&Number.isFinite($t)&&localStorage.setItem("stockbuddy_annualised_return_real",$t.toString())}}catch{$||k("Unable to load portfolio return.")}finally{$||v(!1)}})(),()=>{$=!0,U.abort()}},[t,g,a,C]);const P=w.useMemo(()=>n==="dividend_growth"?.08:n==="passive_income"?.12:.1,[n]),E=w.useMemo(()=>{const $=Object.keys(s),U=s[$[0]]??0,X=s[$[1]]??0,Z=X>0?Math.min(U/X,1):0,ae=Math.min(Z+P,1),Be=Z>=1?"Goal achieved":ae>=1?"On track":Z<.6?"Needs focus":"Making progress";return{current:U,target:X,currentProgress:Z,projectedProgress:ae,status:Be}},[s,n,P]),T=s["Term in years"]??(n==="passive_income"?3:n==="dividend_growth"?4:5),F=w.useMemo(()=>{if(E.projectedProgress>=1||T<=0)return T;const $=Math.max(E.projectedProgress,.05);return Math.ceil(T/$)},[E.projectedProgress,T]),N=w.useMemo(()=>{const $=E.target*E.projectedProgress;return Math.max(E.target-$,0)},[E.target,E.projectedProgress]),D=w.useMemo(()=>{if(N<=0)return{amount:0,cadence:"",message:n==="dividend_growth"?"You are on course to exceed your dividend target within the selected term.":n==="passive_income"?"Portfolio income is trending ahead of the goal for this timeline.":"Your lump sum target is within reach on the current trajectory."};if(n==="dividend_growth"){const U=T>0?N/T:N;return{amount:U,cadence:"p/a",message:`Increase annual distributions by about ${nt(U)} each year to stay on schedule.`}}if(n==="passive_income"){const U=N;return{amount:U,cadence:"p/m",message:`Boost monthly income by roughly ${nt(U)} to cover the gap within ${T} years.`}}const $=T>0?N/(T*12):N/12;return{amount:$,cadence:"p/m",message:`Setting aside about ${nt($)} per month keeps the plan on track.`}},[n,N,T]),[G,z]=w.useState(0),[ne,V]=w.useState(0);w.useEffect(()=>{D.amount===0&&(z(0),V(0))},[D.amount]);const I=w.useMemo(()=>D.amount*(G/100),[D.amount,G]),W=w.useMemo(()=>D.amount*(ne/100),[D.amount,ne]),Q=w.useCallback(()=>{G>0&&V(G)},[G]),re=w.useMemo(()=>{const $=Math.max(F-T,0);return F<=T?n==="lump_sum"?`Your lump sum target of ${nt(E.target)} stays within the ${T}-year horizon.`:n==="dividend_growth"?`Dividend flow is on pace to reach ${nt(E.target)} a year inside the timeline.`:`Portfolio income should cover ${nt(E.target)} per month within the timeline.`:n==="lump_sum"?`Expect roughly ${$} extra year(s) to grow the portfolio to ${nt(E.target)}.`:n==="dividend_growth"?`Expect roughly ${$} extra year(s) to lift payouts to ${nt(E.target)} a year.`:`Expect roughly ${$} extra year(s) to reach ${nt(E.target)} in monthly income.`},[n,F,T,E.target]),ce=w.useMemo(()=>Math.min(Math.max(E.projectedProgress+.05,E.currentProgress+.1),1),[E.currentProgress,E.projectedProgress]),Ee=w.useCallback($=>n==="dividend_growth"?`${nt($)} per year`:n==="passive_income"?`${nt($)} per month`:nt($),[n]),Te=w.useMemo(()=>{const $=E.target*E.projectedProgress,U=E.target*ce,X=n==="lump_sum"?`Current capital sits at ${Ee(E.current)} of the ${Ee(E.target)} target.`:n==="dividend_growth"?`The portfolio delivers about ${Ee(E.current)} in distributions right now.`:`Current income stream is ${Ee(E.current)} against your goal.`,Z=n==="lump_sum"?`Staying with the plan could grow the portfolio to around ${Ee($)} within ${T} year(s).`:n==="dividend_growth"?`On the present growth pace, dividends could reach ${Ee($)} by year ${T}.`:`Income could compound to ${Ee($)} in ${T} year(s) if markets behave as expected.`,ae=`We leave ${Math.max(Math.round((ce-E.projectedProgress)*100),0)}% headroom  planning for about ${Ee(U)} so the goal survives market swings.`;return[{label:"Current",value:E.currentProgress,color:"#7a3ff2",summary:X},{label:"Projected",value:E.projectedProgress,color:"#3fd0c9",summary:Z},{label:"Buffer",value:ce,color:"#ffc943",summary:ae}]},[ce,n,E,T,Ee]),Je=w.useMemo(()=>qN.find($=>$.key===n),[n]),Ne=($,U,X,Z)=>{const ae=2*Math.PI*$,Be=ae*(1-X);return{className:"stroke-[12] transition-all duration-700 ease-out",style:{strokeDasharray:`${ae} ${ae}`,strokeDashoffset:Be,stroke:Z,opacity:1-U*.15}}};return o.jsx("div",{className:"min-h-screen py-12",children:o.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-4",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-ink dark:text-gray-100",children:"Portfolio health"}),o.jsx("p",{className:"text-muted dark:text-gray-300",children:"Check how your StockBuddy plan lines up against the goals that matter: rand targets, dividend growth, or steady income."})]}),o.jsx("button",{onClick:()=>e("/portfolio"),className:"btn-secondary",children:"Back to portfolio"})]}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.25fr_1fr]",children:[o.jsxs("div",{className:"card space-y-6",children:[Je&&o.jsxs("div",{className:"flex flex-col gap-4 rounded-3xl border border-white/30 bg-white/85 px-5 py-4 shadow-sm backdrop-blur-sm dark:border-slate-700/60 dark:bg-slate-800/70",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white shadow-inner dark:bg-slate-900/80",children:Je.icon}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:"Portfolio goal"}),o.jsx("p",{className:"text-lg font-semibold text-brand-ink dark:text-white",children:Je.title}),o.jsx("p",{className:"text-sm text-muted dark:text-gray-300",children:Je.description})]})]}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-400",children:"Update this focus in your profile or onboarding preferences to shift the health projection."})]}),o.jsx(nS,{goalType:n,goalInputs:s,handleInputChange:M,formatRand:nt,portfolioNominalReturn:d,yieldLoading:m,yieldError:x,useRealReturns:g,portfolioRealReturn:h}),o.jsxs("div",{className:"rounded-3xl bg-brand-purple/5 p-6 text-sm text-brand-ink dark:text-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-brand-purple",children:[o.jsx(sr,{className:"w-4 h-4"}),"Goal insight"]}),o.jsxs("p",{className:"mt-3 leading-relaxed",children:["Based on current holdings we estimate you are"," ",o.jsxs("span",{className:"font-semibold",children:[Math.round(E.currentProgress*100),"%"]})," of the way there. Keeping your baseline plan on autopilot could push that to"," ",o.jsxs("span",{className:"font-semibold",children:[Math.round(E.projectedProgress*100),"%"]})," within the term."]})]})]}),o.jsxs("div",{className:"card space-y-8 md:p-8",children:[o.jsx("div",{className:"flex flex-col items-center gap-10 md:flex-row md:justify-center md:gap-16",children:o.jsxs("div",{className:"w-full max-w-xs p-6 text-center md:max-w-sm",children:[o.jsx("div",{className:"mb-6 flex flex-nowrap items-center justify-center gap-6 text-xs sm:text-sm",children:Te.map($=>o.jsxs("div",{className:"group relative flex items-center gap-2 whitespace-nowrap",children:[o.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:$.color}}),o.jsx("span",{className:"font-semibold text-brand-ink dark:text-gray-100",children:$.label}),o.jsxs("span",{className:"text-muted dark:text-gray-400",children:[Math.round($.value*100),"%"]}),o.jsx("div",{className:"pointer-events-none absolute left-1/2 top-full z-20 mt-2 max-w-[14rem] -translate-x-1/2 rounded-2xl border border-brand-purple/30 bg-white px-3 py-2 text-center text-[11px] text-brand-ink opacity-0 transition duration-150 group-hover:opacity-100 dark:border-slate-700/60 dark:bg-slate-900/90 dark:text-gray-100",style:{boxShadow:"0 14px 34px rgba(122,63,242,0.12)"},children:$.label==="Current"?"Current value  target.":$.label==="Projected"?"Projected value by end of term.":"Extra buffer to absorb market swings."})]},$.label))}),o.jsxs("div",{className:"relative mx-auto h-72 w-72",children:[o.jsx("svg",{viewBox:"0 0 220 220",className:"h-full w-full",children:o.jsxs("g",{transform:"translate(110,110)",children:[Te.map(($,U)=>{const X=90-U*12;return o.jsx("circle",{r:X,cx:"0",cy:"0",fill:"transparent",...Ne(X,U,$.value,$.color)},$.label)}),o.jsx("circle",{r:"54",cx:"0",cy:"0",fill:"white",className:"dark:fill-slate-900"})]})}),o.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:o.jsxs("div",{className:"flex h-32 w-32 flex-col items-center justify-center rounded-full bg-white dark:bg-slate-900",children:[o.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted dark:text-gray-400",children:"Projected"}),o.jsxs("span",{className:"text-3xl font-bold text-brand-ink dark:text-white",children:[Math.round(E.projectedProgress*100),"%"]}),o.jsx("span",{className:`text-xs font-semibold ${E.status==="Needs focus"?"text-danger-600":"text-brand-mint dark:text-brand-mint"}`,children:E.status})]})})]})]})}),o.jsxs("div",{className:"grid gap-4 text-left text-sm",children:[o.jsxs("div",{className:"rounded-2xl bg-brand-purple/5 px-4 py-3 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-brand-purple",children:[o.jsx(Y1,{className:"w-4 h-4"}),"Timeline"]}),o.jsxs("div",{children:[o.jsx("div",{className:"relative h-3 rounded-full bg-brand-purple/10",children:o.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-brand-purple/60",style:{width:`${Math.min(T/Math.max(F,T),1)*100}%`}})}),o.jsxs("div",{className:"mt-1 flex justify-between text-[11px] uppercase tracking-wide text-muted dark:text-gray-400",children:[o.jsxs("span",{children:["Your term  ",T," yrs"]}),o.jsxs("span",{children:["Projected  ",F," yrs"]})]})]}),o.jsx("p",{className:"text-brand-ink dark:text-gray-200",children:re})]}),o.jsxs("div",{className:"rounded-2xl bg-brand-mint/10 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-brand-mint",children:[o.jsx(eh,{className:"w-4 h-4"}),"Margin of error"]}),o.jsxs("p",{className:"mt-2 text-brand-ink dark:text-gray-200",children:["We apply a ",n==="dividend_growth"?8:n==="passive_income"?12:10,"% confidence band around the projection to cover market drift."]})]}),o.jsxs("div",{className:"rounded-2xl bg-brand-gold/10 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-brand-gold",children:[o.jsx(sr,{className:"w-4 h-4"}),"Next step"]}),o.jsx("p",{className:"mt-2 text-brand-ink dark:text-gray-200",children:D.message}),D.amount>0&&o.jsxs("div",{className:"mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between text-[11px] uppercase tracking-wide text-muted dark:text-gray-400",children:[o.jsx("span",{children:"Commitment level"}),o.jsxs("span",{children:[G,"%"]})]}),o.jsx("input",{type:"range",min:0,max:100,step:5,value:G,onChange:$=>z(Number($.target.value)),className:"mt-2 w-full accent-brand-purple"})]}),o.jsx("div",{className:"w-full rounded-2xl bg-white/80 px-4 py-3 text-sm tabular-nums dark:bg-slate-800/60",children:o.jsxs("div",{className:"grid gap-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:"Selected"}),o.jsxs("span",{className:"inline-flex w-[120px] justify-end font-semibold text-brand-ink dark:text-gray-100",children:[nt(I)," ",D.cadence]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:"Gap after top-up"}),o.jsxs("span",{className:"inline-flex w-[120px] justify-end font-semibold text-brand-ink dark:text-gray-100",children:[nt(Math.max(D.amount-I,0))," ",D.cadence]})]})]})}),o.jsx("div",{className:"min-h-[30px]",children:o.jsxs("div",{className:`rounded-full bg-brand-purple/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-brand-purple tabular-nums transition-opacity dark:bg-brand-purple/20 dark:text-brand-purple/90 ${ne>0?"opacity-100":"opacity-0"}`,children:["Committed ",ne,"%  ",nt(W)," ",D.cadence]})}),o.jsxs("div",{className:"flex flex-nowrap gap-2 overflow-x-auto pb-1",children:[o.jsx("button",{type:"button",onClick:Q,disabled:G===0||G===ne,className:`btn-cta px-4 py-2 text-sm whitespace-nowrap ${G===0||G===ne?"opacity-60 pointer-events-none":""}`,children:"Confirm selection"}),o.jsx("button",{type:"button",onClick:()=>z(100),className:"btn-cta px-4 py-2 text-sm whitespace-nowrap",children:"Accept full top-up"}),o.jsx("div",{className:"inline-flex",children:o.jsx("button",{type:"button",onClick:()=>{G===0?z(50):(z(0),V(0))},className:"btn-secondary px-4 py-2 text-sm whitespace-nowrap",children:o.jsx("span",{className:"block min-w-[72px] text-center",children:G===0?"Set 50%":"Clear"})})})]}),o.jsx("p",{className:"text-xs text-muted dark:text-gray-400",children:"Adjusting this slider lets you bank a portion of the suggested top-up without overwriting your plan. Confirmed amounts are tracked above."})]})]})]})]})]})]})})},nS=({goalType:t,goalInputs:e,handleInputChange:n,formatRand:r,portfolioNominalReturn:s,yieldLoading:i,yieldError:a,useRealReturns:l,portfolioRealReturn:c})=>{const[d,u,h]=iu[t],f=e[d.label]??d.value,m=e[u.label]??u.value,v=e[h.label]??h.value,x=l?c:s,k=i?"Loading...":x!==null&&Number.isFinite(x)?`${x.toFixed(2)}% p.a.`:"Not available",g=l?"Real":"Nominal",y=i?"Fetching your latest return.":a||(x!==null?`${g} CAGR from your live portfolio.`:`Open your portfolio to sync the ${g.toLowerCase()} return.`);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:d.label}),o.jsx("div",{className:"rounded-2xl border border-white/40 bg-white/70 px-4 py-3 text-sm font-semibold text-brand-ink shadow-sm dark:border-slate-700/60 dark:bg-slate-800/70 dark:text-gray-200",children:r(f)}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-400",children:d.helper})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:"Portfolio yield"}),o.jsx("div",{className:"rounded-2xl border border-white/40 bg-white/90 px-4 py-3 text-sm font-semibold text-brand-ink shadow-sm dark:border-slate-700/60 dark:bg-slate-800/80 dark:text-gray-100",children:k}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-400",children:y})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:u.label}),o.jsx("input",{type:"number",value:m,onChange:b=>n(u.label,b.target.value),className:"input-field rounded-2xl bg-white/90 dark:bg-slate-800/80"}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-400",children:u.helper})]}),o.jsxs("label",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-xs uppercase tracking-wide text-muted dark:text-gray-400",children:h.label}),o.jsx("input",{type:"number",value:v,onChange:b=>n(h.label,b.target.value),className:"input-field rounded-2xl bg-white/90 dark:bg-slate-800/80"}),o.jsx("span",{className:"text-xs text-muted dark:text-gray-400",children:h.helper})]})]})]})},Gp=[{label:"Home",to:"/"},{label:"About",to:"/about"},{label:"Archetypes",to:"/archetypes"},{label:"Terminology",to:"/terminology"},{label:"Portfolio",to:"/portfolio"},{label:"News",to:"/news"},{label:"Health",to:"/health"}],rS=({isOnboarded:t})=>{const[e,n]=w.useState(!1),{theme:r,toggleTheme:s}=Fs(),i=un(),a=()=>{i(t?"/portfolio":"/onboarding"),n(!1)},l=({isActive:c})=>`px-3 py-2 text-sm font-medium transition-colors ${c?"text-brand-purple":"text-gray-500 hover:text-brand-coral dark:text-gray-300 dark:hover:text-brand-mint"}`;return o.jsxs("header",{className:"sticky top-0 z-40 border-b border-white/20 dark:border-slate-800/70 bg-white/90 dark:bg-slate-900/95 backdrop-blur-md",children:[o.jsxs("div",{className:"mx-auto flex h-16 w-full max-w-7xl items-center gap-4 px-4 sm:px-6",children:[o.jsx(Bc,{to:"/","aria-label":"StockBuddy home",className:"flex-shrink-0",children:o.jsx("img",{src:"/assets/stockbuddy_logo.svg",alt:"StockBuddy",className:"h-8 w-auto",loading:"lazy"})}),o.jsx("div",{className:"hidden flex-1 justify-center md:flex",children:o.jsx("nav",{className:"inline-flex items-center gap-2 rounded-full border border-white/50 bg-white/60 px-3 py-1 shadow-sm backdrop-blur-sm dark:border-white/10 dark:bg-slate-800/60",children:Gp.map(c=>o.jsx(Bc,{to:c.to,className:l,children:c.label},c.to))})}),o.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[o.jsx("button",{onClick:s,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/40 bg-white/70 text-brand-purple transition hover:border-brand-purple hover:bg-white md:h-10 md:w-10 dark:border-white/10 dark:bg-slate-800/80 dark:text-brand-gold","aria-label":`Switch to ${r==="dark"?"light":"dark"} mode`,children:r==="dark"?o.jsx(Kd,{className:"h-5 w-5"}):o.jsx(Gd,{className:"h-5 w-5"})}),o.jsx("button",{onClick:a,className:"hidden whitespace-nowrap md:inline-flex btn-cta",children:t?"View portfolio":"Get started"}),o.jsxs("button",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/30 text-brand-purple transition hover:border-brand-purple md:hidden",onClick:()=>n(c=>!c),"aria-label":"Toggle navigation",children:[o.jsx("span",{className:"block h-0.5 w-5 bg-current"}),o.jsx("span",{className:"block h-0.5 w-5 bg-current"}),o.jsx("span",{className:"block h-0.5 w-5 bg-current"})]})]})]}),e&&o.jsx("div",{className:"border-t border-white/20 bg-white/95 px-4 pb-4 pt-3 shadow-card dark:bg-slate-900/95 md:hidden",children:o.jsxs("nav",{className:"flex flex-col gap-2",children:[Gp.map(c=>o.jsx(Bc,{to:c.to,className:l,onClick:()=>n(!1),children:c.label},c.to)),o.jsx("button",{onClick:s,className:"btn-secondary mt-2 inline-flex items-center justify-center gap-2",children:r==="dark"?o.jsxs(o.Fragment,{children:[o.jsx(Kd,{className:"h-4 w-4"}),"Light mode"]}):o.jsxs(o.Fragment,{children:[o.jsx(Gd,{className:"h-4 w-4"}),"Dark mode"]})}),o.jsx("button",{onClick:a,className:"btn-cta mt-4 w-full",children:t?"View portfolio":"Get started"})]})})]})},sS=()=>o.jsx("footer",{className:"mt-16 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," StockBuddy. Educational purposes only  not financial advice."]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[o.jsx("span",{children:"Made for South African investors"}),o.jsx("span",{children:"FSCA awareness focused"})]})]})});function iS(){const[t,e]=w.useState(null),[n,r]=w.useState(!1);w.useEffect(()=>{const i=localStorage.getItem("stockbuddy_user_id");i&&(e(parseInt(i)),r(!0))},[]);const s=i=>{e(i),r(!0),localStorage.setItem("stockbuddy_user_id",i.toString())};return o.jsx(E1,{children:o.jsxs("div",{className:"app-shell min-h-screen flex flex-col",children:[o.jsx(rS,{isOnboarded:n}),o.jsx("main",{className:"flex-1",children:o.jsxs(w1,{children:[o.jsx(gt,{path:"/",element:o.jsx(hw,{onGetStarted:()=>{n||r(!1)},ctaPath:n?"/portfolio":"/onboarding",ctaLabel:n?"View Portfolio":"Get Started - It's Free"})}),o.jsx(gt,{path:"/onboarding",element:o.jsx(gw,{onComplete:s,userId:t})}),o.jsx(gt,{path:"/discover",element:o.jsx(zN,{})}),o.jsx(gt,{path:"/portfolio",element:o.jsx($N,{userId:t})}),o.jsx(gt,{path:"/news",element:o.jsx(JN,{userId:t})}),o.jsx(gt,{path:"/baskets",element:o.jsx(WN,{userId:t})}),o.jsx(gt,{path:"/trade/:symbol",element:o.jsx(VN,{userId:t})}),o.jsx(gt,{path:"/learn",element:o.jsx(HN,{})}),o.jsx(gt,{path:"/profile",element:o.jsx(UN,{userId:t})}),o.jsx(gt,{path:"/about",element:o.jsx(YN,{})}),o.jsx(gt,{path:"/archetypes",element:o.jsx(KN,{})}),o.jsx(gt,{path:"/terminology",element:o.jsx(QN,{})}),o.jsx(gt,{path:"/health",element:o.jsx(tS,{userId:t})})]})}),o.jsx(sS,{})]})})}Jc.createRoot(document.getElementById("root")).render(o.jsx(an.StrictMode,{children:o.jsx(FN,{children:o.jsx(iS,{})})}));
